/*! For license information please see react.min.js.LICENSE.txt */
(this.webpackChunkBetterMessages=this.webpackChunkBetterMessages||[]).push([["uppy-react"],{286:(t,i,a)=>{var y=a(89990);t.exports=function isObjectLike(t){return null!=t&&"object"==y(t)}},1352:(t,i,a)=>{t.exports=a(28834)()},3517:t=>{t.exports=function isShallowEqual(t,i){if(t===i)return!0;for(var a in t)if(!(a in i))return!1;for(var a in i)if(t[a]!==i[a])return!1;return!0}},4294:(t,i,a)=>{"use strict";var y=a(46518),w=a(97751),te=a(18745),re=a(79039),ae=a(14601),oe="AggregateError",le=w(oe),ue=!re(function(){return 1!==le([1]).errors[0]})&&re(function(){return 7!==le([1],oe,{cause:7}).cause});y({global:!0,constructor:!0,arity:2,forced:ue},{AggregateError:ae(oe,function(t){return function AggregateError(i,a){return te(t,this,arguments)}},ue,!0)})},13029:(t,i,a)=>{"use strict";a.r(i),a.d(i,{"default":()=>bi});a(52675),a(2008),a(51629),a(44114),a(67945),a(84185),a(83851),a(81278),a(79432),a(26099),a(60825),a(98992),a(54520),a(3949),a(23500);var y=a(51531),w=a(58237),te=a(84285),re=a(68119),ae=a(36858),oe=a(31061),le=a(55384),ue=a(1352),pe=a(18443),de=a(61792),he=(a(16280),a(89463),a(2259),a(76918),a(74423),a(25276),a(23418),a(64346),a(23792),a(62062),a(34782),a(15086),a(23288),a(62010),a(3362),a(27495),a(90906),a(38781),a(47764),a(81454),a(37550),a(62953),a(76031),a(23677));a(72712),a(94170),a(16034),a(8872);function emaFilter(t,i,a,y){return 0===a||t===i?t:0===y?i:t+(i-t)*Math.pow(2,-y/a)}const fe=function getTextDirection(t){for(var i;t&&!t.dir;)t=t.parentNode;return null==(i=t)?void 0:i.dir},ve="error",me="waiting",ge="preprocessing",_e="uploading",Pe="postprocessing",Fe="complete";var Se=a(36480),Ae=a(23546);function calculateProcessingProgress(t){for(var i,a=[],y="indeterminate",w=0,te=Object.values(t);w<te.length;w++){var re=te[w].progress,ae=re.preprocess,oe=re.postprocess;if(null==i&&(ae||oe)){var le=ae||oe;y=le.mode,i=le.message}"determinate"===(null==ae?void 0:ae.mode)&&a.push(ae.value),"determinate"===(null==oe?void 0:oe.mode)&&a.push(oe.value)}return{mode:y,message:i,value:a.reduce(function(t,i){return t+i/a.length},0)}}a(28706);var Ce=a(78029);a(68156);function prettyETA(t){var i=function secondsToTime(t){return{hours:Math.floor(t/3600)%24,minutes:Math.floor(t/60)%60,seconds:Math.floor(t%60)}}(t),a=0===i.hours?"":"".concat(i.hours,"h"),y=0===i.minutes?"":"".concat(0===i.hours?i.minutes:" ".concat(i.minutes.toString(10).padStart(2,"0")),"m"),w=0!==i.hours?"":"".concat(0===i.minutes?i.seconds:" ".concat(i.seconds.toString(10).padStart(2,"0")),"s");return"".concat(a).concat(y).concat(w)}var De=function renderDot(){return" ".concat("·"," ")};function UploadBtn(t){var i=t.newFiles,a=t.isUploadStarted,y=t.recoveredState,w=t.i18n,te=t.uploadState,re=t.isSomeGhost,ae=t.startUpload,oe=Ae("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":te===me},{"uppy-StatusBar-actionBtn--disabled":re}),le=w(i&&a&&!y?"uploadXNewFiles":"uploadXFiles",{smart_count:i});return(0,Se.h)("button",{type:"button",className:oe,"aria-label":w("uploadXFiles",{smart_count:i}),onClick:ae,disabled:re,"data-uppy-super-focusable":!0},le)}function RetryBtn(t){var i=t.i18n,a=t.uppy;return(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":i("retryUpload"),onClick:function onClick(){return a.retryAll().catch(function(){})},"data-uppy-super-focusable":!0,"data-cy":"retry"},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},(0,Se.h)("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),i("retry"))}function CancelBtn(t){var i=t.i18n,a=t.uppy;return(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:i("cancel"),"aria-label":i("cancel"),onClick:function onClick(){return a.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,Se.h)("g",{fill:"none",fillRule:"evenodd"},(0,Se.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,Se.h)("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function PauseResumeButton(t){var i=t.isAllPaused,a=t.i18n,y=t.isAllComplete,w=t.resumableUploads,te=t.uppy,re=a(i?"resume":"pause");return(0,Se.h)("button",{title:re,"aria-label":re,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function togglePauseResume(){y||(w?i?te.resumeAll():te.pauseAll():te.cancelAll())},"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},(0,Se.h)("g",{fill:"none",fillRule:"evenodd"},(0,Se.h)("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),(0,Se.h)("path",{fill:"#FFF",d:i?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function DoneBtn(t){var i=t.i18n,a=t.doneButtonHandler;return(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:a,"data-uppy-super-focusable":!0},i("done"))}function LoadingSpinner(){return(0,Se.h)("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},(0,Se.h)("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function ProgressBarProcessing(t){var i=t.progress,a=i.value,y=i.mode,w=i.message;return(0,Se.h)("div",{className:"uppy-StatusBar-content"},(0,Se.h)(LoadingSpinner,null),"determinate"===y?"".concat(Math.round(100*a),"% ").concat("·"," "):"",w)}function ProgressDetails(t){var i=t.numUploads,a=t.complete,y=t.totalUploadedSize,w=t.totalSize,te=t.totalETA,re=t.i18n,ae=i>1;return(0,Se.h)("div",{className:"uppy-StatusBar-statusSecondary"},ae&&re("filesUploadedOfTotal",{complete:a,smart_count:i}),(0,Se.h)("span",{className:"uppy-StatusBar-additionalInfo"},ae&&De(),re("dataUploadedOfTotal",{complete:Ce(y),total:Ce(w)}),De(),re("xTimeLeft",{time:prettyETA(te)})))}function FileUploadCount(t){var i=t.i18n,a=t.complete,y=t.numUploads;return(0,Se.h)("div",{className:"uppy-StatusBar-statusSecondary"},i("filesUploadedOfTotal",{complete:a,smart_count:y}))}function UploadNewlyAddedFiles(t){var i=t.i18n,a=t.newFiles,y=t.startUpload,w=Ae("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return(0,Se.h)("div",{className:"uppy-StatusBar-statusSecondary"},(0,Se.h)("div",{className:"uppy-StatusBar-statusSecondaryHint"},i("xMoreFilesAdded",{smart_count:a})),(0,Se.h)("button",{type:"button",className:w,"aria-label":i("uploadXFiles",{smart_count:a}),onClick:y},i("upload")))}function ProgressBarUploading(t){var i=t.i18n,a=t.supportsUploadProgress,y=t.totalProgress,w=t.showProgressDetails,te=t.isUploadStarted,re=t.isAllComplete,ae=t.isAllPaused,oe=t.newFiles,le=t.numUploads,ue=t.complete,pe=t.totalUploadedSize,de=t.totalSize,he=t.totalETA,fe=t.startUpload,ve=oe&&te;if(!te||re)return null;var me=i(ae?"paused":"uploading");return(0,Se.h)("div",{className:"uppy-StatusBar-content","aria-label":me,title:me},ae?null:(0,Se.h)(LoadingSpinner,null),(0,Se.h)("div",{className:"uppy-StatusBar-status"},(0,Se.h)("div",{className:"uppy-StatusBar-statusPrimary"},a?"".concat(me,": ").concat(y,"%"):me),function renderProgressDetails(){return ae||ve||!w?null:a?(0,Se.h)(ProgressDetails,{numUploads:le,complete:ue,totalUploadedSize:pe,totalSize:de,totalETA:he,i18n:i}):(0,Se.h)(FileUploadCount,{i18n:i,complete:ue,numUploads:le})}(),ve?(0,Se.h)(UploadNewlyAddedFiles,{i18n:i,newFiles:oe,startUpload:fe}):null))}function ProgressBarComplete(t){var i=t.i18n;return(0,Se.h)("div",{className:"uppy-StatusBar-content",role:"status",title:i("complete")},(0,Se.h)("div",{className:"uppy-StatusBar-status"},(0,Se.h)("div",{className:"uppy-StatusBar-statusPrimary"},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},(0,Se.h)("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),i("complete"))))}function ProgressBarError(t){var i=t.error,a=t.i18n,y=t.complete,w=t.numUploads;return(0,Se.h)("div",{className:"uppy-StatusBar-content",title:a("uploadFailed")},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,Se.h)("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),(0,Se.h)("div",{className:"uppy-StatusBar-status"},(0,Se.h)("div",{className:"uppy-StatusBar-statusPrimary"},a("uploadFailed"),(0,Se.h)("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":a("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function displayErrorAlert(){var t="".concat(a("uploadFailed")," \n\n ").concat(i);alert(t)},type:"button"},"?")),(0,Se.h)(FileUploadCount,{i18n:a,complete:y,numUploads:w})))}var xe=ve,Ue=me,Be=ge,Te=_e,Ee=Pe,Ie=Fe;function StatusBarUI_StatusBar(t){var i=t.newFiles,a=t.allowNewUpload,y=t.isUploadInProgress,w=t.isAllPaused,te=t.resumableUploads,re=t.error,ae=t.hideUploadButton,oe=t.hidePauseResumeButton,le=t.hideCancelButton,ue=t.hideRetryButton,pe=t.recoveredState,de=t.uploadState,he=t.totalProgress,fe=t.files,ve=t.supportsUploadProgress,me=t.hideAfterFinish,ge=t.isSomeGhost,_e=t.doneButtonHandler,Pe=t.isUploadStarted,Fe=t.i18n,Ce=t.startUpload,De=t.uppy,Le=t.isAllComplete,je=t.showProgressDetails,Ne=t.numUploads,Re=t.complete,Me=t.totalSize,ze=t.totalETA,Ve=t.totalUploadedSize;var He=function getProgressValue(){switch(de){case Ee:case Be:var t=calculateProcessingProgress(fe);return"determinate"===t.mode?100*t.value:he;case xe:return null;case Te:return ve?he:null;default:return he}}(),qe=function getIsHidden(){if(pe)return!1;switch(de){case Ue:return ae||0===i;case Ie:return me;default:return!1}}(),Ke=null!=He?He:100,We=!re&&i&&!y&&!w&&a&&!ae,Ge=!le&&de!==Ue&&de!==Ie,$e=te&&!oe&&de===Te,Xe=re&&!Le&&!ue,Qe=_e&&de===Ie,Ye=Ae("uppy-StatusBar-progress",{"is-indeterminate":function getIsIndeterminate(){switch(de){case Ee:case Be:return"indeterminate"===calculateProcessingProgress(fe).mode;case Te:return!ve;default:return!1}}()}),Je=Ae("uppy-StatusBar","is-".concat(de),{"has-ghosts":ge});return(0,Se.h)("div",{className:Je,"aria-hidden":qe},(0,Se.h)("div",{className:Ye,style:{width:"".concat(Ke,"%")},role:"progressbar","aria-label":"".concat(Ke,"%"),"aria-valuetext":"".concat(Ke,"%"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":He}),function(){switch(de){case Be:case Ee:return(0,Se.h)(ProgressBarProcessing,{progress:calculateProcessingProgress(fe)});case Ie:return(0,Se.h)(ProgressBarComplete,{i18n:Fe});case xe:return(0,Se.h)(ProgressBarError,{error:re,i18n:Fe,numUploads:Ne,complete:Re});case Te:return(0,Se.h)(ProgressBarUploading,{i18n:Fe,supportsUploadProgress:ve,totalProgress:he,showProgressDetails:je,isUploadStarted:Pe,isAllComplete:Le,isAllPaused:w,newFiles:i,numUploads:Ne,complete:Re,totalUploadedSize:Ve,totalSize:Me,totalETA:ze,startUpload:Ce});default:return null}}(),(0,Se.h)("div",{className:"uppy-StatusBar-actions"},pe||We?(0,Se.h)(UploadBtn,{newFiles:i,isUploadStarted:Pe,recoveredState:pe,i18n:Fe,isSomeGhost:ge,startUpload:Ce,uploadState:de}):null,Xe?(0,Se.h)(RetryBtn,{i18n:Fe,uppy:De}):null,$e?(0,Se.h)(PauseResumeButton,{isAllPaused:w,i18n:Fe,isAllComplete:Le,resumableUploads:te,uppy:De}):null,Ge?(0,Se.h)(CancelBtn,{i18n:Fe,uppy:De}):null,Qe?(0,Se.h)(DoneBtn,{i18n:Fe,doneButtonHandler:_e}):null))}StatusBarUI_StatusBar.defaultProps={doneButtonHandler:void 0,hideAfterFinish:!1,hideCancelButton:!1,hidePauseResumeButton:!1,hideRetryButton:!1,hideUploadButton:void 0,showProgressDetails:void 0};const Le={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var je=0;function _classPrivateFieldLooseKey(t){return"__private_"+je+++"_"+t}function getUploadingState(t,i,a,y){if(t)return ve;if(i)return Fe;if(a)return me;for(var w=me,te=Object.keys(y),re=0;re<te.length;re++){var ae=y[te[re]].progress;if(ae.uploadStarted&&!ae.uploadComplete)return _e;ae.preprocess&&(w=ge),ae.postprocess&&w!==ge&&(w=Pe)}return w}var Ne={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null},Re=_classPrivateFieldLooseKey("lastUpdateTime"),Me=_classPrivateFieldLooseKey("previousUploadedBytes"),ze=_classPrivateFieldLooseKey("previousSpeed"),Ve=_classPrivateFieldLooseKey("previousETA"),He=_classPrivateFieldLooseKey("computeSmoothETA"),qe=_classPrivateFieldLooseKey("onUploadStart"),Ke=function(t){function StatusBar(t,i){var a;return(0,w.A)(this,StatusBar),a=function _callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,StatusBar,[t,_objectSpread(_objectSpread({},Ne),i)]),Object.defineProperty(a,He,{value:_computeSmoothETA2}),Object.defineProperty(a,Re,{writable:!0,value:void 0}),Object.defineProperty(a,Me,{writable:!0,value:void 0}),Object.defineProperty(a,ze,{writable:!0,value:void 0}),Object.defineProperty(a,Ve,{writable:!0,value:void 0}),a.startUpload=function(){return a.uppy.upload().catch(function(){})},Object.defineProperty(a,qe,{writable:!0,value:function value(){var t=a.uppy.getState().recoveredState;if(_classPrivateFieldLooseBase(a,ze)[ze]=null,_classPrivateFieldLooseBase(a,Ve)[Ve]=null,t)return _classPrivateFieldLooseBase(a,Me)[Me]=Object.values(t.files).reduce(function(t,i){return t+i.progress.bytesUploaded},0),void a.uppy.emit("restore-confirmed");_classPrivateFieldLooseBase(a,Re)[Re]=performance.now(),_classPrivateFieldLooseBase(a,Me)[Me]=0}}),a.id=a.opts.id||"StatusBar",a.title="StatusBar",a.type="progressindicator",a.defaultLocale=Le,a.i18nInit(),a.render=a.render.bind(a),a.install=a.install.bind(a),a}return(0,oe.A)(StatusBar,t),(0,te.A)(StatusBar,[{key:"render",value:function render(t){var i=t.capabilities,a=t.files,y=t.allowNewUpload,w=t.totalProgress,te=t.error,re=t.recoveredState,ae=this.uppy.getObjectOfFilesPerState(),oe=ae.newFiles,le=ae.startedFiles,ue=ae.completeFiles,pe=ae.isUploadStarted,de=ae.isAllComplete,he=ae.isAllErrored,fe=ae.isAllPaused,ve=ae.isUploadInProgress,me=ae.isSomeGhost,ge=re?Object.values(a):oe,_e=!!i.resumableUploads,Pe=!1!==i.uploadProgress,Fe=0,Se=0;le.forEach(function(t){Fe+=t.progress.bytesTotal||0,Se+=t.progress.bytesUploaded||0});var Ae=_classPrivateFieldLooseBase(this,He)[He]({uploaded:Se,total:Fe,remaining:Fe-Se});return StatusBarUI_StatusBar({error:te,uploadState:getUploadingState(te,de,re,t.files||{}),allowNewUpload:y,totalProgress:w,totalSize:Fe,totalUploadedSize:Se,isAllComplete:!1,isAllPaused:fe,isAllErrored:he,isUploadStarted:pe,isUploadInProgress:ve,isSomeGhost:me,recoveredState:re,complete:ue.length,newFiles:ge.length,numUploads:le.length,totalETA:Ae,files:a,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:_e,supportsUploadProgress:Pe,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function onMount(){var t=this.el;fe(t)||(t.dir="ltr")}},{key:"install",value:function install(){var t=this.opts.target;t&&this.mount(t,this),this.uppy.on("upload",_classPrivateFieldLooseBase(this,qe)[qe]),_classPrivateFieldLooseBase(this,Re)[Re]=performance.now(),_classPrivateFieldLooseBase(this,Me)[Me]=this.uppy.getFiles().reduce(function(t,i){return t+i.progress.bytesUploaded},0)}},{key:"uninstall",value:function uninstall(){this.unmount(),this.uppy.off("upload",_classPrivateFieldLooseBase(this,qe)[qe])}}])}(he.A);function _computeSmoothETA2(t){var i;if(0===t.total||0===t.remaining)return 0;null!=(i=_classPrivateFieldLooseBase(this,Re))[Re]||(i[Re]=performance.now());var a,y=performance.now()-_classPrivateFieldLooseBase(this,Re)[Re];if(0===y)return Math.round((null!=(a=_classPrivateFieldLooseBase(this,Ve)[Ve])?a:0)/100)/10;var w,te=t.uploaded-_classPrivateFieldLooseBase(this,Me)[Me];if(_classPrivateFieldLooseBase(this,Me)[Me]=t.uploaded,te<=0)return Math.round((null!=(w=_classPrivateFieldLooseBase(this,Ve)[Ve])?w:0)/100)/10;var re=te/y,ae=null==_classPrivateFieldLooseBase(this,ze)[ze]?re:emaFilter(re,_classPrivateFieldLooseBase(this,ze)[ze],2e3,y);_classPrivateFieldLooseBase(this,ze)[ze]=ae;var oe=t.remaining/ae,le=Math.max(_classPrivateFieldLooseBase(this,Ve)[Ve]-y,0),ue=null==_classPrivateFieldLooseBase(this,Ve)[Ve]?oe:emaFilter(oe,le,2e3,y);return _classPrivateFieldLooseBase(this,Ve)[Ve]=ue,_classPrivateFieldLooseBase(this,Re)[Re]=performance.now(),Math.round(ue/100)/10}function FadeIn_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(FadeIn_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}Ke.VERSION="3.3.3";var We=function(t){function FadeIn(){var t;return(0,w.A)(this,FadeIn),t=function FadeIn_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,FadeIn_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,FadeIn,arguments),t.ref=(0,Se._3)(),t}return(0,oe.A)(FadeIn,t),(0,te.A)(FadeIn,[{key:"componentWillEnter",value:function componentWillEnter(t){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(t,300)}},{key:"componentWillLeave",value:function componentWillLeave(t){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(t,300)}},{key:"render",value:function render(){var t=this.props.children;return(0,Se.h)("div",{className:"uppy-Informer-animated",ref:this.ref},t)}}])}(Se.uA),Ge=a(80241),$e=a(35754),Xe=(a(54554),a(69085),a(5506),["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"]);function TransitionGroup_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(TransitionGroup_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function getKey(t,i){var a;return null!=(a=null==t?void 0:t.key)?a:i}function getChildMapping(t){for(var i={},a=0;a<t.length;a++){if(null!=t[a])i[getKey(t[a],a.toString(36))]=t[a]}return i}function mergeChildMappings(t,i){t=t||{},i=i||{};var a=function getValueForKey(a){return i.hasOwnProperty(a)?i[a]:t[a]},y={},w=[];for(var te in t)i.hasOwnProperty(te)?w.length&&(y[te]=w,w=[]):w.push(te);var re={};for(var ae in i){if(y.hasOwnProperty(ae))for(var oe=0;oe<y[ae].length;oe++){var le=y[ae][oe];re[y[ae][oe]]=a(le)}re[ae]=a(ae)}for(var ue=0;ue<w.length;ue++)re[w[ue]]=a(w[ue]);return re}var Qe=function(t){function TransitionGroup(t,i){var a;return(0,w.A)(this,TransitionGroup),a=function TransitionGroup_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,TransitionGroup_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,TransitionGroup,[t,i]),a.refs={},a.state={children:getChildMapping((0,Se.v2)((0,Se.v2)(a.props.children))||[])},a.performAppear=a.performAppear.bind(a),a.performEnter=a.performEnter.bind(a),a.performLeave=a.performLeave.bind(a),a}return(0,oe.A)(TransitionGroup,t),(0,te.A)(TransitionGroup,[{key:"componentWillMount",value:function componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function componentDidMount(){var t=this.state.children;for(var i in t)t[i]&&this.performAppear(i)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(t){var i,a=getChildMapping((0,Se.v2)(t.children)||[]),y=this.state.children;for(i in this.setState(function(t){return{children:mergeChildMappings(t.children,a)}}),a)if(a.hasOwnProperty(i)){var w=y&&y.hasOwnProperty(i);a[i]&&w&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):!a[i]||w||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in y)if(y.hasOwnProperty(i)){var te=a&&a.hasOwnProperty(i);!y[i]||te||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}}},{key:"componentDidUpdate",value:function componentDidUpdate(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var i=this.keysToLeave;this.keysToLeave=[],i.forEach(this.performLeave)}},{key:"_finishAbort",value:function _finishAbort(t){var i=this.keysToAbortLeave.indexOf(t);-1!==i&&this.keysToAbortLeave.splice(i,1)}},{key:"performAppear",value:function performAppear(t){this.currentlyTransitioningKeys[t]=!0;var i=this.refs[t];null!=i&&i.componentWillAppear?i.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}},{key:"_handleDoneAppearing",value:function _handleDoneAppearing(t){var i=this.refs[t];null!=i&&i.componentDidAppear&&i.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);var a=getChildMapping((0,Se.v2)(this.props.children)||[]);a&&a.hasOwnProperty(t)||this.performLeave(t)}},{key:"performEnter",value:function performEnter(t){this.currentlyTransitioningKeys[t]=!0;var i=this.refs[t];null!=i&&i.componentWillEnter?i.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}},{key:"_handleDoneEntering",value:function _handleDoneEntering(t){var i=this.refs[t];null!=i&&i.componentDidEnter&&i.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);var a=getChildMapping((0,Se.v2)(this.props.children)||[]);a&&a.hasOwnProperty(t)||this.performLeave(t)}},{key:"performLeave",value:function performLeave(t){if(-1===this.keysToAbortLeave.indexOf(t)){this.currentlyTransitioningKeys[t]=!0;var i=this.refs[t];null!=i&&i.componentWillLeave?i.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}}},{key:"_handleDoneLeaving",value:function _handleDoneLeaving(t){if(-1===this.keysToAbortLeave.indexOf(t)){var i=this.refs[t];null!=i&&i.componentDidLeave&&i.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var a=getChildMapping((0,Se.v2)(this.props.children)||[]);if(a&&a.hasOwnProperty(t))this.performEnter(t);else{var y=function TransitionGroup_assign(t,i){return Object.assign(t,i)}({},this.state.children);delete y[t],this.setState({children:y})}}}},{key:"render",value:function render(t,i){var a=this,y=t.childFactory,w=(t.transitionLeave,t.transitionName,t.transitionAppear,t.transitionEnter,t.transitionLeaveTimeout,t.transitionEnterTimeout,t.transitionAppearTimeout,t.component),te=(0,$e.A)(t,Xe),re=i.children,ae=Object.entries(re).map(function(t){var i=(0,Ge.A)(t,2),w=i[0],te=i[1];if(te){var re=function linkRef(t,i){var a=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return a[i]||(a[i]=function(a){t.refs[i]=a})}(a,w);return(0,Se.Ob)(y(te),{ref:re,key:w})}}).filter(Boolean);return(0,Se.h)(w,te,ae)}}])}(Se.uA);Qe.defaultProps={component:"span",childFactory:function identity(t){return t}};const Ye=Qe;function Informer_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Informer_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var Je=function(t){function Informer(t,i){var a;return(0,w.A)(this,Informer),a=function Informer_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,Informer_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,Informer,[t,i]),a.render=function(t){return(0,Se.h)("div",{className:"uppy uppy-Informer"},(0,Se.h)(Ye,null,t.info.map(function(t){return(0,Se.h)(We,{key:t.message},(0,Se.h)("p",{role:"alert"},t.message," ",t.details&&(0,Se.h)("span",{"aria-label":t.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function onClick(){return alert("".concat(t.message," \n\n ").concat(t.details))}},"?")))})))},a.type="progressindicator",a.id=a.opts.id||"Informer",a.title="Informer",a}return(0,oe.A)(Informer,t),(0,te.A)(Informer,[{key:"install",value:function install(){var t=this.opts.target;t&&this.mount(t,this)}}])}(he.A);Je.VERSION="3.1.0";a(33748),a(3296),a(27208),a(48408),a(54743),a(11745),a(38309),a(21489),a(48140),a(81630),a(72170),a(75044),a(69539),a(31694),a(89955),a(21903),a(91134),a(33206),a(44496),a(66651),a(12887),a(19369),a(66812),a(8995),a(31575),a(36072),a(88747),a(28845),a(29423),a(57301),a(373),a(86614),a(41405),a(33684),a(43250),a(10149),a(24082),a(2945),a(55815),a(64979),a(79739);var Ze=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;const et=function dataURItoBlob(t,i,a){var y,w,te,re=Ze.exec(t),ae=null!=(y=null!=(w=i.mimeType)?w:null==re?void 0:re[1])?y:"plain/text";if(null!=(null==re?void 0:re[2])){for(var oe=atob(decodeURIComponent(re[3])),le=new Uint8Array(oe.length),ue=0;ue<oe.length;ue++)le[ue]=oe.charCodeAt(ue);te=[le]}else null!=(null==re?void 0:re[3])&&(te=[decodeURIComponent(re[3])]);return a?new File(te,i.name||"",{type:ae}):new Blob(te,{type:ae})};a(11392);function isObjectURL(t){return t.startsWith("blob:")}function isPreviewSupported(t){return!!t&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t)}var tt=a(8498);function e(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}var rt="undefined"!=typeof self?self:global;const nt="undefined"!=typeof navigator,it=nt&&"undefined"==typeof HTMLImageElement,at=!("undefined"==typeof global||void 0===tt||!tt.versions||!tt.versions.node),ot=rt.Buffer,st=!!ot,h=t=>void 0!==t;function f(t){return void 0===t||(t instanceof Map?0===t.size:0===Object.values(t).filter(h).length)}function l(t){let i=new Error(t);throw delete i.stack,i}function o(t){let i=function(t){let i=0;return t.ifd0.enabled&&(i+=1024),t.exif.enabled&&(i+=2048),t.makerNote&&(i+=2048),t.userComment&&(i+=1024),t.gps.enabled&&(i+=512),t.interop.enabled&&(i+=100),t.ifd1.enabled&&(i+=1024),i+2048}(t);return t.jfif.enabled&&(i+=50),t.xmp.enabled&&(i+=2e4),t.iptc.enabled&&(i+=14e3),t.icc.enabled&&(i+=6e3),i}const u=t=>String.fromCharCode.apply(null,t),lt="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;class c{static from(t,i){return t instanceof this&&t.le===i?t:new c(t,void 0,void 0,i)}constructor(t,i=0,a,y){if("boolean"==typeof y&&(this.le=y),Array.isArray(t)&&(t=new Uint8Array(t)),0===t)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){void 0===a&&(a=t.byteLength-i);let y=new DataView(t,i,a);this._swapDataView(y)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof c){void 0===a&&(a=t.byteLength-i),(i+=t.byteOffset)+a>t.byteOffset+t.byteLength&&l("Creating view outside of available memory in ArrayBuffer");let y=new DataView(t.buffer,i,a);this._swapDataView(y)}else if("number"==typeof t){let i=new DataView(new ArrayBuffer(t));this._swapDataView(i)}else l("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,i,a=c){return t instanceof DataView||t instanceof c?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||l("BufferView.set(): Invalid data argument."),this.toUint8().set(t,i),new a(this,i,t.byteLength)}subarray(t,i){return i=i||this._lengthToEnd(t),new c(this,t,i)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,i){return new Uint8Array(this.buffer,this.byteOffset+t,i)}getString(t=0,i=this.byteLength){return a=this.getUint8Array(t,i),lt?lt.decode(a):st?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(u(a)));var a}getLatin1String(t=0,i=this.byteLength){let a=this.getUint8Array(t,i);return u(a)}getUnicodeString(t=0,i=this.byteLength){const a=[];for(let y=0;y<i&&t+y<this.byteLength;y+=2)a.push(this.getUint16(t+y));return u(a)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,i=this.le){return this.dataView.getInt16(t,i)}getInt32(t,i=this.le){return this.dataView.getInt32(t,i)}getUint16(t,i=this.le){return this.dataView.getUint16(t,i)}getUint32(t,i=this.le){return this.dataView.getUint32(t,i)}getFloat32(t,i=this.le){return this.dataView.getFloat32(t,i)}getFloat64(t,i=this.le){return this.dataView.getFloat64(t,i)}getFloat(t,i=this.le){return this.dataView.getFloat32(t,i)}getDouble(t,i=this.le){return this.dataView.getFloat64(t,i)}getUintBytes(t,i,a){switch(i){case 1:return this.getUint8(t,a);case 2:return this.getUint16(t,a);case 4:return this.getUint32(t,a);case 8:return this.getUint64&&this.getUint64(t,a)}}getUint(t,i,a){switch(i){case 8:return this.getUint8(t,a);case 16:return this.getUint16(t,a);case 32:return this.getUint32(t,a);case 64:return this.getUint64&&this.getUint64(t,a)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function p(t,i){l(`${t} '${i}' was not loaded, try using full build of exifr.`)}class g extends Map{constructor(t){super(),this.kind=t}get(t,i){return this.has(t)||p(this.kind,t),i&&(t in i||function(t,i){l(`Unknown ${t} '${i}'.`)}(this.kind,t),i[t].enabled||p(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}}var ut=new g("file parser"),ct=new g("segment parser"),pt=new g("file reader");let dt=rt.fetch;function k(t,i){return(a=t).startsWith("data:")||a.length>1e4?v(t,i,"base64"):at&&t.includes("://")?O(t,i,"url",S):at?v(t,i,"fs"):nt?O(t,i,"url",S):void l("Invalid input argument");var a}async function O(t,i,a,y){return pt.has(a)?v(t,i,a):y?async function(t,i){let a=await i(t);return new c(a)}(t,y):void l(`Parser ${a} is not loaded`)}async function v(t,i,a){let y=new(pt.get(a))(t,i);return await y.read(),y}const S=t=>dt(t).then(t=>t.arrayBuffer()),A=t=>new Promise((i,a)=>{let y=new FileReader;y.onloadend=()=>i(y.result||new ArrayBuffer),y.onerror=a,y.readAsArrayBuffer(t)});class U extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function x(t,i,a){let y=new U;for(let[t,i]of a)y.set(t,i);if(Array.isArray(i))for(let a of i)t.set(a,y);else t.set(i,y);return y}function C(t,i,a){let y,w=t.get(i);for(y of a)w.set(y[0],y[1])}const ht=new Map,ft=new Map,vt=new Map,mt=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],yt=["jfif","xmp","icc","iptc","ihdr"],gt=["tiff",...yt],bt=["ifd0","ifd1","exif","gps","interop"],_t=[...gt,...bt],wt=["makerNote","userComment"],Pt=["translateKeys","translateValues","reviveValues","multiSegment"],Ft=[...Pt,"sanitize","mergeOutput","silentErrors"];class _{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class D extends _{get needed(){return this.enabled||this.deps.size>0}constructor(t,i,a,y){if(super(),e(this,"enabled",!1),e(this,"skip",new Set),e(this,"pick",new Set),e(this,"deps",new Set),e(this,"translateKeys",!1),e(this,"translateValues",!1),e(this,"reviveValues",!1),this.key=t,this.enabled=i,this.parse=this.enabled,this.applyInheritables(y),this.canBeFiltered=bt.includes(t),this.canBeFiltered&&(this.dict=ht.get(t)),void 0!==a)if(Array.isArray(a))this.parse=this.enabled=!0,this.canBeFiltered&&a.length>0&&this.translateTagSet(a,this.pick);else if("object"==typeof a){if(this.enabled=!0,this.parse=!1!==a.parse,this.canBeFiltered){let{pick:t,skip:i}=a;t&&t.length>0&&this.translateTagSet(t,this.pick),i&&i.length>0&&this.translateTagSet(i,this.skip)}this.applyInheritables(a)}else!0===a||!1===a?this.parse=this.enabled=a:l(`Invalid options argument: ${a}`)}applyInheritables(t){let i,a;for(i of Pt)a=t[i],void 0!==a&&(this[i]=a)}translateTagSet(t,i){if(this.dict){let a,y,{tagKeys:w,tagValues:te}=this.dict;for(a of t)"string"==typeof a?(y=te.indexOf(a),-1===y&&(y=w.indexOf(Number(a))),-1!==y&&i.add(Number(w[y]))):i.add(a)}else for(let a of t)i.add(a)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,X(this.pick,this.deps)):this.enabled&&this.pick.size>0&&X(this.pick,this.deps)}}var St={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},kt=new Map;class R extends _{static useCached(t){let i=kt.get(t);return void 0!==i||(i=new this(t),kt.set(t,i)),i}constructor(t){super(),!0===t?this.setupFromTrue():void 0===t?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):"object"==typeof t?this.setupFromObject(t):l(`Invalid options argument ${t}`),void 0===this.firstChunkSize&&(this.firstChunkSize=nt?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of mt)this[t]=St[t];for(t of Ft)this[t]=St[t];for(t of wt)this[t]=St[t];for(t of _t)this[t]=new D(t,St[t],void 0,this)}setupFromTrue(){let t;for(t of mt)this[t]=St[t];for(t of Ft)this[t]=St[t];for(t of wt)this[t]=!0;for(t of _t)this[t]=new D(t,!0,void 0,this)}setupFromArray(t){let i;for(i of mt)this[i]=St[i];for(i of Ft)this[i]=St[i];for(i of wt)this[i]=St[i];for(i of _t)this[i]=new D(i,!1,void 0,this);this.setupGlobalFilters(t,void 0,bt)}setupFromObject(t){let i;for(i of(bt.ifd0=bt.ifd0||bt.image,bt.ifd1=bt.ifd1||bt.thumbnail,Object.assign(this,t),mt))this[i]=W(t[i],St[i]);for(i of Ft)this[i]=W(t[i],St[i]);for(i of wt)this[i]=W(t[i],St[i]);for(i of gt)this[i]=new D(i,St[i],t[i],this);for(i of bt)this[i]=new D(i,St[i],t[i],this.tiff);this.setupGlobalFilters(t.pick,t.skip,bt,_t),!0===t.tiff?this.batchEnableWithBool(bt,!0):!1===t.tiff?this.batchEnableWithUserValue(bt,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,bt):"object"==typeof t.tiff&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,bt)}batchEnableWithBool(t,i){for(let a of t)this[a].enabled=i}batchEnableWithUserValue(t,i){for(let a of t){let t=i[a];this[a].enabled=!1!==t&&void 0!==t}}setupGlobalFilters(t,i,a,y=a){if(t&&t.length){for(let t of y)this[t].enabled=!1;let i=K(t,a);for(let[t,a]of i)X(this[t].pick,a),this[t].enabled=!0}else if(i&&i.length){let t=K(i,a);for(let[i,a]of t)X(this[i].skip,a)}}filterNestedSegmentTags(){let{ifd0:t,exif:i,xmp:a,iptc:y,icc:w}=this;this.makerNote?i.deps.add(37500):i.skip.add(37500),this.userComment?i.deps.add(37510):i.skip.add(37510),a.enabled||t.skip.add(700),y.enabled||t.skip.add(33723),w.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:i,gps:a,interop:y}=this;y.needed&&(i.deps.add(40965),t.deps.add(40965)),i.needed&&t.deps.add(34665),a.needed&&t.deps.add(34853),this.tiff.enabled=bt.some(t=>!0===this[t].enabled)||this.makerNote||this.userComment;for(let t of bt)this[t].finalizeFilters()}get onlyTiff(){return!yt.map(t=>this[t].enabled).some(t=>!0===t)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of gt)this[t].enabled&&!ct.has(t)&&p("segment parser",t)}}function K(t,i){let a,y,w,te,re=[];for(w of i){for(te of(a=ht.get(w),y=[],a))(t.includes(te[0])||t.includes(te[1]))&&y.push(te[0]);y.length&&re.push([w,y])}return re}function W(t,i){return void 0!==t?t:void 0!==i?i:void 0}function X(t,i){for(let a of i)t.add(a)}e(R,"default",St);class H{constructor(t){e(this,"parsers",{}),e(this,"output",{}),e(this,"errors",[]),e(this,"pushToErrors",t=>this.errors.push(t)),this.options=R.useCached(t)}async read(t){this.file=await function(t,i){return"string"==typeof t?k(t,i):nt&&!it&&t instanceof HTMLImageElement?k(t.src,i):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new c(t):nt&&t instanceof Blob?O(t,i,"blob",A):void l("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,i=t.getUint16(0);for(let[a,y]of ut)if(y.canHandle(t,i))return this.fileParser=new y(this.options,this.file,this.parsers),t[a]=!0;this.file.close&&this.file.close(),l("Unknown file format")}async parse(){let{output:t,errors:i}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),i.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&i.length>0&&(t.errors=i),f(a=t)?void 0:a;var a}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let i=Object.values(this.parsers).map(async i=>{let a=await i.parse();i.assignToOutput(t,a)});this.options.silentErrors&&(i=i.map(t=>t.catch(this.pushToErrors))),await Promise.all(i)}async extractThumbnail(){this.setup();let{options:t,file:i}=this,a=ct.get("tiff",t);var y;if(i.tiff?y={start:0,type:"tiff"}:i.jpeg&&(y=await this.fileParser.getOrFindSegment("tiff")),void 0===y)return;let w=await this.fileParser.ensureSegmentChunk(y),te=this.parsers.tiff=new a(w,t,i),re=await te.extractThumbnail();return i.close&&i.close(),re}}async function Y(t,i){let a=new H(i);return await a.read(t),a.parse()}var At=Object.freeze({__proto__:null,parse:Y,Exifr:H,fileParsers:ut,segmentParsers:ct,fileReaders:pt,tagKeys:ht,tagValues:ft,tagRevivers:vt,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:mt,otherSegments:yt,segments:gt,tiffBlocks:bt,segmentsAndBlocks:_t,tiffExtractables:wt,inheritables:Pt,allFormatters:Ft,Options:R});class J{static findPosition(t,i){let a=t.getUint16(i+2)+2,y="function"==typeof this.headerLength?this.headerLength(t,i,a):this.headerLength,w=i+y,te=a-y;return{offset:i,length:a,headerLength:y,start:w,size:te,end:w+te}}static parse(t,i={}){return new this(t,new R({[this.type]:i}),t).parse()}normalizeInput(t){return t instanceof c?t:new c(t)}constructor(t,i={},a){e(this,"errors",[]),e(this,"raw",new Map),e(this,"handleError",t=>{if(!this.options.silentErrors)throw t;this.errors.push(t.message)}),this.chunk=this.normalizeInput(t),this.file=a,this.type=this.constructor.type,this.globalOptions=this.options=i,this.localOptions=i[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,i){let a=vt.get(i),y=ft.get(i),w=ht.get(i),te=this.options[i],re=te.reviveValues&&!!a,ae=te.translateValues&&!!y,oe=te.translateKeys&&!!w,le={};for(let[i,te]of t)re&&a.has(i)?te=a.get(i)(te):ae&&y.has(i)&&(te=this.translateValue(te,y.get(i))),oe&&w.has(i)&&(i=w.get(i)||i),le[i]=te;return le}translateValue(t,i){return i[t]||i.DEFAULT||t}assignToOutput(t,i){this.assignObjectToOutput(t,this.constructor.type,i)}assignObjectToOutput(t,i,a){if(this.globalOptions.mergeOutput)return Object.assign(t,a);t[i]?Object.assign(t[i],a):t[i]=a}}function q(t){return 192===t||194===t||196===t||219===t||221===t||218===t||254===t}function Q(t){return t>=224&&t<=239}function Z(t,i,a){for(let[y,w]of ct)if(w.canHandle(t,i,a))return y}e(J,"headerLength",4),e(J,"type",void 0),e(J,"multiSegment",!1),e(J,"canHandle",()=>!1);class ee extends class{constructor(t,i,a){e(this,"errors",[]),e(this,"ensureSegmentChunk",async t=>{let i=t.start,a=t.size||65536;if(this.file.chunked)if(this.file.available(i,a))t.chunk=this.file.subarray(i,a);else try{t.chunk=await this.file.readChunk(i,a)}catch(i){l(`Couldn't read segment: ${JSON.stringify(t)}. ${i.message}`)}else this.file.byteLength>i+a?t.chunk=this.file.subarray(i,a):void 0===t.size?t.chunk=this.file.subarray(i):l("Segment unreachable: "+JSON.stringify(t));return t.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=i,this.parsers=a}injectSegment(t,i){this.options[t].enabled&&this.createParser(t,i)}createParser(t,i){let a=new(ct.get(t))(i,this.options,this.file);return this.parsers[t]=a}createParsers(t){for(let i of t){let{type:t,chunk:a}=i,y=this.options[t];if(y&&y.enabled){let i=this.parsers[t];i&&i.append||i||this.createParser(t,a)}}}async readSegments(t){let i=t.map(this.ensureSegmentChunk);await Promise.all(i)}}{constructor(...t){super(...t),e(this,"appSegments",[]),e(this,"jpegSegments",[]),e(this,"unknownSegments",[])}static canHandle(t,i){return 65496===i}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){!0===t?(this.findAll=!0,this.wanted=new Set(ct.keyList())):(t=void 0===t?ct.keyList().filter(t=>this.options[t].enabled):t.filter(t=>this.options[t].enabled&&ct.has(t)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,i){this.setupSegmentFinderArgs(i);let{file:a,findAll:y,wanted:w,remaining:te}=this;if(!y&&this.file.chunked&&(y=Array.from(w).some(t=>{let i=ct.get(t),a=this.options[t];return i.multiSegment&&a.multiSegment}),y&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,a.byteLength),!this.options.onlyTiff&&a.chunked){let i=!1;for(;te.size>0&&!i&&(a.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:y}=a,w=this.appSegments.some(t=>!this.file.available(t.offset||t.start,t.length||t.size));if(i=t>y&&!w?!await a.readNextChunk(t):!await a.readNextChunk(y),void 0===(t=this.findAppSegmentsInRange(t,a.byteLength)))return}}}findAppSegmentsInRange(t,i){i-=2;let a,y,w,te,re,ae,{file:oe,findAll:le,wanted:ue,remaining:pe,options:de}=this;for(;t<i;t++)if(255===oe.getUint8(t))if(a=oe.getUint8(t+1),Q(a)){if(y=oe.getUint16(t+2),w=Z(oe,t,y),w&&ue.has(w)&&(te=ct.get(w),re=te.findPosition(oe,t),ae=de[w],re.type=w,this.appSegments.push(re),!le&&(te.multiSegment&&ae.multiSegment?(this.unfinishedMultiSegment=re.chunkNumber<re.chunkCount,this.unfinishedMultiSegment||pe.delete(w)):pe.delete(w),0===pe.size)))break;de.recordUnknownSegments&&(re=J.findPosition(oe,t),re.marker=a,this.unknownSegments.push(re)),t+=y+1}else if(q(a)){if(y=oe.getUint16(t+2),218===a&&!1!==de.stopAfterSos)return;de.recordJpegSegments&&this.jpegSegments.push({offset:t,length:y,marker:a}),t+=y+1}return t}mergeMultiSegments(){if(!this.appSegments.some(t=>t.multiSegment))return;let t=function(t){let i,a,y,w=new Map;for(let te=0;te<t.length;te++)i=t[te],a=i.type,w.has(a)?y=w.get(a):w.set(a,y=[]),y.push(i);return Array.from(w)}(this.appSegments);this.mergedAppSegments=t.map(([t,i])=>{let a=ct.get(t,this.options);return a.handleMultiSegments?{type:t,chunk:a.handleMultiSegments(i)}:i[0]})}getSegment(t){return this.appSegments.find(i=>i.type===t)}async getOrFindSegment(t){let i=this.getSegment(t);return void 0===i&&(await this.findAppSegments(0,[t]),i=this.getSegment(t)),i}}e(ee,"type","jpeg"),ut.set("jpeg",ee);const Ct=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class se extends J{parseHeader(){var t=this.chunk.getUint16();18761===t?this.le=!0:19789===t&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,i,a=new Map){let{pick:y,skip:w}=this.options[i];y=new Set(y);let te=y.size>0,re=0===w.size,ae=this.chunk.getUint16(t);t+=2;for(let oe=0;oe<ae;oe++){let ae=this.chunk.getUint16(t);if(te){if(y.has(ae)&&(a.set(ae,this.parseTag(t,ae,i)),y.delete(ae),0===y.size))break}else!re&&w.has(ae)||a.set(ae,this.parseTag(t,ae,i));t+=12}return a}parseTag(t,i,a){let{chunk:y}=this,w=y.getUint16(t+2),te=y.getUint32(t+4),re=Ct[w];if(re*te<=4?t+=8:t=y.getUint32(t+8),(w<1||w>13)&&l(`Invalid TIFF value type. block: ${a.toUpperCase()}, tag: ${i.toString(16)}, type: ${w}, offset ${t}`),t>y.byteLength&&l(`Invalid TIFF value offset. block: ${a.toUpperCase()}, tag: ${i.toString(16)}, type: ${w}, offset ${t} is outside of chunk size ${y.byteLength}`),1===w)return y.getUint8Array(t,te);if(2===w)return""===(ae=function(t){for(;t.endsWith("\0");)t=t.slice(0,-1);return t}(ae=y.getString(t,te)).trim())?void 0:ae;var ae;if(7===w)return y.getUint8Array(t,te);if(1===te)return this.parseTagValue(w,t);{let i=new(function(t){switch(t){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(w))(te),a=re;for(let y=0;y<te;y++)i[y]=this.parseTagValue(w,t),t+=a;return i}}parseTagValue(t,i){let{chunk:a}=this;switch(t){case 1:return a.getUint8(i);case 3:return a.getUint16(i);case 4:case 13:return a.getUint32(i);case 5:return a.getUint32(i)/a.getUint32(i+4);case 6:return a.getInt8(i);case 8:return a.getInt16(i);case 9:return a.getInt32(i);case 10:return a.getInt32(i)/a.getInt32(i+4);case 11:return a.getFloat(i);case 12:return a.getDouble(i);default:l(`Invalid tiff type ${t}`)}}}class ie extends se{static canHandle(t,i){return 225===t.getUint8(i+1)&&1165519206===t.getUint32(i+4)&&0===t.getUint16(i+8)}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let i=this[t]();return void 0!==i.catch&&(i=i.catch(this.handleError)),i}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),i=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(i)}}parseBlock(t,i){let a=new Map;return this[i]=a,this.parseTags(t,i,a),a}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&l("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&l(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,o(this.options));let i=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==i.size?(this.exifOffset=i.get(34665),this.interopOffset=i.get(40965),this.gpsOffset=i.get(34853),this.xmp=i.get(700),this.iptc=i.get(33723),this.icc=i.get(34675),this.options.sanitize&&(i.delete(34665),i.delete(40965),i.delete(34853),i.delete(700),i.delete(33723),i.delete(34675)),i):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,o(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,i){let a=t.get(i);a&&1===a.length&&t.set(i,a[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",ne(...t.get(2),t.get(1))),t.set("longitude",ne(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let t=this.ifd1.get(513),i=this.ifd1.get(514);return this.chunk.getUint8Array(t,i)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,i,a,y={};for(i of bt)if(t=this[i],!f(t))if(a=this.canTranslate?this.translateBlock(t,i):Object.fromEntries(t),this.options.mergeOutput){if("ifd1"===i)continue;Object.assign(y,a)}else y[i]=a;return this.makerNote&&(y.makerNote=this.makerNote),this.userComment&&(y.userComment=this.userComment),y}assignToOutput(t,i){if(this.globalOptions.mergeOutput)Object.assign(t,i);else for(let[a,y]of Object.entries(i))this.assignObjectToOutput(t,a,y)}}function ne(t,i,a,y){var w=t+i/60+a/3600;return"S"!==y&&"W"!==y||(w*=-1),w}e(ie,"type","tiff"),e(ie,"headerLength",10),ct.set("tiff",ie);Object.freeze({__proto__:null,default:At,Exifr:H,fileParsers:ut,segmentParsers:ct,fileReaders:pt,tagKeys:ht,tagValues:ft,tagRevivers:vt,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:mt,otherSegments:yt,segments:gt,tiffBlocks:bt,segmentsAndBlocks:_t,tiffExtractables:wt,inheritables:Pt,allFormatters:Ft,Options:R,parse:Y});const Ot={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Ot,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Ot,{tiff:!1,ifd1:!0,mergeOutput:!1});const Dt=Object.assign({},Ot,{firstChunkSize:4e4,ifd0:[274]});const xt=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Ut=!0,Bt=!0;if("object"==typeof navigator){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let i=t.match(/OS (\d+)_(\d+)/);if(i){let[,t,a]=i,y=Number(t)+.1*Number(a);Ut=y<13.4,Bt=!1}}else if(t.includes("OS X 10")){let[,i]=t.match(/OS X 10[_.](\d+)/);Ut=Bt=Number(i)<15}if(t.includes("Chrome/")){let[,i]=t.match(/Chrome\/(\d+)/);Ut=Bt=Number(i)<81}else if(t.includes("Firefox/")){let[,i]=t.match(/Firefox\/(\d+)/);Ut=Bt=Number(i)<77}}async function ye(t){let i=await async function ce(t){let i=new H(Dt);await i.read(t);let a=await i.parse();if(a&&a.ifd0)return a.ifd0[274]}(t);return Object.assign({canvas:Ut,css:Bt},xt[i])}class be extends c{constructor(...t){super(...t),e(this,"ranges",new we),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(t,i,a){if(0===t&&0===this.byteLength&&a){let t=new DataView(a.buffer||a,a.byteOffset,a.byteLength);this._swapDataView(t)}else{let a=t+i;if(a>this.byteLength){let{dataView:t}=this._extend(a);this._swapDataView(t)}}}_extend(t){let i;i=st?ot.allocUnsafe(t):new Uint8Array(t);let a=new DataView(i.buffer,i.byteOffset,i.byteLength);return i.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:i,dataView:a}}subarray(t,i,a=!1){return i=i||this._lengthToEnd(t),a&&this._tryExtend(t,i),this.ranges.add(t,i),super.subarray(t,i)}set(t,i,a=!1){a&&this._tryExtend(i,t.byteLength,t);let y=super.set(t,i);return this.ranges.add(i,y.byteLength),y}async ensureChunk(t,i){this.chunked&&(this.ranges.available(t,i)||await this.readChunk(t,i))}available(t,i){return this.ranges.available(t,i)}}class we{constructor(){e(this,"list",[])}get length(){return this.list.length}add(t,i,a=0){let y=t+i,w=this.list.filter(i=>ke(t,i.offset,y)||ke(t,i.end,y));if(w.length>0){t=Math.min(t,...w.map(t=>t.offset)),y=Math.max(y,...w.map(t=>t.end)),i=y-t;let a=w.shift();a.offset=t,a.length=i,a.end=y,this.list=this.list.filter(t=>!w.includes(t))}else this.list.push({offset:t,length:i,end:y})}available(t,i){let a=t+i;return this.list.some(i=>i.offset<=t&&a<=i.end)}}function ke(t,i,a){return t<=i&&i<=a}class Oe extends be{constructor(t,i){super(0),e(this,"chunksRead",0),this.input=t,this.options=i}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let i=this.options.chunkSize,a=await this.readChunk(t,i);return!!a&&a.byteLength===i}async readChunk(t,i){if(this.chunksRead++,0!==(i=this.safeWrapAddress(t,i)))return this._readChunk(t,i)}safeWrapAddress(t,i){return void 0!==this.size&&t+i>this.size?Math.max(0,this.size-t):i}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}pt.set("blob",class extends Oe{async readWhole(){this.chunked=!1;let t=await A(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,i){let a=i?t+i:void 0,y=this.input.slice(t,a),w=await A(y);return this.set(w,t,!0)}});const Tt={strings:{generatingThumbnails:"Generating thumbnails..."}};function lib_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function lib_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?lib_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):lib_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function lib_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lib_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var Et={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1},It=function(t){function ThumbnailGenerator(t,i){var a;if((0,w.A)(this,ThumbnailGenerator),a=function lib_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,lib_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,ThumbnailGenerator,[t,lib_objectSpread(lib_objectSpread({},Et),i)]),a.onFileAdded=function(t){!t.preview&&t.data&&isPreviewSupported(t.type)&&!t.isRemote&&a.addToQueue(t.id)},a.onCancelRequest=function(t){var i=a.queue.indexOf(t.id);-1!==i&&a.queue.splice(i,1)},a.onFileRemoved=function(t){var i=a.queue.indexOf(t.id);-1!==i&&a.queue.splice(i,1),t.preview&&isObjectURL(t.preview)&&URL.revokeObjectURL(t.preview)},a.onRestored=function(){a.uppy.getFiles().filter(function(t){return t.isRestored}).forEach(function(t){t.preview&&!isObjectURL(t.preview)||a.addToQueue(t.id)})},a.onAllFilesRemoved=function(){a.queue=[]},a.waitUntilAllProcessed=function(t){t.forEach(function(t){var i=a.uppy.getFile(t);a.uppy.emit("preprocess-progress",i,{mode:"indeterminate",message:a.i18n("generatingThumbnails")})});var i=function emitPreprocessCompleteForAll(){t.forEach(function(t){var i=a.uppy.getFile(t);a.uppy.emit("preprocess-complete",i)})};return new Promise(function(t){a.queueProcessing?a.uppy.once("thumbnail:all-generated",function(){i(),t()}):(i(),t())})},a.type="modifier",a.id=a.opts.id||"ThumbnailGenerator",a.title="Thumbnail Generator",a.queue=[],a.queueProcessing=!1,a.defaultThumbnailDimension=200,a.thumbnailType=a.opts.thumbnailType,a.defaultLocale=Tt,a.i18nInit(),a.opts.lazy&&a.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return a}return(0,oe.A)(ThumbnailGenerator,t),(0,te.A)(ThumbnailGenerator,[{key:"createThumbnail",value:function createThumbnail(t,i,a){var y=this,w=URL.createObjectURL(t.data),te=new Promise(function(t,i){var a=new Image;a.src=w,a.addEventListener("load",function(){URL.revokeObjectURL(w),t(a)}),a.addEventListener("error",function(t){URL.revokeObjectURL(w),i(t.error||new Error("Could not create thumbnail"))})}),re=ye(t.data).catch(function(){return 1});return Promise.all([te,re]).then(function(t){var w=(0,Ge.A)(t,2),te=w[0],re=w[1],ae=y.getProportionalDimensions(te,i,a,re.deg),oe=function rotateImage(t,i){var a=t.width,y=t.height;90!==i.deg&&270!==i.deg||(a=t.height,y=t.width);var w=document.createElement("canvas");w.width=a,w.height=y;var te=w.getContext("2d");return te.translate(a/2,y/2),i.canvas&&(te.rotate(i.rad),te.scale(i.scaleX,i.scaleY)),te.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),w}(te,re);return function canvasToBlob(t,i,a){try{t.getContext("2d").getImageData(0,0,1,1)}catch(t){if(18===t.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(function(y){t.toBlob(y,i,a)}).then(function(t){if(null===t)throw new Error("cannot read image, probably an svg with external resources");return t}):Promise.resolve().then(function(){return et(t.toDataURL(i,a),{})}).then(function(t){if(null===t)throw new Error("could not extract blob, probably an old browser");return t})}(y.resizeImage(oe,ae.width,ae.height),y.thumbnailType,80)}).then(function(t){return URL.createObjectURL(t)})}},{key:"getProportionalDimensions",value:function getProportionalDimensions(t,i,a,y){var w=t.width/t.height;return 90!==y&&270!==y||(w=t.height/t.width),null!=i?{width:i,height:Math.round(i/w)}:null!=a?{width:Math.round(a*w),height:a}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/w)}}},{key:"resizeImage",value:function resizeImage(t,i,a){var y=function protect(t){var i=t.width/t.height,a=5e6,y=4096,w=Math.floor(Math.sqrt(a*i)),te=Math.floor(a/Math.sqrt(a*i));if(w>y&&(w=y,te=Math.round(w/i)),te>y&&(te=y,w=Math.round(i*te)),t.width>w){var re=document.createElement("canvas");return re.width=w,re.height=te,re.getContext("2d").drawImage(t,0,0,w,te),re}return t}(t),w=Math.ceil(Math.log2(y.width/i));w<1&&(w=1);for(var te=i*Math.pow(2,w-1),re=a*Math.pow(2,w-1);w--;){var ae=document.createElement("canvas");ae.width=te,ae.height=re,ae.getContext("2d").drawImage(y,0,0,te,re),y=ae,te=Math.round(te/2),re=Math.round(re/2)}return y}},{key:"setPreviewURL",value:function setPreviewURL(t,i){this.uppy.setFileState(t,{preview:i})}},{key:"addToQueue",value:function addToQueue(t){this.queue.push(t),!1===this.queueProcessing&&this.processQueue()}},{key:"processQueue",value:function processQueue(){var t=this;if(this.queueProcessing=!0,this.queue.length>0){var i=this.uppy.getFile(this.queue.shift());return i?this.requestThumbnail(i).catch(function(){}).then(function(){return t.processQueue()}):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}},{key:"requestThumbnail",value:function requestThumbnail(t){var i=this;return isPreviewSupported(t.type)&&!t.isRemote?this.createThumbnail(t,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(a){i.setPreviewURL(t.id,a),i.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(t.id)),i.uppy.emit("thumbnail:generated",i.uppy.getFile(t.id),a)}).catch(function(a){i.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(t.id,":"),"warning"),i.uppy.log(a,"warning"),i.uppy.emit("thumbnail:error",i.uppy.getFile(t.id),a)}):Promise.resolve()}},{key:"install",value:function install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}])}(he.A);It.VERSION="3.1.0";var Lt=a(18180);const jt=function findAllDOMElements(t){if("string"==typeof t){var i=document.querySelectorAll(t);return 0===i.length?null:Array.from(i)}return"object"===(0,Lt.A)(t)&&function isDOMElement(t){return"object"===(0,Lt.A)(t)&&null!==t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}(t)?[t]:null},Nt=Array.from;a(66412);var Rt=a(71392),Mt=a(40178),zt=a(87167),Vt=a(46983);a(122);function getFilesAndDirectoriesFromDirectory(t,i,a,y){var w=y.onSuccess;t.readEntries(function(y){var te=[].concat((0,Vt.A)(i),(0,Vt.A)(y));y.length?queueMicrotask(function(){getFilesAndDirectoriesFromDirectory(t,te,a,{onSuccess:w})}):w(te)},function(t){a(t),w(i)})}function _createForOfIteratorHelper(t,i){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){a&&(t=a);var _n=0,y=function F(){};return{s:y,n:function n(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function e(t){throw t},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,te=!0,re=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return te=t.done,t},e:function e(t){re=!0,w=t},f:function f(){try{te||null==a.return||a.return()}finally{if(re)throw w}}}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,y=Array(i);a<i;a++)y[a]=t[a];return y}function _asyncIterator(t){var i,a,y,w=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,y=Symbol.iterator);w--;){if(a&&null!=(i=t[a]))return i.call(t);if(y&&null!=(i=t[y]))return new AsyncFromSyncIterator(i.call(t));a="@@asyncIterator",y="@@iterator"}throw new TypeError("Object is not async iterable")}function AsyncFromSyncIterator(t){function AsyncFromSyncIteratorContinuation(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:i}})}return AsyncFromSyncIterator=function AsyncFromSyncIterator(t){this.s=t,this.n=t.next},AsyncFromSyncIterator.prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},"return":function _return(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):AsyncFromSyncIteratorContinuation(i.apply(this.s,arguments))},"throw":function _throw(t){var i=this.s.return;return void 0===i?Promise.reject(t):AsyncFromSyncIteratorContinuation(i.apply(this.s,arguments))}},new AsyncFromSyncIterator(t)}function getAsFileSystemHandleFromEntry(t,i){return null==t?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile:function getFile(){return new Promise(function(i,a){return t.file(i,a)})},values:function values(){return(0,Rt.A)(de.mark(function _callee(){var a,y;return de.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return a=t.createReader(),w.next=1,(0,Mt.A)(new Promise(function(t){getFilesAndDirectoriesFromDirectory(a,[],i,{onSuccess:function onSuccess(a){return t(a.map(function(t){return getAsFileSystemHandleFromEntry(t,i)}))}})}));case 1:return y=w.sent,w.delegateYield((0,zt.A)(_asyncIterator(y),Mt.A),"t0",2);case 2:case"end":return w.stop()}},_callee)}))()},isSameEntry:void 0}}function createPromiseToAddFileOrParseDirectory(t,i,a){try{return void 0===a&&(a=void 0),(0,Rt.A)(de.mark(function _callee2(){var y,w,te,re,ae,oe,le,ue,pe;return de.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(y=function getNextRelativePath(){return"".concat(i,"/").concat(t.name)},"file"!==t.kind){de.next=5;break}return de.next=1,(0,Mt.A)(t.getFile());case 1:if(null==(w=de.sent)){de.next=3;break}return w.relativePath=i?y():null,de.next=2,w;case 2:de.next=4;break;case 3:if(null==a){de.next=4;break}return de.next=4,a;case 4:de.next=19;break;case 5:if("directory"!==t.kind){de.next=18;break}te=!1,re=!1,de.prev=6,oe=_asyncIterator(t.values());case 7:return de.next=8,(0,Mt.A)(oe.next());case 8:if(!(te=!(le=de.sent).done)){de.next=10;break}return ue=le.value,de.delegateYield((0,zt.A)(_asyncIterator(createPromiseToAddFileOrParseDirectory(ue,i?y():t.name)),Mt.A),"t0",9);case 9:te=!1,de.next=7;break;case 10:de.next=12;break;case 11:de.prev=11,pe=de.catch(6),re=!0,ae=pe;case 12:if(de.prev=12,de.prev=13,!te||null==oe.return){de.next=14;break}return de.next=14,(0,Mt.A)(oe.return());case 14:if(de.prev=14,!re){de.next=15;break}throw ae;case 15:return de.finish(14);case 16:return de.finish(12);case 17:de.next=19;break;case 18:if(null==a){de.next=19;break}return de.next=19,a;case 19:case"end":return de.stop()}},_callee2,null,[[6,11,12,17],[13,,14,16]])}))()}catch(t){return Promise.reject(t)}}function getFilesFromDataTransfer(_x,t){return _getFilesFromDataTransfer.apply(this,arguments)}function _getFilesFromDataTransfer(){return _getFilesFromDataTransfer=(0,Rt.A)(de.mark(function _callee4(t,i){var a,y,w,te,re,ae,oe,le;return de.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=1,(0,Mt.A)(Promise.all(Array.from(t.items,function(){var t=(0,pe.A)(de.mark(function _callee3(t){var a,y;return de.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return y=function getAsEntry(){return"function"==typeof t.getAsEntry?t.getAsEntry():t.webkitGetAsEntry()},null!=a||(a=getAsFileSystemHandleFromEntry(y(),i)),w.abrupt("return",{fileSystemHandle:a,lastResortFile:t.getAsFile()});case 1:case"end":return w.stop()}},_callee3)}));return function(i){return t.apply(this,arguments)}}())));case 1:a=ue.sent,y=_createForOfIteratorHelper(a),ue.prev=2,y.s();case 3:if((w=y.n()).done){ue.next=12;break}if(te=w.value,re=te.lastResortFile,null==(ae=te.fileSystemHandle)){ue.next=10;break}return ue.prev=4,ue.delegateYield((0,zt.A)(_asyncIterator(createPromiseToAddFileOrParseDirectory(ae,"",re)),Mt.A),"t0",5);case 5:ue.next=9;break;case 6:if(ue.prev=6,oe=ue.catch(4),null==re){ue.next=8;break}return ue.next=7,re;case 7:ue.next=9;break;case 8:i(oe);case 9:ue.next=11;break;case 10:if(null==re){ue.next=11;break}return ue.next=11,re;case 11:ue.next=3;break;case 12:ue.next=14;break;case 13:ue.prev=13,le=ue.catch(2),y.e(le);case 14:return ue.prev=14,y.f(),ue.finish(14);case 15:case"end":return ue.stop()}},_callee4,null,[[2,13,14,15],[4,6]])})),_getFilesFromDataTransfer.apply(this,arguments)}function fallbackApi(t){var i=Nt(t.files);return Promise.resolve(i)}function getDroppedFiles_asyncIterator(t){var i,a,y,w=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,y=Symbol.iterator);w--;){if(a&&null!=(i=t[a]))return i.call(t);if(y&&null!=(i=t[y]))return new getDroppedFiles_AsyncFromSyncIterator(i.call(t));a="@@asyncIterator",y="@@iterator"}throw new TypeError("Object is not async iterable")}function getDroppedFiles_AsyncFromSyncIterator(t){function AsyncFromSyncIteratorContinuation(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(t){return{value:t,done:i}})}return getDroppedFiles_AsyncFromSyncIterator=function AsyncFromSyncIterator(t){this.s=t,this.n=t.next},getDroppedFiles_AsyncFromSyncIterator.prototype={s:null,n:null,next:function next(){return AsyncFromSyncIteratorContinuation(this.n.apply(this.s,arguments))},"return":function _return(t){var i=this.s.return;return void 0===i?Promise.resolve({value:t,done:!0}):AsyncFromSyncIteratorContinuation(i.apply(this.s,arguments))},"throw":function _throw(t){var i=this.s.return;return void 0===i?Promise.reject(t):AsyncFromSyncIteratorContinuation(i.apply(this.s,arguments))}},new getDroppedFiles_AsyncFromSyncIterator(t)}function getDroppedFiles(_x,t){return _getDroppedFiles.apply(this,arguments)}function _getDroppedFiles(){return(_getDroppedFiles=(0,pe.A)(de.mark(function _callee(t,i){var a,y,w,te,re,ae,oe,le,ue,pe;return de.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:y=null!=(a=null==i?void 0:i.logDropError)?a:Function.prototype,de.prev=1,w=[],te=!1,re=!1,de.prev=2,oe=getDroppedFiles_asyncIterator(getFilesFromDataTransfer(t,y));case 3:return de.next=4,oe.next();case 4:if(!(te=!(le=de.sent).done)){de.next=6;break}ue=le.value,w.push(ue);case 5:te=!1,de.next=3;break;case 6:de.next=8;break;case 7:de.prev=7,pe=de.catch(2),re=!0,ae=pe;case 8:if(de.prev=8,de.prev=9,!te||null==oe.return){de.next=10;break}return de.next=10,oe.return();case 10:if(de.prev=10,!re){de.next=11;break}throw ae;case 11:return de.finish(10);case 12:return de.finish(8);case 13:return de.abrupt("return",w);case 14:return de.prev=14,de.catch(1),de.abrupt("return",fallbackApi(t));case 15:case"end":return de.stop()}},_callee,null,[[1,14],[2,7,8,13],[9,,10,12]])}))).apply(this,arguments)}a(48980),a(48598),a(25440);var Ht=a(81700),qt=(a(59089),a(2892),a(25428),a(73772),a(30958),a(25331));a(5914);function p_timeout_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function p_timeout_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,p_timeout_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}function p_timeout_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(p_timeout_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var Kt=function(t){function TimeoutError(t){var i;return(0,w.A)(this,TimeoutError),(i=p_timeout_callSuper(this,TimeoutError,[t])).name="TimeoutError",i}return(0,oe.A)(TimeoutError,t),(0,te.A)(TimeoutError)}((0,Ht.A)(Error)),Wt=function(t){function AbortError(t){var i;return(0,w.A)(this,AbortError),(i=p_timeout_callSuper(this,AbortError)).name="AbortError",i.message=t,i}return(0,oe.A)(AbortError,t),(0,te.A)(AbortError)}((0,Ht.A)(Error)),Gt=function getDOMException(t){return void 0===globalThis.DOMException?new Wt(t):new DOMException(t)},$t=function getAbortedReason(t){var i=void 0===t.reason?Gt("This operation was aborted."):t.reason;return i instanceof Error?i:Gt(i)};function pTimeout(t,i,a,w){var te,re=new Promise(function(re,ae){if("number"!=typeof i||1!==Math.sign(i))throw new TypeError("Expected `milliseconds` to be a positive number, got `".concat(i,"`"));if(i!==Number.POSITIVE_INFINITY){if(w=function p_timeout_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?p_timeout_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p_timeout_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}({customTimers:{setTimeout,clearTimeout}},w),w.signal){var oe=w.signal;oe.aborted&&ae($t(oe)),oe.addEventListener("abort",function(){ae($t(oe))})}te=w.customTimers.setTimeout.call(void 0,function(){if("function"!=typeof a){var y="string"==typeof a?a:"Promise timed out after ".concat(i," milliseconds"),w=a instanceof Error?a:new Kt(y);"function"==typeof t.cancel&&t.cancel(),ae(w)}else try{re(a())}catch(t){ae(t)}},i),(0,pe.A)(de.mark(function _callee(){var i,a;return de.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,i=re,y.next=1,t;case 1:i(y.sent),y.next=3;break;case 2:y.prev=2,a=y.catch(0),ae(a);case 3:return y.prev=3,w.customTimers.clearTimeout.call(void 0,te),y.finish(3);case 4:case"end":return y.stop()}},_callee,null,[[0,2,3,4]])}))()}else re(t)});return re.clear=function(){clearTimeout(te),te=void 0},re}a(70761);function priority_queue_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}var Xt,__classPrivateFieldGet=function(t,i,a,y){if("a"===a&&!y)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!y:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?y:"a"===a?y.call(t):y?y.value:i.get(t)},Qt=function(){return(0,te.A)(function PriorityQueue(){(0,w.A)(this,PriorityQueue),Xt.set(this,[])},[{key:"enqueue",value:function enqueue(t,i){i=function priority_queue_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?priority_queue_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):priority_queue_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}({priority:0},i);var a={priority:i.priority,run:t};if(this.size&&__classPrivateFieldGet(this,Xt,"f")[this.size-1].priority>=i.priority)__classPrivateFieldGet(this,Xt,"f").push(a);else{var w=function lowerBound(t,i,a){for(var y=0,w=t.length;w>0;){var te=Math.trunc(w/2),re=y+te;a(t[re],i)<=0?(y=++re,w-=te+1):w=te}return y}(__classPrivateFieldGet(this,Xt,"f"),a,function(t,i){return i.priority-t.priority});__classPrivateFieldGet(this,Xt,"f").splice(w,0,a)}}},{key:"dequeue",value:function dequeue(){var t=__classPrivateFieldGet(this,Xt,"f").shift();return null==t?void 0:t.run}},{key:"filter",value:function filter(t){return __classPrivateFieldGet(this,Xt,"f").filter(function(i){return i.priority===t.priority}).map(function(t){return t.run})}},{key:"size",get:function get(){return __classPrivateFieldGet(this,Xt,"f").length}}])}();Xt=new WeakMap;const Yt=Qt;function dist_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function dist_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?dist_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):dist_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function dist_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,dist_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}function dist_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dist_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var Jt,Zt,er,tr,rr,nr,ir,ar,or,sr,lr,ur,cr,pr,dr,hr,fr,vr,mr,yr,gr,br,_r,wr,Pr,Fr,__classPrivateFieldSet=function(t,i,a,y,w){if("m"===y)throw new TypeError("Private method is not writable");if("a"===y&&!w)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!w:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===y?w.call(t,a):w?w.value=a:i.set(t,a),a},dist_classPrivateFieldGet=function(t,i,a,y){if("a"===a&&!y)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!y:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?y:"a"===a?y.call(t):y?y.value:i.get(t)},Sr=function(t){function AbortError(){return(0,w.A)(this,AbortError),dist_callSuper(this,AbortError,arguments)}return(0,oe.A)(AbortError,t),(0,te.A)(AbortError)}((0,Ht.A)(Error)),kr=function(t){function PQueue(t){var i,a,y,te,re;if((0,w.A)(this,PQueue),i=dist_callSuper(this,PQueue),Jt.add(i),Zt.set(i,void 0),er.set(i,void 0),tr.set(i,0),rr.set(i,void 0),nr.set(i,void 0),ir.set(i,0),ar.set(i,void 0),or.set(i,void 0),sr.set(i,void 0),lr.set(i,void 0),ur.set(i,0),cr.set(i,void 0),pr.set(i,void 0),dr.set(i,void 0),Object.defineProperty(i,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t=dist_objectSpread({carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Yt},t)).intervalCap&&t.intervalCap>=1))throw new TypeError("Expected `intervalCap` to be a number from 1 and up, got `".concat(null!==(y=null===(a=t.intervalCap)||void 0===a?void 0:a.toString())&&void 0!==y?y:"","` (").concat((0,Lt.A)(t.intervalCap),")"));if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError("Expected `interval` to be a finite number >= 0, got `".concat(null!==(re=null===(te=t.interval)||void 0===te?void 0:te.toString())&&void 0!==re?re:"","` (").concat((0,Lt.A)(t.interval),")"));return __classPrivateFieldSet(i,Zt,t.carryoverConcurrencyCount,"f"),__classPrivateFieldSet(i,er,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),__classPrivateFieldSet(i,rr,t.intervalCap,"f"),__classPrivateFieldSet(i,nr,t.interval,"f"),__classPrivateFieldSet(i,sr,new t.queueClass,"f"),__classPrivateFieldSet(i,lr,t.queueClass,"f"),i.concurrency=t.concurrency,i.timeout=t.timeout,__classPrivateFieldSet(i,dr,!0===t.throwOnTimeout,"f"),__classPrivateFieldSet(i,pr,!1===t.autoStart,"f"),i}return(0,oe.A)(PQueue,t),(0,te.A)(PQueue,[{key:"concurrency",get:function get(){return dist_classPrivateFieldGet(this,cr,"f")},set:function set(t){if(!("number"==typeof t&&t>=1))throw new TypeError("Expected `concurrency` to be a number from 1 and up, got `".concat(t,"` (").concat((0,Lt.A)(t),")"));__classPrivateFieldSet(this,cr,t,"f"),dist_classPrivateFieldGet(this,Jt,"m",wr).call(this)}},{key:"add",value:(ae=(0,pe.A)(de.mark(function _callee2(t){var i,a=this,y=arguments;return de.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return i=y.length>1&&void 0!==y[1]?y[1]:{},i=dist_objectSpread({timeout:this.timeout,throwOnTimeout:dist_classPrivateFieldGet(this,dr,"f")},i),w.abrupt("return",new Promise(function(y,w){dist_classPrivateFieldGet(a,sr,"f").enqueue((0,pe.A)(de.mark(function _callee(){var te,re,ae,oe,le,ue;return de.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(__classPrivateFieldSet(a,ur,(re=dist_classPrivateFieldGet(a,ur,"f"),++re),"f"),__classPrivateFieldSet(a,tr,(ae=dist_classPrivateFieldGet(a,tr,"f"),++ae),"f"),pe.prev=1,!(null===(te=i.signal)||void 0===te?void 0:te.aborted)){pe.next=2;break}throw new Sr("The task was aborted.");case 2:return oe=t({signal:i.signal}),i.timeout&&(oe=pTimeout(Promise.resolve(oe),i.timeout)),i.signal&&(oe=Promise.race([oe,dist_classPrivateFieldGet(a,Jt,"m",Pr).call(a,i.signal)])),pe.next=3,oe;case 3:le=pe.sent,y(le),a.emit("completed",le),pe.next=6;break;case 4:if(pe.prev=4,!((ue=pe.catch(1))instanceof Kt)||i.throwOnTimeout){pe.next=5;break}return y(),pe.abrupt("return");case 5:w(ue),a.emit("error",ue);case 6:return pe.prev=6,dist_classPrivateFieldGet(a,Jt,"m",vr).call(a),pe.finish(6);case 7:case"end":return pe.stop()}},_callee,null,[[1,4,6,7]])})),i),a.emit("add"),dist_classPrivateFieldGet(a,Jt,"m",gr).call(a)}));case 1:case"end":return w.stop()}},_callee2,this)})),function add(_x){return ae.apply(this,arguments)})},{key:"addAll",value:(re=(0,pe.A)(de.mark(function _callee4(t,i){var a=this;return de.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",Promise.all(t.map(function(){var t=(0,pe.A)(de.mark(function _callee3(t){return de.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",a.add(t,i));case 1:case"end":return y.stop()}},_callee3)}));return function(i){return t.apply(this,arguments)}}())));case 1:case"end":return y.stop()}},_callee4)})),function addAll(t,i){return re.apply(this,arguments)})},{key:"start",value:function start(){return dist_classPrivateFieldGet(this,pr,"f")?(__classPrivateFieldSet(this,pr,!1,"f"),dist_classPrivateFieldGet(this,Jt,"m",wr).call(this),this):this}},{key:"pause",value:function pause(){__classPrivateFieldSet(this,pr,!0,"f")}},{key:"clear",value:function clear(){__classPrivateFieldSet(this,sr,new(dist_classPrivateFieldGet(this,lr,"f")),"f")}},{key:"onEmpty",value:(y=(0,pe.A)(de.mark(function _callee5(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==dist_classPrivateFieldGet(this,sr,"f").size){t.next=1;break}return t.abrupt("return");case 1:return t.next=2,dist_classPrivateFieldGet(this,Jt,"m",Fr).call(this,"empty");case 2:case"end":return t.stop()}},_callee5,this)})),function onEmpty(){return y.apply(this,arguments)})},{key:"onSizeLessThan",value:(a=(0,pe.A)(de.mark(function _callee6(t){var i=this;return de.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(dist_classPrivateFieldGet(this,sr,"f").size<t)){a.next=1;break}return a.abrupt("return");case 1:return a.next=2,dist_classPrivateFieldGet(this,Jt,"m",Fr).call(this,"next",function(){return dist_classPrivateFieldGet(i,sr,"f").size<t});case 2:case"end":return a.stop()}},_callee6,this)})),function onSizeLessThan(t){return a.apply(this,arguments)})},{key:"onIdle",value:(i=(0,pe.A)(de.mark(function _callee7(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==dist_classPrivateFieldGet(this,ur,"f")||0!==dist_classPrivateFieldGet(this,sr,"f").size){t.next=1;break}return t.abrupt("return");case 1:return t.next=2,dist_classPrivateFieldGet(this,Jt,"m",Fr).call(this,"idle");case 2:case"end":return t.stop()}},_callee7,this)})),function onIdle(){return i.apply(this,arguments)})},{key:"size",get:function get(){return dist_classPrivateFieldGet(this,sr,"f").size}},{key:"sizeBy",value:function sizeBy(t){return dist_classPrivateFieldGet(this,sr,"f").filter(t).length}},{key:"pending",get:function get(){return dist_classPrivateFieldGet(this,ur,"f")}},{key:"isPaused",get:function get(){return dist_classPrivateFieldGet(this,pr,"f")}}]);var i,a,y,re,ae}(qt);Zt=new WeakMap,er=new WeakMap,tr=new WeakMap,rr=new WeakMap,nr=new WeakMap,ir=new WeakMap,ar=new WeakMap,or=new WeakMap,sr=new WeakMap,lr=new WeakMap,ur=new WeakMap,cr=new WeakMap,pr=new WeakMap,dr=new WeakMap,Jt=new WeakSet,hr=function _PQueue_doesIntervalAllowAnother_get(){return dist_classPrivateFieldGet(this,er,"f")||dist_classPrivateFieldGet(this,tr,"f")<dist_classPrivateFieldGet(this,rr,"f")},fr=function _PQueue_doesConcurrentAllowAnother_get(){return dist_classPrivateFieldGet(this,ur,"f")<dist_classPrivateFieldGet(this,cr,"f")},vr=function _PQueue_next(){var t;__classPrivateFieldSet(this,ur,(t=dist_classPrivateFieldGet(this,ur,"f"),--t),"f"),dist_classPrivateFieldGet(this,Jt,"m",gr).call(this),this.emit("next")},mr=function _PQueue_onResumeInterval(){dist_classPrivateFieldGet(this,Jt,"m",_r).call(this),dist_classPrivateFieldGet(this,Jt,"m",br).call(this),__classPrivateFieldSet(this,or,void 0,"f")},yr=function _PQueue_isIntervalPaused_get(){var t=this,i=Date.now();if(void 0===dist_classPrivateFieldGet(this,ar,"f")){var a=dist_classPrivateFieldGet(this,ir,"f")-i;if(!(a<0))return void 0===dist_classPrivateFieldGet(this,or,"f")&&__classPrivateFieldSet(this,or,setTimeout(function(){dist_classPrivateFieldGet(t,Jt,"m",mr).call(t)},a),"f"),!0;__classPrivateFieldSet(this,tr,dist_classPrivateFieldGet(this,Zt,"f")?dist_classPrivateFieldGet(this,ur,"f"):0,"f")}return!1},gr=function _PQueue_tryToStartAnother(){if(0===dist_classPrivateFieldGet(this,sr,"f").size)return dist_classPrivateFieldGet(this,ar,"f")&&clearInterval(dist_classPrivateFieldGet(this,ar,"f")),__classPrivateFieldSet(this,ar,void 0,"f"),this.emit("empty"),0===dist_classPrivateFieldGet(this,ur,"f")&&this.emit("idle"),!1;if(!dist_classPrivateFieldGet(this,pr,"f")){var t=!dist_classPrivateFieldGet(this,Jt,"a",yr);if(dist_classPrivateFieldGet(this,Jt,"a",hr)&&dist_classPrivateFieldGet(this,Jt,"a",fr)){var i=dist_classPrivateFieldGet(this,sr,"f").dequeue();return!!i&&(this.emit("active"),i(),t&&dist_classPrivateFieldGet(this,Jt,"m",br).call(this),!0)}}return!1},br=function _PQueue_initializeIntervalIfNeeded(){var t=this;dist_classPrivateFieldGet(this,er,"f")||void 0!==dist_classPrivateFieldGet(this,ar,"f")||(__classPrivateFieldSet(this,ar,setInterval(function(){dist_classPrivateFieldGet(t,Jt,"m",_r).call(t)},dist_classPrivateFieldGet(this,nr,"f")),"f"),__classPrivateFieldSet(this,ir,Date.now()+dist_classPrivateFieldGet(this,nr,"f"),"f"))},_r=function _PQueue_onInterval(){0===dist_classPrivateFieldGet(this,tr,"f")&&0===dist_classPrivateFieldGet(this,ur,"f")&&dist_classPrivateFieldGet(this,ar,"f")&&(clearInterval(dist_classPrivateFieldGet(this,ar,"f")),__classPrivateFieldSet(this,ar,void 0,"f")),__classPrivateFieldSet(this,tr,dist_classPrivateFieldGet(this,Zt,"f")?dist_classPrivateFieldGet(this,ur,"f"):0,"f"),dist_classPrivateFieldGet(this,Jt,"m",wr).call(this)},wr=function _PQueue_processQueue(){for(;dist_classPrivateFieldGet(this,Jt,"m",gr).call(this););},Pr=function(){var t=(0,pe.A)(de.mark(function _callee8(t){return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise(function(i,a){t.addEventListener("abort",function(){a(new Sr("The task was aborted."))},{once:!0})}));case 1:case"end":return i.stop()}},_callee8)}));return function _PQueue_throwOnAbort(i){return t.apply(this,arguments)}}(),Fr=function(){var t=(0,pe.A)(de.mark(function _callee9(t,i){var a=this;return de.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",new Promise(function(y){var w=function listener(){i&&!i()||(a.off(t,w),y())};a.on(t,w)}));case 1:case"end":return y.stop()}},_callee9)}));return function _PQueue_onEvent(i,a){return t.apply(this,arguments)}}();const Ar=kr;a(31415),a(8921);function getFileNameAndExtension(t){var i=t.lastIndexOf(".");return-1===i||i===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,i),extension:t.slice(i+1)}}const Cr={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function generateFileID_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function generateFileID_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?generateFileID_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):generateFileID_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function encodeFilename(t){var i="";return t.replace(/[^A-Z0-9]/gi,function(t){return i+="-".concat(function encodeCharacter(t){return t.charCodeAt(0).toString(32)}(t)),"/"})+i}function getSafeFileId(t,i){if(function hasFileStableId(t){return!(!t.isRemote||!t.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}(t))return t.id;var a=function getFileType(t){var i;if(t.type)return t.type;var a=t.name?null==(i=getFileNameAndExtension(t.name).extension)?void 0:i.toLowerCase():null;return a&&a in Cr?Cr[a]:"application/octet-stream"}(t);return function generateFileID(t,i){var a=i||"uppy";return"string"==typeof t.name&&(a+="-".concat(encodeFilename(t.name.toLowerCase()))),void 0!==t.type&&(a+="-".concat(t.type)),t.meta&&"string"==typeof t.meta.relativePath&&(a+="-".concat(encodeFilename(t.meta.relativePath.toLowerCase()))),void 0!==t.data.size&&(a+="-".concat(t.data.size)),void 0!==t.data.lastModified&&(a+="-".concat(t.data.lastModified)),a}(generateFileID_objectSpread(generateFileID_objectSpread({},t),{},{type:a}),i)}a(88431),a(48718),a(23215);var Or,Dr,xr,Ur,Br=0,Tr=[],Er=Se.fF,Ir=Er.__b,Lr=Er.__r,jr=Er.diffed,Nr=Er.__c,Rr=Er.unmount,Mr=Er.__;function hooks_module_p(t,i){Er.__h&&Er.__h(Dr,t,Br||i),Br=0;var a=Dr.__H||(Dr.__H={__:[],__h:[]});return t>=a.__.length&&a.__.push({}),a.__[t]}function hooks_module_d(t){return Br=1,function hooks_module_h(t,i,a){var y=hooks_module_p(Or++,2);if(y.t=t,!y.__c&&(y.__=[a?a(i):hooks_module_D(void 0,i),function(t){var i=y.__N?y.__N[0]:y.__[0],a=y.t(i,t);i!==a&&(y.__N=[a,y.__[1]],y.__c.setState({}))}],y.__c=Dr,!Dr.__f)){var w=function f(t,i,a){if(!y.__c.__H)return!0;var w=y.__c.__H.__.filter(function(t){return!!t.__c});if(w.every(function(t){return!t.__N}))return!te||te.call(this,t,i,a);var re=y.__c.props!==t;return w.forEach(function(t){if(t.__N){var i=t.__[0];t.__=t.__N,t.__N=void 0,i!==t.__[0]&&(re=!0)}}),te&&te.call(this,t,i,a)||re};Dr.__f=!0;var te=Dr.shouldComponentUpdate,re=Dr.componentWillUpdate;Dr.componentWillUpdate=function(t,i,a){if(this.__e){var y=te;te=void 0,w(t,i,a),te=y}re&&re.call(this,t,i,a)},Dr.shouldComponentUpdate=w}return y.__N||y.__}(hooks_module_D,t)}function hooks_module_y(t,i){var a=hooks_module_p(Or++,3);!Er.__s&&hooks_module_C(a.__H,i)&&(a.__=t,a.u=i,Dr.__H.__h.push(a))}function hooks_module_T(t,i){var a=hooks_module_p(Or++,7);return hooks_module_C(a.__H,i)&&(a.__=t(),a.__H=i,a.__h=t),a.__}function hooks_module_q(t,i){return Br=8,hooks_module_T(function(){return t},i)}function hooks_module_j(){for(var t;t=Tr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(hooks_module_z),t.__H.__h.forEach(hooks_module_B),t.__H.__h=[]}catch(i){t.__H.__h=[],Er.__e(i,t.__v)}}Er.__b=function(t){Dr=null,Ir&&Ir(t)},Er.__=function(t,i){t&&i.__k&&i.__k.__m&&(t.__m=i.__k.__m),Mr&&Mr(t,i)},Er.__r=function(t){Lr&&Lr(t),Or=0;var i=(Dr=t.__c).__H;i&&(xr===Dr?(i.__h=[],Dr.__h=[],i.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(i.__h.forEach(hooks_module_z),i.__h.forEach(hooks_module_B),i.__h=[],Or=0)),xr=Dr},Er.diffed=function(t){jr&&jr(t);var i=t.__c;i&&i.__H&&(i.__H.__h.length&&(1!==Tr.push(i)&&Ur===Er.requestAnimationFrame||((Ur=Er.requestAnimationFrame)||hooks_module_w)(hooks_module_j)),i.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),xr=Dr=null},Er.__c=function(t,i){i.some(function(t){try{t.__h.forEach(hooks_module_z),t.__h=t.__h.filter(function(t){return!t.__||hooks_module_B(t)})}catch(a){i.some(function(t){t.__h&&(t.__h=[])}),i=[],Er.__e(a,t.__v)}}),Nr&&Nr(t,i)},Er.unmount=function(t){Rr&&Rr(t);var i,a=t.__c;a&&a.__H&&(a.__H.__.forEach(function(t){try{hooks_module_z(t)}catch(t){i=t}}),a.__H=void 0,i&&Er.__e(i,a.__v))};var zr="function"==typeof requestAnimationFrame;function hooks_module_w(t){var i,a=function r(){clearTimeout(y),zr&&cancelAnimationFrame(i),setTimeout(t)},y=setTimeout(a,35);zr&&(i=requestAnimationFrame(a))}function hooks_module_z(t){var i=Dr,a=t.__c;"function"==typeof a&&(t.__c=void 0,a()),Dr=i}function hooks_module_B(t){var i=Dr;t.__c=t.__(),Dr=i}function hooks_module_C(t,i){return!t||t.length!==i.length||i.some(function(i,a){return i!==t[a]})}function hooks_module_D(t,i){return"function"==typeof i?i(t):i}function GoogleIcon(){return(0,Se.h)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},(0,Se.h)("g",{fill:"none","fill-rule":"evenodd"},(0,Se.h)("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),(0,Se.h)("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),(0,Se.h)("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),(0,Se.h)("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),(0,Se.h)("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),(0,Se.h)("path",{d:"M4 4h18v18H4z"})))}function DefaultForm(t){var i=t.pluginName,a=t.i18n,y=t.onAuth,w="Google Drive"===i,te=hooks_module_q(function(t){t.preventDefault(),y()},[y]);return(0,Se.h)("form",{onSubmit:te},w?(0,Se.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0},(0,Se.h)(GoogleIcon,null),a("signInWithGoogle")):(0,Se.h)("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0},a("authenticateWith",{pluginName:i})))}var Vr=function defaultRenderForm(t){var i=t.pluginName,a=t.i18n,y=t.onAuth;return(0,Se.h)(DefaultForm,{pluginName:i,i18n:a,onAuth:y})};function AuthView(t){var i=t.loading,a=t.pluginName,y=t.pluginIcon,w=t.i18n,te=t.handleAuth,re=t.renderForm,ae=void 0===re?Vr:re;return(0,Se.h)("div",{className:"uppy-Provider-auth"},(0,Se.h)("div",{className:"uppy-Provider-authIcon"},y()),(0,Se.h)("div",{className:"uppy-Provider-authTitle"},w("authenticateWithTitle",{pluginName:a})),(0,Se.h)("div",{className:"uppy-Provider-authForm"},ae({pluginName:a,i18n:w,loading:i,onAuth:te})))}function User(t){var i=t.i18n,a=t.logout,y=t.username;return(0,Se.h)(Se.FK,null,(0,Se.h)("span",{className:"uppy-ProviderBrowser-user",key:"username"},y),(0,Se.h)("button",{type:"button",onClick:a,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},i("logOut")))}var Hr=function Breadcrumb(t){var i=t.getFolder,a=t.title,y=t.isLast;return(0,Se.h)(Se.FK,null,(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:i},a),y?"":" / ")};function Breadcrumbs(t){var i=t.getFolder,a=t.title,y=t.breadcrumbsIcon,w=t.breadcrumbs;return(0,Se.h)("div",{className:"uppy-Provider-breadcrumbs"},(0,Se.h)("div",{className:"uppy-Provider-breadcrumbsIcon"},y),w.map(function(t,y){return(0,Se.h)(Hr,{key:t.id,getFolder:function getFolder(){return i(t.requestPath,t.name)},title:0===y?a:t.name,isLast:y+1===w.length})}))}function Header(t){return(0,Se.h)(Se.FK,null,t.showBreadcrumbs&&(0,Se.h)(Breadcrumbs,{getFolder:t.getFolder,breadcrumbs:t.breadcrumbs,breadcrumbsIcon:t.pluginIcon&&t.pluginIcon(),title:t.title}),(0,Se.h)(User,{logout:t.logout,username:t.username,i18n:t.i18n}))}a(5746);function remoteFileObjToLocal_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function remoteFileObjToLocal_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?remoteFileObjToLocal_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):remoteFileObjToLocal_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function remoteFileObjToLocal(t){return remoteFileObjToLocal_objectSpread(remoteFileObjToLocal_objectSpread({},t),{},{type:t.mimeType,extension:t.name?getFileNameAndExtension(t.name).extension:null})}var qr=["data","rowHeight","renderRow","overscanCount"];function VirtualList_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function VirtualList_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?VirtualList_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):VirtualList_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function VirtualList_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(VirtualList_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var y in a)Object.prototype.hasOwnProperty.call(a,y)&&(t[y]=a[y])}return t},_extends.apply(this,arguments)}var Kr={position:"relative",width:"100%",minHeight:"100%"},Wr={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},Gr=function(t){function VirtualList(t){var i;return(0,w.A)(this,VirtualList),i=function VirtualList_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,VirtualList_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,VirtualList,[t]),i.handleScroll=function(){i.setState({offset:i.base.scrollTop})},i.handleResize=function(){i.resize()},i.focusElement=null,i.state={offset:0,height:0},i}return(0,oe.A)(VirtualList,t),(0,te.A)(VirtualList,[{key:"componentDidMount",value:function componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function resize(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function render(t){var i=t.data,a=t.rowHeight,y=t.renderRow,w=t.overscanCount,te=void 0===w?10:w,re=(0,$e.A)(t,qr),ae=this.state,oe=ae.offset,le=ae.height,ue=Math.floor(oe/a),pe=Math.floor(le/a);te&&(ue=Math.max(0,ue-ue%te),pe+=te);var de=ue+pe+4,he=i.slice(ue,de),fe=VirtualList_objectSpread(VirtualList_objectSpread({},Kr),{},{height:i.length*a}),ve=VirtualList_objectSpread(VirtualList_objectSpread({},Wr),{},{top:ue*a});return(0,Se.h)("div",_extends({onScroll:this.handleScroll},re),(0,Se.h)("div",{role:"presentation",style:fe},(0,Se.h)("div",{role:"presentation",style:ve},he.map(y))))}}])}(Se.uA);const $r=Gr;var Xr=a(51391);function SearchFilterInput(t){var i=t.search,a=t.searchOnInput,y=t.searchTerm,w=t.showButton,te=t.inputLabel,re=t.clearSearchLabel,ae=t.buttonLabel,oe=t.clearSearch,le=t.inputClassName,ue=t.buttonCSSClassName,pe=hooks_module_d(null!=y?y:""),de=(0,Ge.A)(pe,2),he=de[0],fe=de[1],ve=hooks_module_q(function(t){t.preventDefault(),i(he)},[i,he]),me=hooks_module_q(function(t){var y=t.target.value;fe(y),a&&i(y)},[fe,a,i]),ge=hooks_module_d(function(){var t=document.createElement("form");return t.setAttribute("tabindex","-1"),t.id=(0,Xr.A)(),t}),_e=(0,Ge.A)(ge,1)[0];return hooks_module_y(function(){return document.body.appendChild(_e),_e.addEventListener("submit",ve),function(){_e.removeEventListener("submit",ve),document.body.removeChild(_e)}},[_e,ve]),(0,Se.h)(Se.FK,null,(0,Se.h)("input",{className:"uppy-u-reset ".concat(le),type:"search","aria-label":te,placeholder:te,value:he,onInput:me,form:_e.id,"data-uppy-super-focusable":!0}),!w&&(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},(0,Se.h)("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!w&&he&&(0,Se.h)("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":re,title:re,onClick:function handleReset(){fe(""),oe&&oe()}},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},(0,Se.h)("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),w&&(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary ".concat(ue),type:"submit",form:_e.id},ae))}function FooterActions(t){var i=t.cancel,a=t.done,y=t.i18n,w=t.selected;return(0,Se.h)("div",{className:"uppy-ProviderBrowser-footer"},(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:a,type:"button"},y("selectX",{smart_count:w})),(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:i,type:"button"},y("cancel")))}function FileIcon(){return(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},(0,Se.h)("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function FolderIcon(){return(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},(0,Se.h)("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function VideoIcon(){return(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},(0,Se.h)("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),(0,Se.h)("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function ItemIcon(t){var i=t.itemIconString;if(null===i)return null;switch(i){case"file":return(0,Se.h)(FileIcon,null);case"folder":return(0,Se.h)(FolderIcon,null);case"video":return(0,Se.h)(VideoIcon,null);default:var a=t.alt;return(0,Se.h)("img",{src:i,alt:a,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}const Qr=function GridListItem(t){var i=t.className,a=t.isDisabled,y=t.restrictionError,w=t.isChecked,te=t.title,re=t.itemIconEl,ae=t.showTitles,oe=t.toggleCheckbox,le=t.recordShiftKeyPress,ue=t.id,pe=t.children,de=Ae("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":w});return(0,Se.h)("li",{className:i,title:a?null==y?void 0:y.message:void 0},(0,Se.h)("input",{type:"checkbox",className:de,onChange:oe,onKeyDown:le,onMouseDown:le,name:"listitem",id:ue,checked:w,disabled:a,"data-uppy-super-focusable":!0}),(0,Se.h)("label",{htmlFor:ue,"aria-label":te,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},re,ae&&te,pe))};function ListItem(t){var i=t.className,a=t.isDisabled,y=t.restrictionError,w=t.isCheckboxDisabled,te=t.isChecked,re=t.toggleCheckbox,ae=t.recordShiftKeyPress,oe=t.type,le=t.id,ue=t.itemIconEl,pe=t.title,de=t.handleFolderClick,he=t.showTitles,fe=t.i18n;return(0,Se.h)("li",{className:i,title:a?null==y?void 0:y.message:void 0},w?null:(0,Se.h)("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(te?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:re,onKeyDown:ae,onMouseDown:ae,name:"listitem",id:le,checked:te,"aria-label":"file"===oe?null:fe("allFilesFromFolderNamed",{name:pe}),disabled:a,"data-uppy-super-focusable":!0}),"file"===oe?(0,Se.h)("label",{htmlFor:le,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},(0,Se.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},ue),he&&pe):(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:de,"aria-label":fe("openFolderNamed",{name:pe})},(0,Se.h)("div",{className:"uppy-ProviderBrowserItem-iconWrap"},ue),he&&pe?(0,Se.h)("span",null,pe):fe("unnamed")))}function Item_extends(){return Item_extends=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var y in a)Object.prototype.hasOwnProperty.call(a,y)&&(t[y]=a[y])}return t},Item_extends.apply(this,arguments)}function Item(t){var i=t.author,a=t.getItemIcon,y=t.isChecked,w=t.isDisabled,te=t.viewType,re=a(),ae=Ae("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":y},{"uppy-ProviderBrowserItem--disabled":w},{"uppy-ProviderBrowserItem--noPreview":"video"===re}),oe=(0,Se.h)(ItemIcon,{itemIconString:re});switch(te){case"grid":return(0,Se.h)(Qr,Item_extends({},t,{className:ae,itemIconEl:oe}));case"list":return(0,Se.h)(ListItem,Item_extends({},t,{className:ae,itemIconEl:oe}));case"unsplash":return(0,Se.h)(Qr,Item_extends({},t,{className:ae,itemIconEl:oe}),(0,Se.h)("a",{href:"".concat(i.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1},i.name));default:throw new Error("There is no such type ".concat(te))}}function Browser_ListItem(t){var i=t.currentSelection,a=t.uppyFiles,y=t.viewType,w=t.isChecked,te=t.toggleCheckbox,re=t.recordShiftKeyPress,ae=t.showTitles,oe=t.i18n,le=t.validateRestrictions,ue=t.getNextFolder,pe=t.f;if(pe.isFolder)return Item({showTitles:ae,viewType:y,i18n:oe,id:pe.id,title:pe.name,getItemIcon:function getItemIcon(){return pe.icon},isChecked:w(pe),toggleCheckbox:function toggleCheckbox(t){return te(t,pe)},recordShiftKeyPress:re,type:"folder",isDisabled:!1,isCheckboxDisabled:"shared-with-me"===pe.id,handleFolderClick:function handleFolderClick(){return ue(pe)}});var de=le(remoteFileObjToLocal(pe),[].concat((0,Vt.A)(a),(0,Vt.A)(i)));return Item({id:pe.id,title:pe.name,author:pe.author,getItemIcon:function getItemIcon(){return"grid"===y&&pe.thumbnail?pe.thumbnail:pe.icon},isChecked:w(pe),toggleCheckbox:function toggleCheckbox(t){return te(t,pe)},isCheckboxDisabled:!1,recordShiftKeyPress:re,showTitles:ae,viewType:y,i18n:oe,type:"file",isDisabled:Boolean(de)&&!w(pe),restrictionError:de})}const Yr=function Browser(t){var i=t.currentSelection,a=t.folders,y=t.files,w=t.uppyFiles,te=t.viewType,re=t.headerComponent,ae=t.showBreadcrumbs,oe=t.isChecked,le=t.toggleCheckbox,ue=t.recordShiftKeyPress,pe=t.handleScroll,de=t.showTitles,he=t.i18n,fe=t.validateRestrictions,ve=t.isLoading,me=t.showSearchFilter,ge=t.search,_e=t.searchTerm,Pe=t.clearSearch,Fe=t.searchOnInput,Ce=t.searchInputLabel,De=t.clearSearchLabel,xe=t.getNextFolder,Ue=t.cancel,Be=t.done,Te=t.noResultsLabel,Ee=t.virtualList,Ie=i.length,Le=hooks_module_T(function(){return[].concat((0,Vt.A)(a),(0,Vt.A)(y))},[a,y]);return(0,Se.h)("div",{className:Ae("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(te))},re&&(0,Se.h)("div",{className:"uppy-ProviderBrowser-header"},(0,Se.h)("div",{className:Ae("uppy-ProviderBrowser-headerBar",!ae&&"uppy-ProviderBrowser-headerBar--simple")},re)),me&&(0,Se.h)("div",{"class":"uppy-ProviderBrowser-searchFilter"},(0,Se.h)(SearchFilterInput,{search:ge,searchTerm:_e,clearSearch:Pe,inputLabel:Ce,clearSearchLabel:De,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:Fe})),ve?(0,Se.h)("div",{className:"uppy-Provider-loading"},(0,Se.h)("span",null,"string"==typeof ve?ve:he("loading"))):a.length||y.length?Ee?(0,Se.h)("div",{className:"uppy-ProviderBrowser-body"},(0,Se.h)("ul",{className:"uppy-ProviderBrowser-list"},(0,Se.h)($r,{data:Le,renderRow:function renderRow(t){return(0,Se.h)(Browser_ListItem,{currentSelection:i,uppyFiles:w,viewType:te,isChecked:oe,toggleCheckbox:le,recordShiftKeyPress:ue,showTitles:de,i18n:he,validateRestrictions:fe,getNextFolder:xe,f:t})},rowHeight:31}))):(0,Se.h)("div",{className:"uppy-ProviderBrowser-body"},(0,Se.h)("ul",{className:"uppy-ProviderBrowser-list",onScroll:pe,role:"listbox",tabIndex:-1},Le.map(function(t){return(0,Se.h)(Browser_ListItem,{currentSelection:i,uppyFiles:w,viewType:te,isChecked:oe,toggleCheckbox:le,recordShiftKeyPress:ue,showTitles:de,i18n:he,validateRestrictions:fe,getNextFolder:xe,f:t})}))):(0,Se.h)("div",{className:"uppy-Provider-empty"},Te),Ie>0&&(0,Se.h)(FooterActions,{selected:Ie,done:Be,cancel:Ue,i18n:he}))};function CloseWrapper_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(CloseWrapper_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var Jr=function(t){function CloseWrapper(){return(0,w.A)(this,CloseWrapper),function CloseWrapper_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,CloseWrapper_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,CloseWrapper,arguments)}return(0,oe.A)(CloseWrapper,t),(0,te.A)(CloseWrapper,[{key:"componentWillUnmount",value:function componentWillUnmount(){(0,this.props.onUnmount)()}},{key:"render",value:function render(){var t=this.props.children;return(0,Se.v2)(t)[0]}}])}(Se.uA);function View_createForOfIteratorHelper(t,i){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function View_unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return View_arrayLikeToArray(t,i);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?View_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){a&&(t=a);var _n=0,y=function F(){};return{s:y,n:function n(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function e(t){throw t},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,te=!0,re=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return te=t.done,t},e:function e(t){re=!0,w=t},f:function f(){try{te||null==a.return||a.return()}finally{if(re)throw w}}}}function View_arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,y=Array(i);a<i;a++)y[a]=t[a];return y}var Zr=function(){return(0,te.A)(function View(t,i){var a=this;(0,w.A)(this,View),this.filterItems=function(t){var i=a.plugin.getPluginState();return i.filterInput&&""!==i.filterInput?t.filter(function(t){return-1!==t.name.toLowerCase().indexOf(i.filterInput.toLowerCase())}):t},this.recordShiftKeyPress=function(t){a.isShiftKeyPressed=t.shiftKey},this.isChecked=function(t){return a.plugin.getPluginState().currentSelection.some(function(i){return i.id===t.id})},this.plugin=t,this.provider=i.provider,this.opts=i,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)},[{key:"preFirstRender",value:function preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function shouldHandleScroll(t){var i=t.target;return i.scrollHeight-(i.scrollTop+i.offsetHeight)<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}},{key:"cancelPicking",value:function cancelPicking(){this.clearSelection();var t=this.plugin.uppy.getPlugin("Dashboard");t&&t.hideAllPanels()}},{key:"handleError",value:function handleError(t){var i,a=this.plugin.uppy,y=a.i18n("companionError");a.log(t.toString()),t.isAuthError||"AbortError"===(null==(i=t.cause)?void 0:i.name)||a.info({message:y,details:t.toString()},"error",5e3)}},{key:"registerRequestClient",value:function registerRequestClient(){this.requestClientId=this.provider.provider,this.plugin.uppy.registerRequestClient(this.requestClientId,this.provider)}},{key:"getTagFile",value:function getTagFile(t){var i={id:t.id,source:this.plugin.id,name:t.name||t.id,type:t.mimeType,isRemote:!0,data:t,meta:{},body:{fileId:t.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(t.requestPath)),body:{fileId:t.id},providerName:this.provider.name,provider:this.provider.provider,requestClientId:this.requestClientId}};return t.thumbnail&&(i.preview=t.thumbnail),t.author&&(null!=t.author.name&&(i.meta.authorName=String(t.author.name)),t.author.url&&(i.meta.authorUrl=t.author.url)),null!=t.relDirPath&&(i.meta.relativePath=t.relDirPath?"".concat(t.relDirPath,"/").concat(i.name):null),null!=t.absDirPath&&(i.meta.absolutePath=t.absDirPath?"/".concat(t.absDirPath,"/").concat(i.name):"/".concat(i.name)),i}},{key:"toggleCheckbox",value:function toggleCheckbox(t,i){t.stopPropagation(),t.preventDefault(),t.currentTarget.focus();var a=this.plugin.getPluginState(),y=a.folders,w=a.files,te=this.filterItems(y.concat(w));if(this.lastCheckbox&&this.isShiftKeyPressed){var re,ae=this.plugin.getPluginState().currentSelection,oe=te.indexOf(this.lastCheckbox),le=te.indexOf(i),ue=[],pe=View_createForOfIteratorHelper(oe<le?te.slice(oe,le+1):te.slice(le,oe+1));try{for(pe.s();!(re=pe.n()).done;){var de=re.value,he=this.plugin.uppy,fe=he.validateRestrictions(remoteFileObjToLocal(de),[].concat((0,Vt.A)(he.getFiles()),ue));fe?he.info({message:fe.message},"error",he.opts.infoTimeout):ue.push(de)}}catch(t){pe.e(t)}finally{pe.f()}this.plugin.setPluginState({currentSelection:(0,Vt.A)(new Set([].concat((0,Vt.A)(ae),ue)))})}else{this.lastCheckbox=i;var ve=this.plugin.getPluginState().currentSelection;this.isChecked(i)?this.plugin.setPluginState({currentSelection:ve.filter(function(t){return t.id!==i.id})}):this.plugin.setPluginState({currentSelection:ve.concat([i])})}}},{key:"setLoading",value:function setLoading(t){this.plugin.setPluginState({loading:t})}}])}();function ProviderView_createForOfIteratorHelper(t,i){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function ProviderView_unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return ProviderView_arrayLikeToArray(t,i);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ProviderView_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){a&&(t=a);var _n=0,y=function F(){};return{s:y,n:function n(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function e(t){throw t},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,te=!0,re=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return te=t.done,t},e:function e(t){re=!0,w=t},f:function f(){try{te||null==a.return||a.return()}finally{if(re)throw w}}}}function ProviderView_arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,y=Array(i);a<i;a++)y[a]=t[a];return y}function ProviderView_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function ProviderView_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?ProviderView_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ProviderView_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function ProviderView_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ProviderView_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function ProviderView_classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var en=0;function ProviderView_classPrivateFieldLooseKey(t){return"__private_"+en+++"_"+t}function formatBreadcrumbs(t){return t.slice(1).map(function(t){return t.name}).join("/")}function prependPath(t,i){return t?"".concat(t,"/").concat(i):i}function defaultPickerIcon(){return(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},(0,Se.h)("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var tn={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1},rn=ProviderView_classPrivateFieldLooseKey("abortController"),nn=ProviderView_classPrivateFieldLooseKey("withAbort"),an=ProviderView_classPrivateFieldLooseKey("list"),sn=ProviderView_classPrivateFieldLooseKey("listFilesAndFolders"),ln=ProviderView_classPrivateFieldLooseKey("recursivelyListAllFiles"),un=function(t){function ProviderView(t,i){var a;return(0,w.A)(this,ProviderView),a=function ProviderView_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,ProviderView_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,ProviderView,[t,ProviderView_objectSpread(ProviderView_objectSpread({},tn),i)]),Object.defineProperty(a,ln,{value:_recursivelyListAllFiles2}),Object.defineProperty(a,sn,{value:_listFilesAndFolders2}),Object.defineProperty(a,an,{value:_list2}),Object.defineProperty(a,nn,{value:_withAbort2}),Object.defineProperty(a,rn,{writable:!0,value:void 0}),a.filterQuery=a.filterQuery.bind(a),a.clearFilter=a.clearFilter.bind(a),a.getFolder=a.getFolder.bind(a),a.getNextFolder=a.getNextFolder.bind(a),a.logout=a.logout.bind(a),a.handleAuth=a.handleAuth.bind(a),a.handleScroll=a.handleScroll.bind(a),a.donePicking=a.donePicking.bind(a),a.render=a.render.bind(a),a.plugin.setPluginState({authenticated:void 0,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),a.registerRequestClient(),a}return(0,oe.A)(ProviderView,t),(0,te.A)(ProviderView,[{key:"tearDown",value:function tearDown(){}},{key:"getFolder",value:(ue=(0,pe.A)(de.mark(function _callee2(t,i){var a,y=this;return de.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.setLoading(!0),w.prev=1,w.next=2,ProviderView_classPrivateFieldLooseBase(this,nn)[nn](function(){var a=(0,pe.A)(de.mark(function _callee(a){var w,te,re,ae,oe,le,ue,pe;return de.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:y.lastCheckbox=void 0,w=y.plugin.getPluginState(),te=w.breadcrumbs,re=te.findIndex(function(i){return t===i.requestPath}),te=-1!==re?te.slice(0,re+1):[].concat((0,Vt.A)(te),[{requestPath:t,name:i}]),y.nextPagePath=t,ae=[],oe=[];case 1:return de.next=2,ProviderView_classPrivateFieldLooseBase(y,sn)[sn]({breadcrumbs:te,signal:a});case 2:le=de.sent,ue=le.files,pe=le.folders,ae=ae.concat(ue),oe=oe.concat(pe),y.setLoading(y.plugin.uppy.i18n("loadedXFiles",{numFiles:ae.length+oe.length}));case 3:if(y.opts.loadAllFiles&&y.nextPagePath){de.next=1;break}case 4:y.plugin.setPluginState({folders:oe,files:ae,breadcrumbs:te,filterInput:""});case 5:case"end":return de.stop()}},_callee)}));return function(t){return a.apply(this,arguments)}}());case 2:w.next=5;break;case 3:if(w.prev=3,"UserFacingApiError"!==(null==(a=w.catch(1))?void 0:a.name)){w.next=4;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(a.message)},"warning",5e3),w.abrupt("return");case 4:this.handleError(a);case 5:return w.prev=5,this.setLoading(!1),w.finish(5);case 6:case"end":return w.stop()}},_callee2,this,[[1,3,5,6]])})),function getFolder(_x,t){return ue.apply(this,arguments)})},{key:"getNextFolder",value:function getNextFolder(t){this.getFolder(t.requestPath,t.name),this.lastCheckbox=void 0}},{key:"logout",value:(le=(0,pe.A)(de.mark(function _callee4(){var t,i=this;return de.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=1,ProviderView_classPrivateFieldLooseBase(this,nn)[nn](function(){var t=(0,pe.A)(de.mark(function _callee3(t){var a,y,w;return de.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=1,i.provider.logout({signal:t});case 1:(a=te.sent).ok&&(a.revoked||(y=i.plugin.uppy.i18n("companionUnauthorizeHint",{provider:i.plugin.title,url:a.manual_revoke_url}),i.plugin.uppy.info(y,"info",7e3)),w={authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""},i.plugin.setPluginState(w));case 2:case"end":return te.stop()}},_callee3)}));return function(i){return t.apply(this,arguments)}}());case 1:a.next=3;break;case 2:a.prev=2,t=a.catch(0),this.handleError(t);case 3:case"end":return a.stop()}},_callee4,this,[[0,2]])})),function logout(){return le.apply(this,arguments)})},{key:"filterQuery",value:function filterQuery(t){this.plugin.setPluginState({filterInput:t})}},{key:"clearFilter",value:function clearFilter(){this.plugin.setPluginState({filterInput:""})}},{key:"handleAuth",value:(y=(0,pe.A)(de.mark(function _callee6(t){var i,a=this;return de.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,y.next=1,ProviderView_classPrivateFieldLooseBase(this,nn)[nn](function(){var i=(0,pe.A)(de.mark(function _callee5(i){return de.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return a.setLoading(!0),y.next=1,a.provider.login({authFormData:t,signal:i});case 1:a.plugin.setPluginState({authenticated:!0}),a.preFirstRender();case 2:case"end":return y.stop()}},_callee5)}));return function(t){return i.apply(this,arguments)}}());case 1:y.next=4;break;case 2:if(y.prev=2,"UserFacingApiError"!==(i=y.catch(0)).name){y.next=3;break}return this.plugin.uppy.info({message:this.plugin.uppy.i18n(i.message)},"warning",5e3),y.abrupt("return");case 3:this.plugin.uppy.log("login failed: ".concat(i.message));case 4:return y.prev=4,this.setLoading(!1),y.finish(4);case 5:case"end":return y.stop()}},_callee6,this,[[0,2,4,5]])})),function handleAuth(t){return y.apply(this,arguments)})},{key:"handleScroll",value:(a=(0,pe.A)(de.mark(function _callee8(t){var i,a=this;return de.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!this.shouldHandleScroll(t)||!this.nextPagePath){y.next=5;break}return this.isHandlingScroll=!0,y.prev=1,y.next=2,ProviderView_classPrivateFieldLooseBase(this,nn)[nn](function(){var t=(0,pe.A)(de.mark(function _callee7(t){var i,y,w,te,re,ae,oe,le,ue;return de.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return i=a.plugin.getPluginState(),y=i.files,w=i.folders,te=i.breadcrumbs,pe.next=1,ProviderView_classPrivateFieldLooseBase(a,sn)[sn]({breadcrumbs:te,signal:t});case 1:re=pe.sent,ae=re.files,oe=re.folders,le=y.concat(ae),ue=w.concat(oe),a.plugin.setPluginState({folders:ue,files:le});case 2:case"end":return pe.stop()}},_callee7)}));return function(i){return t.apply(this,arguments)}}());case 2:y.next=4;break;case 3:y.prev=3,i=y.catch(1),this.handleError(i);case 4:return y.prev=4,this.isHandlingScroll=!1,y.finish(4);case 5:case"end":return y.stop()}},_callee8,this,[[1,3,4,5]])})),function handleScroll(t){return a.apply(this,arguments)})},{key:"donePicking",value:(i=(0,pe.A)(de.mark(function _callee0(){var t,i=this;return de.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return this.setLoading(!0),a.prev=1,a.next=2,ProviderView_classPrivateFieldLooseBase(this,nn)[nn](function(){var t=(0,pe.A)(de.mark(function _callee9(t){var a,y,w,te,re,ae,oe,le;return de.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:a=i.plugin.getPluginState(),y=a.currentSelection,w=[],te=[],re=ProviderView_createForOfIteratorHelper(y),ue.prev=1,oe=de.mark(function _loop(){var a,y,re,oe,le,ue,pe,he;return de.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(a=ae.value,y=a.requestPath,re=function withRelDirPath(t){return ProviderView_objectSpread(ProviderView_objectSpread({},t),{},{relDirPath:t.absDirPath.replace(a.absDirPath,"").replace(/^\//,"")})},!a.isFolder){de.next=3;break}return oe=!0,le=0,ue=new Ar({concurrency:6}),pe=function onFiles(t){var a,y=ProviderView_createForOfIteratorHelper(t);try{for(y.s();!(a=y.n()).done;){var w=a.value,ae=getSafeFileId(i.getTagFile(w),i.plugin.uppy.getID());i.plugin.uppy.checkIfFileAlreadyExists(ae)||(te.push(re(w)),le++,i.setLoading(i.plugin.uppy.i18n("addedNumFiles",{numFiles:le}))),oe=!1}}catch(t){y.e(t)}finally{y.f()}},de.next=1,ProviderView_classPrivateFieldLooseBase(i,ln)[ln]({requestPath:y,absDirPath:prependPath(a.absDirPath,a.name),relDirPath:a.name,queue:ue,onFiles:pe,signal:t});case 1:return de.next=2,ue.onIdle();case 2:he=oe?i.plugin.uppy.i18n("emptyFolderAdded"):0===le?i.plugin.uppy.i18n("folderAlreadyAdded",{folder:a.name}):i.plugin.uppy.i18n("folderAdded",{smart_count:le,folder:a.name}),w.push(he),de.next=4;break;case 3:te.push(re(a));case 4:case"end":return de.stop()}},_loop)}),re.s();case 2:if((ae=re.n()).done){ue.next=4;break}return ue.delegateYield(oe(),"t0",3);case 3:ue.next=2;break;case 4:ue.next=6;break;case 5:ue.prev=5,le=ue.catch(1),re.e(le);case 6:return ue.prev=6,re.f(),ue.finish(6);case 7:i.plugin.uppy.log("Adding files from a remote provider"),i.plugin.uppy.addFiles(te.map(function(t){return i.getTagFile(t,i.requestClientId)})),i.plugin.setPluginState({filterInput:""}),w.forEach(function(t){return i.plugin.uppy.info(t)}),i.clearSelection();case 8:case"end":return ue.stop()}},_callee9,null,[[1,5,6,7]])}));return function(i){return t.apply(this,arguments)}}());case 2:a.next=4;break;case 3:a.prev=3,t=a.catch(1),this.handleError(t);case 4:return a.prev=4,this.setLoading(!1),a.finish(4);case 5:case"end":return a.stop()}},_callee0,this,[[1,3,4,5]])})),function donePicking(){return i.apply(this,arguments)})},{key:"render",value:function render(t,i){var a=this;void 0===i&&(i={});var y=this.plugin.getPluginState(),w=y.authenticated,te=y.didFirstRender,re=this.plugin.uppy.i18n;te||this.preFirstRender();var ae=ProviderView_objectSpread(ProviderView_objectSpread({},this.opts),i),oe=this.plugin.getPluginState(),le=oe.files,ue=oe.folders,pe=oe.filterInput,de=oe.loading,he=oe.currentSelection,fe=this.isChecked,ve=this.recordShiftKeyPress,me=this.filterItems,ge=""!==pe,_e=this.plugin.icon||defaultPickerIcon,Pe={showBreadcrumbs:ae.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:_e,title:this.plugin.title,logout:this.logout,username:this.username,i18n:re},Fe={isChecked:fe,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:ve,currentSelection:he,files:ge?me(le):le,folders:ge?me(ue):ue,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,virtualList:this.opts.virtualList,showSearchFilter:ae.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:pe,searchOnInput:!0,searchInputLabel:re("filter"),clearSearchLabel:re("resetFilter"),noResultsLabel:re("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:(0,Se.h)(Header,Pe),title:this.plugin.title,viewType:ae.viewType,showTitles:ae.showTitles,showBreadcrumbs:ae.showBreadcrumbs,pluginIcon:_e,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function validateRestrictions(){var t;return(t=a.plugin.uppy).validateRestrictions.apply(t,arguments)},isLoading:de};return!1===w?(0,Se.h)(Jr,{onUnmount:this.clearSelection},(0,Se.h)(AuthView,{pluginName:this.plugin.title,pluginIcon:_e,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18nArray,renderForm:this.opts.renderAuthForm,loading:de})):(0,Se.h)(Jr,{onUnmount:this.clearSelection},(0,Se.h)(Yr,Fe))}}]);var i,a,y,le,ue}(Zr);function _withAbort2(t){return _withAbort3.apply(this,arguments)}function _withAbort3(){return(_withAbort3=(0,pe.A)(de.mark(function _callee1(t){var i,a,y,w=this;return de.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return null==(i=ProviderView_classPrivateFieldLooseBase(this,rn)[rn])||i.abort(),a=new AbortController,ProviderView_classPrivateFieldLooseBase(this,rn)[rn]=a,y=function cancelRequest(){a.abort(),w.clearSelection()},te.prev=1,this.plugin.uppy.on("dashboard:close-panel",y),this.plugin.uppy.on("cancel-all",y),te.next=2,t(a.signal);case 2:return te.prev=2,this.plugin.uppy.off("dashboard:close-panel",y),this.plugin.uppy.off("cancel-all",y),ProviderView_classPrivateFieldLooseBase(this,rn)[rn]=void 0,te.finish(2);case 3:case"end":return te.stop()}},_callee1,this,[[1,,2,3]])}))).apply(this,arguments)}function _list2(t){return _list3.apply(this,arguments)}function _list3(){return(_list3=(0,pe.A)(de.mark(function _callee10(t){var i,a,y,w,te,re,ae;return de.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return i=t.requestPath,a=t.absDirPath,y=t.signal,oe.next=1,this.provider.list(i,{signal:y});case 1:return w=oe.sent,te=w.username,re=w.nextPagePath,ae=w.items,this.username=te||this.username,oe.abrupt("return",{items:ae.map(function(t){return ProviderView_objectSpread(ProviderView_objectSpread({},t),{},{absDirPath:a})}),nextPagePath:re});case 2:case"end":return oe.stop()}},_callee10,this)}))).apply(this,arguments)}function _listFilesAndFolders2(t){return _listFilesAndFolders3.apply(this,arguments)}function _listFilesAndFolders3(){return(_listFilesAndFolders3=(0,pe.A)(de.mark(function _callee11(t){var i,a,y,w,te,re,ae,oe;return de.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return i=t.breadcrumbs,a=t.signal,y=formatBreadcrumbs(i),le.next=1,ProviderView_classPrivateFieldLooseBase(this,an)[an]({requestPath:this.nextPagePath,absDirPath:y,signal:a});case 1:return w=le.sent,te=w.items,re=w.nextPagePath,this.nextPagePath=re,ae=[],oe=[],te.forEach(function(t){t.isFolder?oe.push(t):ae.push(t)}),le.abrupt("return",{files:ae,folders:oe});case 2:case"end":return le.stop()}},_callee11,this)}))).apply(this,arguments)}function _recursivelyListAllFiles2(t){return _recursivelyListAllFiles3.apply(this,arguments)}function _recursivelyListAllFiles3(){return _recursivelyListAllFiles3=(0,pe.A)(de.mark(function _callee14(t){var i,a,y,w,te,re,ae,oe,le,ue,he,fe=this;return de.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:i=t.requestPath,a=t.absDirPath,y=t.relDirPath,w=t.queue,te=t.onFiles,re=t.signal,ae=i;case 1:if(!ae){ve.next=4;break}return ve.next=2,ProviderView_classPrivateFieldLooseBase(this,an)[an]({requestPath:ae,absDirPath:a,signal:re});case 2:return oe=ve.sent,ae=oe.nextPagePath,le=oe.items.filter(function(t){return!t.isFolder}),ue=oe.items.filter(function(t){return t.isFolder}),te(le),he=ue.map(function(){var t=(0,pe.A)(de.mark(function _callee13(t){return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",w.add((0,pe.A)(de.mark(function _callee12(){return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",ProviderView_classPrivateFieldLooseBase(fe,ln)[ln]({requestPath:t.requestPath,absDirPath:prependPath(a,t.name),relDirPath:prependPath(y,t.name),queue:w,onFiles:te,signal:re}));case 1:case"end":return i.stop()}},_callee12)}))));case 1:case"end":return i.stop()}},_callee13)}));return function(i){return t.apply(this,arguments)}}()),ve.next=3,Promise.all(he);case 3:ve.next=1;break;case 4:case"end":return ve.stop()}},_callee14,this)})),_recursivelyListAllFiles3.apply(this,arguments)}function SearchProviderView_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function SearchProviderView_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?SearchProviderView_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):SearchProviderView_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function SearchProviderView_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(SearchProviderView_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function SearchProviderView_classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}un.VERSION="3.13.0";var cn=0;function SearchProviderView_classPrivateFieldLooseKey(t){return"__private_"+cn+++"_"+t}var pn={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},dn={viewType:"grid",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},hn=SearchProviderView_classPrivateFieldLooseKey("updateFilesAndInputMode"),fn=function(t){function SearchProviderView(t,i){var a;return(0,w.A)(this,SearchProviderView),a=function SearchProviderView_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,SearchProviderView_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,SearchProviderView,[t,SearchProviderView_objectSpread(SearchProviderView_objectSpread({},dn),i)]),Object.defineProperty(a,hn,{value:_updateFilesAndInputMode2}),a.nextPageQuery=null,a.search=a.search.bind(a),a.clearSearch=a.clearSearch.bind(a),a.resetPluginState=a.resetPluginState.bind(a),a.handleScroll=a.handleScroll.bind(a),a.donePicking=a.donePicking.bind(a),a.render=a.render.bind(a),a.plugin.setPluginState(pn),a.registerRequestClient(),a}return(0,oe.A)(SearchProviderView,t),(0,te.A)(SearchProviderView,[{key:"tearDown",value:function tearDown(){}},{key:"resetPluginState",value:function resetPluginState(){this.plugin.setPluginState(pn)}},{key:"search",value:(a=(0,pe.A)(de.mark(function _callee(t){var i,a,y,w;return de.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(i=this.plugin.getPluginState(),a=i.searchTerm,!t||t!==a){te.next=1;break}return te.abrupt("return");case 1:return this.setLoading(!0),te.prev=2,te.next=3,this.provider.search(t);case 3:y=te.sent,SearchProviderView_classPrivateFieldLooseBase(this,hn)[hn](y,[]),te.next=5;break;case 4:te.prev=4,w=te.catch(2),this.handleError(w);case 5:return te.prev=5,this.setLoading(!1),te.finish(5);case 6:case"end":return te.stop()}},_callee,this,[[2,4,5,6]])})),function search(_x){return a.apply(this,arguments)})},{key:"clearSearch",value:function clearSearch(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}},{key:"handleScroll",value:(i=(0,pe.A)(de.mark(function _callee2(t){var i,a,y,w,te,re;return de.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(i=this.nextPageQuery||null,!this.shouldHandleScroll(t)||!i){ae.next=5;break}return this.isHandlingScroll=!0,ae.prev=1,a=this.plugin.getPluginState(),y=a.files,w=a.searchTerm,ae.next=2,this.provider.search(w,i);case 2:te=ae.sent,SearchProviderView_classPrivateFieldLooseBase(this,hn)[hn](te,y),ae.next=4;break;case 3:ae.prev=3,re=ae.catch(1),this.handleError(re);case 4:return ae.prev=4,this.isHandlingScroll=!1,ae.finish(4);case 5:case"end":return ae.stop()}},_callee2,this,[[1,3,4,5]])})),function handleScroll(t){return i.apply(this,arguments)})},{key:"donePicking",value:function donePicking(){var t=this,i=this.plugin.getPluginState().currentSelection;this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(i.map(function(i){return t.getTagFile(i)})),this.resetPluginState()}},{key:"render",value:function render(t,i){var a=this;void 0===i&&(i={});var y=this.plugin.getPluginState(),w=y.didFirstRender,te=y.isInputMode,re=y.searchTerm,ae=this.plugin.uppy.i18n;w||this.preFirstRender();var oe=SearchProviderView_objectSpread(SearchProviderView_objectSpread({},this.opts),i),le=this.plugin.getPluginState(),ue=le.files,pe=le.folders,de=le.filterInput,he=le.loading,fe=le.currentSelection,ve=this.isChecked,me=this.filterItems,ge=this.recordShiftKeyPress,_e=""!==de,Pe={isChecked:ve,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:ge,currentSelection:fe,files:_e?me(ue):ue,folders:_e?me(pe):pe,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:oe.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:re,searchOnInput:!1,searchInputLabel:ae("search"),clearSearchLabel:ae("resetSearch"),noResultsLabel:ae("noSearchResults"),title:this.plugin.title,viewType:oe.viewType,showTitles:oe.showTitles,showFilter:oe.showFilter,isLoading:he,showBreadcrumbs:oe.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:ae,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function validateRestrictions(){var t;return(t=a.plugin.uppy).validateRestrictions.apply(t,arguments)}};return te?(0,Se.h)(Jr,{onUnmount:this.resetPluginState},(0,Se.h)("div",{className:"uppy-SearchProvider"},(0,Se.h)(SearchFilterInput,{search:this.search,inputLabel:ae("enterTextToSearch"),buttonLabel:ae("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0}))):(0,Se.h)(Jr,{onUnmount:this.resetPluginState},(0,Se.h)(Yr,Pe))}}]);var i,a}(Zr);function _updateFilesAndInputMode2(t,i){this.nextPageQuery=t.nextPageQuery,t.items.forEach(function(t){i.push(t)}),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:i,searchTerm:t.searchedFor})}fn.VERSION="3.13.0";var vn=a(24063);const mn=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function getActiveOverlayEl(t,i){if(i){var a=t.querySelector('[data-uppy-paneltype="'.concat(i,'"]'));if(a)return a}return t}function focusOnFirstNode(t,i){var a=i[0];a&&(a.focus(),t.preventDefault())}function trapFocus(t,i,a){var y=getActiveOverlayEl(a,i),w=Nt(y.querySelectorAll(mn)),te=w.indexOf(document.activeElement);!function isFocusInOverlay(t){return t.contains(document.activeElement)}(y)?focusOnFirstNode(t,w):t.shiftKey&&0===te?function focusOnLastNode(t,i){var a=i[i.length-1];a&&(a.focus(),t.preventDefault())}(t,w):t.shiftKey||te!==w.length-1||focusOnFirstNode(t,w)}var yn=a(59209);a(26910);var gn=["data","rowHeight","renderRow","overscanCount"];function lib_VirtualList_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function lib_VirtualList_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?lib_VirtualList_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):lib_VirtualList_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function lib_VirtualList_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lib_VirtualList_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function VirtualList_extends(){return VirtualList_extends=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var y in a)Object.prototype.hasOwnProperty.call(a,y)&&(t[y]=a[y])}return t},VirtualList_extends.apply(this,arguments)}var bn={position:"relative",width:"100%",minHeight:"100%"},wn={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},Pn=function(t){function VirtualList(t){var i;return(0,w.A)(this,VirtualList),i=function lib_VirtualList_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,lib_VirtualList_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,VirtualList,[t]),i.handleScroll=function(){i.setState({offset:i.base.scrollTop})},i.handleResize=function(){i.resize()},i.focusElement=null,i.state={offset:0,height:0},i}return(0,oe.A)(VirtualList,t),(0,te.A)(VirtualList,[{key:"componentDidMount",value:function componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function resize(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function render(t){var i=t.data,a=t.rowHeight,y=t.renderRow,w=t.overscanCount,te=void 0===w?10:w,re=(0,$e.A)(t,gn),ae=this.state,oe=ae.offset,le=ae.height,ue=Math.floor(oe/a),pe=Math.floor(le/a);te&&(ue=Math.max(0,ue-ue%te),pe+=te);var de=ue+pe+4,he=i.slice(ue,de),fe=lib_VirtualList_objectSpread(lib_VirtualList_objectSpread({},bn),{},{height:i.length*a}),ve=lib_VirtualList_objectSpread(lib_VirtualList_objectSpread({},wn),{},{top:ue*a});return(0,Se.h)("div",VirtualList_extends({onScroll:this.handleScroll},re),(0,Se.h)("div",{role:"presentation",style:fe},(0,Se.h)("div",{role:"presentation",style:ve},he.map(y))))}}])}(Se.uA);const Fn=Pn;var Sn=a(3517);function getIconByMime(t){var i={color:"#838999",icon:(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Se.h)("g",{fill:"#A7AFB7",fillRule:"nonzero"},(0,Se.h)("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),(0,Se.h)("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!t)return i;var a=t.split("/")[0],y=t.split("/")[1];if("text"===a)return{color:"#5a5e69",icon:(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Se.h)("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))};if("image"===a)return{color:"#686de0",icon:(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Se.h)("g",{fill:"#686DE0",fillRule:"evenodd"},(0,Se.h)("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),(0,Se.h)("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),(0,Se.h)("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))};if("audio"===a)return{color:"#068dbb",icon:(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Se.h)("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))};if("video"===a)return{color:"#19af67",icon:(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Se.h)("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))};if("application"===a&&"pdf"===y)return{color:"#e25149",icon:(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Se.h)("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))};return"application"===a&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(y)?{color:"#00C469",icon:(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},(0,Se.h)("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:i}function FilePreview(t){var i=t.file;if(i.preview)return(0,Se.h)("img",{className:"uppy-Dashboard-Item-previewImg",alt:i.name,src:i.preview});var a=getIconByMime(i.type),y=a.color,w=a.icon;return(0,Se.h)("div",{className:"uppy-Dashboard-Item-previewIconWrap"},(0,Se.h)("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:y}},w),(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},(0,Se.h)("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}function renderMissingMetaFieldsError(t){var i=t.file,a=t.toggleFileCard,y=t.i18n,w=t.metaFields,te=i.missingRequiredMetaFields;if(null==te||!te.length)return null;var re=te.map(function(t){return function metaFieldIdToName(t,i){var a=("function"==typeof i?i():i).filter(function(i){return i.id===t});return a[0].name}(t,w)}).join(", ");return(0,Se.h)("div",{className:"uppy-Dashboard-Item-errorMessage"},y("missingRequiredMetaFields",{smart_count:te.length,fields:re})," ",(0,Se.h)("button",{type:"button","class":"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function onClick(){return a(!0,i.id)}},y("editFile")))}function FilePreviewAndLink(t){var i=t.file,a=t.i18n,y=t.toggleFileCard,w=t.metaFields,te=t.showLinkToFileUploadResult,re=i.preview?"rgba(255, 255, 255, 0.5)":getIconByMime(t.file.type).color;return(0,Se.h)("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:re}},te&&i.uploadURL&&(0,Se.h)("a",{className:"uppy-Dashboard-Item-previewLink",href:i.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":i.meta.name},(0,Se.h)("span",{hidden:!0},i.meta.name)),(0,Se.h)(FilePreview,{file:i}),(0,Se.h)(renderMissingMetaFieldsError,{file:i,i18n:a,toggleFileCard:y,metaFields:w}))}function progressIndicatorTitle(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function ProgressIndicatorButton(t){return(0,Se.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":progressIndicatorTitle(t),title:progressIndicatorTitle(t),onClick:function onClick(){return function onPauseResumeCancelRetry(t){t.isUploaded||(!t.error||t.hideRetryButton?t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id):t.uppy.retryUpload(t.file.id))}(t)}},t.children))}function ProgressCircleContainer(t){var i=t.children;return(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},i)}function ProgressCircle(t){var i=t.progress,a=2*Math.PI*15;return(0,Se.h)("g",null,(0,Se.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),(0,Se.h)("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":a,"stroke-dashoffset":a-a/100*i}))}function FileProgress(t){return t.file.progress.uploadStarted?t.isUploaded?(0,Se.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Se.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,Se.h)(ProgressCircleContainer,null,(0,Se.h)("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),(0,Se.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):t.recoveredState?void 0:t.error&&!t.hideRetryButton?(0,Se.h)(ProgressIndicatorButton,t,(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},(0,Se.h)("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),(0,Se.h)("path",{d:"M7.9 3H10v2H7.9z"}),(0,Se.h)("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),(0,Se.h)("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):t.resumableUploads&&!t.hidePauseResumeButton?(0,Se.h)(ProgressIndicatorButton,t,(0,Se.h)(ProgressCircleContainer,null,(0,Se.h)(ProgressCircle,{progress:t.file.progress.percentage}),t.file.isPaused?(0,Se.h)("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):(0,Se.h)("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},(0,Se.h)("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),(0,Se.h)("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):t.resumableUploads||!t.individualCancellation||t.hideCancelButton?(0,Se.h)("div",{className:"uppy-Dashboard-Item-progress"},(0,Se.h)("div",{className:"uppy-Dashboard-Item-progressIndicator"},(0,Se.h)(ProgressCircleContainer,null,(0,Se.h)(ProgressCircle,{progress:t.file.progress.percentage})))):(0,Se.h)(ProgressIndicatorButton,t,(0,Se.h)(ProgressCircleContainer,null,(0,Se.h)(ProgressCircle,{progress:t.file.progress.percentage}),(0,Se.h)("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}var kn="...";function truncateString(t,i){if(0===i)return"";if(t.length<=i)return t;if(i<=4)return"".concat(t.slice(0,i-1),"…");var a=i-3,y=Math.ceil(a/2),w=Math.floor(a/2);return t.slice(0,y)+kn+t.slice(-w)}var An=function ErrorButton(t){var i=t.file,a=t.onClick;return i.error?(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":i.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:a,type:"button"},"?"):null};function FileInfo(t){var i=t.file;return(0,Se.h)("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":i.source},(0,Se.h)("div",{className:"uppy-Dashboard-Item-fileName"},function renderFileName(t){var i=t.file.meta,a=i.author,y=i.name;return(0,Se.h)("div",{className:"uppy-Dashboard-Item-name",title:y},truncateString(y,function getMaxNameLength(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:a?20:30}()))}(t),(0,Se.h)(An,{file:t.file,onClick:function onClick(){return alert(t.file.error)}})),(0,Se.h)("div",{className:"uppy-Dashboard-Item-status"},function renderAuthor(t){var i,a=t.file.meta.author,y=null==(i=t.file.remote)?void 0:i.providerName;return a?(0,Se.h)("div",{className:"uppy-Dashboard-Item-author"},(0,Se.h)("a",{href:"".concat(a.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},truncateString(a.name,13)),y?(0,Se.h)(Se.FK,null," ".concat("·"," "),y," ".concat("·"," ")):null):null}(t),function renderFileSize(t){return t.file.size&&(0,Se.h)("div",{className:"uppy-Dashboard-Item-statusSize"},Ce(t.file.size))}(t),function ReSelectButton(t){return t.file.isGhost&&(0,Se.h)("span",null," • ",(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:t.toggleAddFilesPanel},t.i18n("reSelect")))}(t)),(0,Se.h)(renderMissingMetaFieldsError,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}function EditButton(t){var i=t.file,a=t.uploadInProgressOrComplete,y=t.metaFields,w=t.canEditFile,te=t.i18n,re=t.onClick;return!a&&y&&y.length>0||!a&&w(i)?(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":te("editFileWithFilename",{file:i.meta.name}),title:te("editFileWithFilename",{file:i.meta.name}),onClick:function onClick(){return re()}},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},(0,Se.h)("g",{fillRule:"evenodd"},(0,Se.h)("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),(0,Se.h)("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),(0,Se.h)("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function RemoveButton(t){var i=t.i18n,a=t.onClick,y=t.file;return(0,Se.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":i("removeFile",{file:y.meta.name}),title:i("removeFile",{file:y.meta.name}),onClick:function onClick(){return a()}},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},(0,Se.h)("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),(0,Se.h)("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var Cn=function copyLinkToClipboard(t,i){(function copyToClipboard(t,i){return void 0===i&&(i="Copy the URL below"),new Promise(function(a){var y=document.createElement("textarea");y.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),y.value=t,document.body.appendChild(y),y.select();var w=function magicCopyFailed(){document.body.removeChild(y),window.prompt(i,t),a()};try{return document.execCommand("copy")?(document.body.removeChild(y),a()):w()}catch(t){return document.body.removeChild(y),w()}})})(i.file.uploadURL,i.i18n("copyLinkToClipboardFallback")).then(function(){i.uppy.log("Link copied to clipboard."),i.uppy.info(i.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(i.uppy.log).then(function(){return t.target.focus({preventScroll:!0})})};function CopyLinkButton(t){var i=t.i18n;return(0,Se.h)("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":i("copyLink"),title:i("copyLink"),onClick:function onClick(i){return Cn(i,t)}},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},(0,Se.h)("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function Buttons(t){var i=t.uppy,a=t.file,y=t.uploadInProgressOrComplete,w=t.canEditFile,te=t.metaFields,re=t.showLinkToFileUploadResult,ae=t.showRemoveButton,oe=t.i18n,le=t.toggleFileCard,ue=t.openFileEditor;return(0,Se.h)("div",{className:"uppy-Dashboard-Item-actionWrapper"},(0,Se.h)(EditButton,{i18n:oe,file:a,uploadInProgressOrComplete:y,canEditFile:w,metaFields:te,onClick:function editAction(){te&&te.length>0?le(!0,a.id):ue(a)}}),re&&a.uploadURL?(0,Se.h)(CopyLinkButton,{file:a,uppy:i,i18n:oe}):null,ae?(0,Se.h)(RemoveButton,{i18n:oe,file:a,uppy:i,onClick:function onClick(){return t.uppy.removeFile(a.id,"removed-by-user")}}):null)}function FileItem_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(FileItem_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var On=function(t){function FileItem(){return(0,w.A)(this,FileItem),function FileItem_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,FileItem_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,FileItem,arguments)}return(0,oe.A)(FileItem,t),(0,te.A)(FileItem,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props.file;t.preview||this.props.handleRequestThumbnail(t)}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t){return!Sn(this.props,t)}},{key:"componentDidUpdate",value:function componentDidUpdate(){var t=this.props.file;t.preview||this.props.handleRequestThumbnail(t)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props.file;t.preview||this.props.handleCancelThumbnail(t)}},{key:"render",value:function render(){var t=this.props.file,i=t.progress.preprocess||t.progress.postprocess,a=t.progress.uploadComplete&&!i&&!t.error,y=t.progress.uploadStarted||i,w=t.progress.uploadStarted&&!t.progress.uploadComplete||i,te=t.error||!1,re=t.isGhost,ae=(this.props.individualCancellation||!w)&&!a;a&&this.props.showRemoveButtonAfterComplete&&(ae=!0);var oe=Ae({"uppy-Dashboard-Item":!0,"is-inprogress":w&&!this.props.recoveredState,"is-processing":i,"is-complete":a,"is-error":!!te,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":re});return(0,Se.h)("div",{className:oe,id:"uppy_".concat(t.id),role:this.props.role},(0,Se.h)("div",{className:"uppy-Dashboard-Item-preview"},(0,Se.h)(FilePreviewAndLink,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),(0,Se.h)(FileProgress,{uppy:this.props.uppy,file:t,error:te,isUploaded:a,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),(0,Se.h)("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},(0,Se.h)(FileInfo,{file:t,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),(0,Se.h)(Buttons,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:ae,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:y,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}])}(Se.uA);const FileList=function(t){var i=t.id,a=t.error,y=t.i18n,w=t.uppy,te=t.files,re=t.acquirers,ae=t.resumableUploads,oe=t.hideRetryButton,le=t.hidePauseResumeButton,ue=t.hideCancelButton,pe=t.showLinkToFileUploadResult,de=t.showRemoveButtonAfterComplete,he=t.isWide,fe=t.metaFields,ve=t.isSingleFile,me=t.toggleFileCard,ge=t.handleRequestThumbnail,_e=t.handleCancelThumbnail,Pe=t.recoveredState,Fe=t.individualCancellation,Ae=t.itemsPerRow,Ce=t.openFileEditor,De=t.canEditFile,xe=t.toggleAddFilesPanel,Ue=t.containerWidth,Be=t.containerHeight,Te=1===Ae?71:200,Ee=hooks_module_T(function(){var t=Object.keys(te);return Pe&&t.sort(function sortByGhostComesFirst(t,i){return te[i].isGhost-te[t].isGhost}),function chunks(t,i){var a=[],y=[];return t.forEach(function(t){y.length<i?y.push(t):(a.push(y),y=[t])}),y.length&&a.push(y),a}(t,Ae)},[te,Ae,Pe]),Ie=function renderRow(t){return(0,Se.h)("div",{"class":"uppy-Dashboard-filesInner",role:"presentation",key:t[0]},t.map(function(t){return(0,Se.h)(On,{key:t,uppy:w,id:i,error:a,i18n:y,acquirers:re,resumableUploads:ae,individualCancellation:Fe,hideRetryButton:oe,hidePauseResumeButton:le,hideCancelButton:ue,showLinkToFileUploadResult:pe,showRemoveButtonAfterComplete:de,isWide:he,metaFields:fe,recoveredState:Pe,isSingleFile:ve,containerWidth:Ue,containerHeight:Be,toggleFileCard:me,handleRequestThumbnail:ge,handleCancelThumbnail:_e,role:"listitem",openFileEditor:Ce,canEditFile:De,toggleAddFilesPanel:xe,file:te[t]})}))};return ve?(0,Se.h)("div",{"class":"uppy-Dashboard-files"},Ie(Ee[0])):(0,Se.h)(Fn,{"class":"uppy-Dashboard-files",role:"list",data:Ee,renderRow:Ie,rowHeight:Te})};function AddFiles_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(AddFiles_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var Dn;Dn=Symbol.for("uppy test: disable unused locale key warning");var xn=function(t,i){function AddFiles(){var t;return(0,w.A)(this,AddFiles),t=function AddFiles_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,AddFiles_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,AddFiles,arguments),t.triggerFileInputClick=function(){t.fileInput.click()},t.triggerFolderInputClick=function(){t.folderInput.click()},t.triggerVideoCameraInputClick=function(){t.mobileVideoFileInput.click()},t.triggerPhotoCameraInputClick=function(){t.mobilePhotoFileInput.click()},t.onFileInputChange=function(i){t.props.handleInputChange(i),i.target.value=null},t.renderHiddenInput=function(i,a){return(0,Se.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:i,type:"file",name:"files[]",multiple:1!==t.props.maxNumberOfFiles,onChange:t.onFileInputChange,accept:t.props.allowedFileTypes,ref:a})},t.renderHiddenCameraInput=function(i,a,y){var w={photo:"image/*",video:"video/*"}[i];return(0,Se.h)("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:"camera-".concat(i),onChange:t.onFileInputChange,capture:a,accept:w,ref:y})},t.renderMyDeviceAcquirer=function(){return(0,Se.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:t.triggerFileInputClick},(0,Se.h)("div",{className:"uppy-DashboardTab-inner"},(0,Se.h)("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Se.h)("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),(0,Se.h)("div",{className:"uppy-DashboardTab-name"},t.props.i18n("myDevice"))))},t.renderPhotoCamera=function(){return(0,Se.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:t.triggerPhotoCameraInputClick},(0,Se.h)("div",{className:"uppy-DashboardTab-inner"},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Se.h)("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),(0,Se.h)("div",{className:"uppy-DashboardTab-name"},t.props.i18n("takePictureBtn"))))},t.renderVideoCamera=function(){return(0,Se.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:t.triggerVideoCameraInputClick},(0,Se.h)("div",{className:"uppy-DashboardTab-inner"},(0,Se.h)("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Se.h)("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),(0,Se.h)("div",{className:"uppy-DashboardTab-name"},t.props.i18n("recordVideoBtn"))))},t.renderBrowseButton=function(i,a){var y=t.props.acquirers.length;return(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:a,"data-uppy-super-focusable":0===y},i)},t.renderDropPasteBrowseTagline=function(i){var a=t.renderBrowseButton(t.props.i18n("browseFiles"),t.triggerFileInputClick),y=t.renderBrowseButton(t.props.i18n("browseFolders"),t.triggerFolderInputClick),w=t.props.fileManagerSelectionType,te=w.charAt(0).toUpperCase()+w.slice(1);return(0,Se.h)("div",{"class":"uppy-Dashboard-AddFiles-title"},t.props.disableLocalFiles?t.props.i18n("importFiles"):i>0?t.props.i18nArray("dropPasteImport".concat(te),{browseFiles:a,browseFolders:y,browse:a}):t.props.i18nArray("dropPaste".concat(te),{browseFiles:a,browseFolders:y,browse:a}))},t.renderAcquirer=function(i){return(0,Se.h)("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":i.id},(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":i.id,"aria-controls":"uppy-DashboardContent-panel--".concat(i.id),"aria-selected":t.props.activePickerPanel.id===i.id,"data-uppy-super-focusable":!0,onClick:function onClick(){return t.props.showPanel(i.id)}},(0,Se.h)("div",{className:"uppy-DashboardTab-inner"},i.icon()),(0,Se.h)("div",{className:"uppy-DashboardTab-name"},i.name)))},t.renderAcquirers=function(i){var a=(0,Vt.A)(i),y=a.splice(i.length-2,i.length);return(0,Se.h)(Se.FK,null,a.map(function(i){return t.renderAcquirer(i)}),(0,Se.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},y.map(function(i){return t.renderAcquirer(i)})))},t.renderSourcesList=function(i,a){var y,w=t.props,te=w.showNativePhotoCameraButton,re=w.showNativeVideoCameraButton,ae=[],oe="myDevice";a||ae.push({key:oe,elements:t.renderMyDeviceAcquirer()}),te&&ae.push({key:"nativePhotoCameraButton",elements:t.renderPhotoCamera()}),re&&ae.push({key:"nativePhotoCameraButton",elements:t.renderVideoCamera()}),(y=ae).push.apply(y,(0,Vt.A)(i.map(function(i){return{key:i.id,elements:t.renderAcquirer(i)}}))),1===ae.length&&ae[0].key===oe&&(ae=[]);var le=(0,Vt.A)(ae),ue=le.splice(ae.length-2,ae.length),pe=function renderList(t){return t.map(function(t){var i=t.key,a=t.elements;return(0,Se.h)(Se.FK,{key:i},a)})};return(0,Se.h)(Se.FK,null,t.renderDropPasteBrowseTagline(ae.length),(0,Se.h)("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},pe(le),(0,Se.h)("span",{role:"presentation",style:{"white-space":"nowrap"}},pe(ue))))},t}return(0,oe.A)(AddFiles,t),(0,te.A)(AddFiles,[{key:i,value:function value(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function renderPoweredByUppy(){var t=(0,this.props.i18nArray)("poweredBy",{uppy:(0,Se.h)("span",null,(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},(0,Se.h)("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),(0,Se.h)("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"))});return(0,Se.h)("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},t)}},{key:"render",value:function render(){var t=this,i=this.props,a=i.showNativePhotoCameraButton,y=i.showNativeVideoCameraButton,w=i.nativeCameraFacingMode;return(0,Se.h)("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(i){t.fileInput=i}),this.renderHiddenInput(!0,function(i){t.folderInput=i}),a&&this.renderHiddenCameraInput("photo",w,function(i){t.mobilePhotoFileInput=i}),y&&this.renderHiddenCameraInput("video",w,function(i){t.mobileVideoFileInput=i}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),(0,Se.h)("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&(0,Se.h)("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}])}(Se.uA,Dn);const Un=xn;const Bn=function AddFilesPanel(t){return(0,Se.h)("div",{className:Ae("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel},(0,Se.h)("div",{className:"uppy-DashboardContent-bar"},(0,Se.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18n("addingMoreFiles")),(0,Se.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function onClick(){return t.toggleAddFilesPanel(!1)}},t.i18n("back"))),(0,Se.h)(Un,t))};const Tn=function ignoreEvent(t){var i=t.target.tagName;"INPUT"!==i&&"TEXTAREA"!==i?(t.preventDefault(),t.stopPropagation()):t.stopPropagation()};const En=function PickerPanelContent(t){var i=t.activePickerPanel,a=t.className,y=t.hideAllPanels,w=t.i18n,te=t.state,re=t.uppy;return(0,Se.h)("div",{className:Ae("uppy-DashboardContent-panel",a),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(i.id),onDragOver:Tn,onDragLeave:Tn,onDrop:Tn,onPaste:Tn},(0,Se.h)("div",{className:"uppy-DashboardContent-bar"},(0,Se.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},w("importFrom",{name:i.name})),(0,Se.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:y},w("cancel"))),(0,Se.h)("div",{className:"uppy-DashboardContent-panelBody"},re.getPlugin(i.id).render(te)))};const In=function EditorPanel(t){var i=t.files[t.fileCardFor];return(0,Se.h)("div",{className:Ae("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},(0,Se.h)("div",{className:"uppy-DashboardContent-bar"},(0,Se.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:(0,Se.h)("span",{className:"uppy-DashboardContent-titleFile"},i.meta?i.meta.name:i.name)})),(0,Se.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function handleCancel(){t.uppy.emit("file-editor:cancel",i),t.closeFileEditor()}},t.i18n("cancel")),(0,Se.h)("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),(0,Se.h)("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(function(i){return t.uppy.getPlugin(i.id).render(t.state)})))};var Ln="error",jn="waiting",Nn="preprocessing",Rn="uploading",Mn="postprocessing",zn="complete",Vn="paused";function UploadStatus(t){var i=t.files,a=t.i18n,y=t.isAllComplete,w=t.isAllErrored,te=t.isAllPaused,re=t.inProgressNotPausedFiles,ae=t.newFiles,oe=t.processingFiles,le=function PickerPanelTopBar_getUploadingState(t,i,a,y){if(void 0===y&&(y={}),t)return Ln;if(i)return zn;if(a)return Vn;for(var w=jn,te=Object.keys(y),re=0;re<te.length;re++){var ae=y[te[re]].progress;if(ae.uploadStarted&&!ae.uploadComplete)return Rn;ae.preprocess&&w!==Rn&&(w=Nn),ae.postprocess&&w!==Rn&&w!==Nn&&(w=Mn)}return w}(w,y,te,i);switch(le){case"uploading":return a("uploadingXFiles",{smart_count:re.length});case"preprocessing":case"postprocessing":return a("processingXFiles",{smart_count:oe.length});case"paused":return a("uploadPaused");case"waiting":return a("xFilesSelected",{smart_count:ae.length});case"complete":return a("uploadComplete");case"error":return a("error")}}const Hn=function PanelTopBar(t){var i=t.i18n,a=t.isAllComplete,y=t.hideCancelButton,w=t.maxNumberOfFiles,te=t.toggleAddFilesPanel,re=t.uppy,ae=t.allowNewUpload;return ae&&w&&(ae=t.totalFileCount<t.maxNumberOfFiles),(0,Se.h)("div",{className:"uppy-DashboardContent-bar"},a||y?(0,Se.h)("div",null):(0,Se.h)("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function onClick(){return re.cancelAll()}},i("cancel")),(0,Se.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},(0,Se.h)(UploadStatus,t)),ae?(0,Se.h)("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":i("addMoreFiles"),title:i("addMoreFiles"),onClick:function onClick(){return te(!0)}},(0,Se.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},(0,Se.h)("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),(0,Se.h)("span",{className:"uppy-DashboardContent-addMoreCaption"},i("addMore"))):(0,Se.h)("div",null))};a(21699);function RenderMetaFields(t){var i=t.computedMetaFields,a=t.requiredMetaFields,y=t.updateMeta,w=t.form,te=t.formState,re={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return i.map(function(t){var i="uppy-Dashboard-FileCard-input-".concat(t.id),ae=a.includes(t.id);return(0,Se.h)("fieldset",{key:t.id,className:"uppy-Dashboard-FileCard-fieldset"},(0,Se.h)("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:i},t.name),void 0!==t.render?t.render({value:te[t.id],onChange:function onChange(i){return y(i,t.id)},fieldCSSClasses:re,required:ae,form:w.id},Se.h):(0,Se.h)("input",{className:re.text,id:i,form:w.id,type:t.type||"text",required:ae,value:te[t.id],placeholder:t.placeholder,onInput:function onInput(i){return y(i.target.value,t.id)},"data-uppy-super-focusable":!0}))})}function FileCard_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function FileCard_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?FileCard_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):FileCard_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function FileCard(t){var i,a=t.files,w=t.fileCardFor,te=t.toggleFileCard,re=t.saveFileCard,ae=t.metaFields,oe=t.requiredMetaFields,le=t.openFileEditor,ue=t.i18n,pe=t.i18nArray,de=t.className,he=t.canEditFile,fe=a[w],ve=null!=(i=function getMetaFields(){return"function"==typeof ae?ae(a[w]):ae}())?i:[],me=he(fe),ge={};ve.forEach(function(t){var i;ge[t.id]=null!=(i=fe.meta[t.id])?i:""});var _e=hooks_module_d(ge),Pe=(0,Ge.A)(_e,2),Fe=Pe[0],Ce=Pe[1],De=hooks_module_q(function(t){t.preventDefault(),re(Fe,w)},[re,Fe,w]),xe=function handleCancel(){te(!1)},Ue=hooks_module_d(function(){var t=document.createElement("form");return t.setAttribute("tabindex","-1"),t.id=(0,Xr.A)(),t}),Be=(0,Ge.A)(Ue,1)[0];return hooks_module_y(function(){return document.body.appendChild(Be),Be.addEventListener("submit",De),function(){Be.removeEventListener("submit",De),document.body.removeChild(Be)}},[Be,De]),(0,Se.h)("div",{className:Ae("uppy-Dashboard-FileCard",de),"data-uppy-panelType":"FileCard",onDragOver:Tn,onDragLeave:Tn,onDrop:Tn,onPaste:Tn},(0,Se.h)("div",{className:"uppy-DashboardContent-bar"},(0,Se.h)("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},pe("editing",{file:(0,Se.h)("span",{className:"uppy-DashboardContent-titleFile"},fe.meta?fe.meta.name:fe.name)})),(0,Se.h)("button",{className:"uppy-DashboardContent-back",type:"button",form:Be.id,title:ue("finishEditingFile"),onClick:xe},ue("cancel"))),(0,Se.h)("div",{className:"uppy-Dashboard-FileCard-inner"},(0,Se.h)("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:getIconByMime(fe.type).color}},(0,Se.h)(FilePreview,{file:fe}),me&&(0,Se.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function onClick(t){De(t),le(fe)}},ue("editImage"))),(0,Se.h)("div",{className:"uppy-Dashboard-FileCard-info"},(0,Se.h)(RenderMetaFields,{computedMetaFields:ve,requiredMetaFields:oe,updateMeta:function updateMeta(t,i){Ce(FileCard_objectSpread(FileCard_objectSpread({},Fe),{},(0,y.A)({},i,t)))},form:Be,formState:Fe})),(0,Se.h)("div",{className:"uppy-Dashboard-FileCard-actions"},(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:Be.id},ue("saveChanges")),(0,Se.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:xe,form:Be.id},ue("cancel")))))}function Slide_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Slide_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var qn="uppy-transition-slideDownUp",Kn=function(t){function Slide(t){var i;return(0,w.A)(this,Slide),i=function Slide_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,Slide_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,Slide,[t]),i.state={cachedChildren:null,className:""},i}return(0,oe.A)(Slide,t),(0,te.A)(Slide,[{key:"componentWillUpdate",value:function componentWillUpdate(t){var i=this,a=this.state.cachedChildren,y=(0,Se.v2)(t.children)[0];if(a===y)return null;var w={cachedChildren:y};y&&!a&&(w.className="".concat(qn,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){i.setState({className:"".concat(qn,"-enter ").concat(qn,"-enter-active")}),i.enterTimeout=setTimeout(function(){i.setState({className:""})},250)})),a&&!y&&void 0===this.leaveTimeout&&(w.cachedChildren=a,w.className="".concat(qn,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){i.setState({className:"".concat(qn,"-leave ").concat(qn,"-leave-active")}),i.leaveTimeout=setTimeout(function(){i.setState({cachedChildren:null,className:""})},250)})),this.setState(w)}},{key:"render",value:function render(){var t=this.state,i=t.cachedChildren,a=t.className;return i?(0,Se.Ob)(i,{className:Ae(a,i.props.className)}):null}}])}(Se.uA);const Wn=Kn;function Dashboard_extends(){return Dashboard_extends=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var y in a)Object.prototype.hasOwnProperty.call(a,y)&&(t[y]=a[y])}return t},Dashboard_extends.apply(this,arguments)}const Gn={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function Dashboard_createForOfIteratorHelper(t,i){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function Dashboard_unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return Dashboard_arrayLikeToArray(t,i);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Dashboard_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){a&&(t=a);var _n=0,y=function F(){};return{s:y,n:function n(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function e(t){throw t},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,te=!0,re=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return te=t.done,t},e:function e(t){re=!0,w=t},f:function f(){try{te||null==a.return||a.return()}finally{if(re)throw w}}}}function Dashboard_arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,y=Array(i);a<i;a++)y[a]=t[a];return y}function Dashboard_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function Dashboard_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?Dashboard_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Dashboard_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function Dashboard_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Dashboard_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function Dashboard_classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var $n=0;function Dashboard_classPrivateFieldLooseKey(t){return"__private_"+$n+++"_"+t}var Xn=vn.A.default||vn.A;function createPromise(){var t={};return t.promise=new Promise(function(i,a){t.resolve=i,t.reject=a}),t}var Qn=Dashboard_classPrivateFieldLooseKey("disabledNodes"),Yn=Dashboard_classPrivateFieldLooseKey("generateLargeThumbnailIfSingleFile"),Jn=Dashboard_classPrivateFieldLooseKey("openFileEditorWhenFilesAdded"),Zn=Dashboard_classPrivateFieldLooseKey("attachRenderFunctionToTarget"),ei=Dashboard_classPrivateFieldLooseKey("isTargetSupported"),ti=Dashboard_classPrivateFieldLooseKey("getAcquirers"),ri=Dashboard_classPrivateFieldLooseKey("getProgressIndicators"),ni=Dashboard_classPrivateFieldLooseKey("getEditors"),ii=Dashboard_classPrivateFieldLooseKey("addSpecifiedPluginsFromOptions"),ai=Dashboard_classPrivateFieldLooseKey("autoDiscoverPlugins"),oi=Dashboard_classPrivateFieldLooseKey("addSupportedPluginIfNoTarget"),si=function(t){function Dashboard(t,i){var a,te;(0,w.A)(this,Dashboard),a=function Dashboard_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,Dashboard_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,Dashboard,[t,i]),te=a,Object.defineProperty(a,Qn,{writable:!0,value:null}),a.removeTarget=function(t){var i=a.getPluginState().targets.filter(function(i){return i.id!==t.id});a.setPluginState({targets:i})},a.addTarget=function(t){var i=t.id||t.constructor.name,y=t.title||i,w=t.type;if("acquirer"===w||"progressindicator"===w||"editor"===w){var te={id:i,name:y,type:w},re=a.getPluginState().targets.slice();return re.push(te),a.setPluginState({targets:re}),a.el}a.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error")},a.hideAllPanels=function(){var t=a.getPluginState(),i={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};t.activePickerPanel===i.activePickerPanel&&t.showAddFilesPanel===i.showAddFilesPanel&&t.showFileEditor===i.showFileEditor&&t.activeOverlayType===i.activeOverlayType||(a.setPluginState(i),a.uppy.emit("dashboard:close-panel",t.activePickerPanel.id))},a.showPanel=function(t){var i=a.getPluginState().targets.filter(function(i){return"acquirer"===i.type&&i.id===t})[0];a.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),a.uppy.emit("dashboard:show-panel",t)},a.canEditFile=function(t){var i=a.getPluginState().targets;return Dashboard_classPrivateFieldLooseBase(a,ni)[ni](i).some(function(i){return a.uppy.getPlugin(i.id).canEditFile(t)})},a.openFileEditor=function(t){var i=a.getPluginState().targets,y=Dashboard_classPrivateFieldLooseBase(a,ni)[ni](i);a.setPluginState({showFileEditor:!0,fileCardFor:t.id||null,activeOverlayType:"FileEditor"}),y.forEach(function(i){a.uppy.getPlugin(i.id).selectFile(t)})},a.closeFileEditor=function(){var t=a.getPluginState().metaFields;t&&t.length>0?a.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):a.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},a.saveFileEditor=function(){var t=a.getPluginState().targets;Dashboard_classPrivateFieldLooseBase(a,ni)[ni](t).forEach(function(t){a.uppy.getPlugin(t.id).save()}),a.closeFileEditor()},a.openModal=function(){var t=createPromise(),i=t.promise,y=t.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){var w=function handler(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",w,!1),y()};a.el.addEventListener("animationend",w,!1)}else a.setPluginState({isHidden:!1}),y();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),i},a.closeModal=function(t){void 0===t&&(t={});var i=t.manualClose,a=void 0===i||i,y=te.getPluginState(),w=y.isHidden,re=y.isClosing;if(!w&&!re){var ae,oe=createPromise(),le=oe.promise,ue=oe.resolve;if(te.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),te.opts.animateOpenClose){te.setPluginState({isClosing:!0});var pe=function handler(){te.setPluginState({isHidden:!0,isClosing:!1}),te.superFocus.cancel(),te.savedActiveElement.focus(),te.el.removeEventListener("animationend",pe,!1),ue()};te.el.addEventListener("animationend",pe,!1)}else te.setPluginState({isHidden:!0}),te.superFocus.cancel(),te.savedActiveElement.focus(),ue();if(document.removeEventListener("keydown",te.handleKeyDownInModal),a)if(te.opts.browserBackButtonClose)null!=(ae=history.state)&&ae[te.modalName]&&history.back();return te.uppy.emit("dashboard:modal-closed"),le}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(t){var i=a.uppy.getState().capabilities;a.uppy.setState({capabilities:Dashboard_objectSpread(Dashboard_objectSpread({},i),{},{darkMode:t})})},a.handleSystemDarkModeChange=function(t){var i=t.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(i?"on":"off")),a.setDarkModeCapability(i)},a.toggleFileCard=function(t,i){var y=a.uppy.getFile(i);t?a.uppy.emit("dashboard:file-edit-start",y):a.uppy.emit("dashboard:file-edit-complete",y),a.setPluginState({fileCardFor:t?i:null,activeOverlayType:t?"FileCard":null})},a.toggleAddFilesPanel=function(t){a.setPluginState({showAddFilesPanel:t,activeOverlayType:t?"AddFiles":null})},a.addFiles=function(t){var i=t.map(function(t){return{source:a.id,name:t.name,type:t.type,data:t,meta:{relativePath:t.relativePath||t.webkitRelativePath||null}}});try{a.uppy.addFiles(i)}catch(t){a.uppy.log(t)}},a.startListeningToResize=function(){a.resizeObserver=new ResizeObserver(function(t){var i=t[0].contentRect,y=i.width,w=i.height;a.setPluginState({containerWidth:y,containerHeight:w,areInsidesReadyToBeVisible:!0})}),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var t=a.getPluginState(),i=!a.opts.inline&&t.isHidden;t.areInsidesReadyToBeVisible||i||(a.uppy.log("[Dashboard] resize event didn’t fire on time: defaulted to mobile layout","warning"),a.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(t){a.el.contains(t.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.disableInteractiveElements=function(t){var i,y,w=null!=(i=Dashboard_classPrivateFieldLooseBase(a,Qn)[Qn])?i:Nt(a.el.querySelectorAll(["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'])).filter(function(t){return!t.classList.contains("uppy-Dashboard-close")}),te=Dashboard_createForOfIteratorHelper(w);try{for(te.s();!(y=te.n()).done;){var re=y.value;"A"===re.tagName?re.setAttribute("aria-disabled",t):re.disabled=t}}catch(t){te.e(t)}finally{te.f()}Dashboard_classPrivateFieldLooseBase(a,Qn)[Qn]=t?w:null,a.dashboardIsDisabled=t},a.updateBrowserHistory=function(){var t;null!=(t=history.state)&&t[a.modalName]||history.pushState(Dashboard_objectSpread(Dashboard_objectSpread({},history.state),{},(0,y.A)({},a.modalName,!0)),""),window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(t){var i;!a.isModalOpen()||t.state&&t.state[a.modalName]||a.closeModal({manualClose:!1}),!a.isModalOpen()&&null!=(i=t.state)&&i[a.modalName]&&history.back()},a.handleKeyDownInModal=function(t){27===t.keyCode&&a.requestCloseModal(t),9===t.keyCode&&trapFocus(t,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(t){a.uppy.iteratePlugins(function(i){"acquirer"===i.type&&(null==i.handleRootPaste||i.handleRootPaste(t))});var i=Nt(t.clipboardData.files);i.length>0&&(a.uppy.log("[Dashboard] Files pasted"),a.addFiles(i))},a.handleInputChange=function(t){t.preventDefault();var i=Nt(t.target.files);i.length>0&&(a.uppy.log("[Dashboard] Files selected through input"),a.addFiles(i))},a.handleDragOver=function(t){var i,y;t.preventDefault(),t.stopPropagation();var w=function canSomePluginHandleRootDrop(){var i=!0;return a.uppy.iteratePlugins(function(a){null!=a.canHandleRootDrop&&a.canHandleRootDrop(t)&&(i=!0)}),i}(),te=function doesEventHaveFiles(){return t.dataTransfer.types.some(function(t){return"Files"===t})}();if(!w&&!te||a.opts.disabled||a.opts.disableLocalFiles&&(te||!w)||!a.uppy.getState().allowNewUpload)return t.dataTransfer.dropEffect="none",void clearTimeout(a.removeDragOverClassTimeout);t.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0}),null==(i=(y=a.opts).onDragOver)||i.call(y,t)},a.handleDragLeave=function(t){var i,y;t.preventDefault(),t.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),null==(i=(y=a.opts).onDragLeave)||i.call(y,t)},a.handleDrop=function(){var t=(0,pe.A)(de.mark(function _callee(t){var i,y,w,te,re;return de.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return t.preventDefault(),t.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(i){"acquirer"===i.type&&(null==i.handleRootDrop||i.handleRootDrop(t))}),w=!1,te=function logDropError(t){a.uppy.log(t,"error"),w||(a.uppy.info(t.message,"error"),w=!0)},a.uppy.log("[Dashboard] Processing dropped files"),ae.next=1,getDroppedFiles(t.dataTransfer,{logDropError:te});case 1:(re=ae.sent).length>0&&(a.uppy.log("[Dashboard] Files dropped"),a.addFiles(re)),null==(i=(y=a.opts).onDrop)||i.call(y,t);case 2:case"end":return ae.stop()}},_callee)}));return function(_x){return t.apply(this,arguments)}}(),a.handleRequestThumbnail=function(t){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",t)},a.handleCancelThumbnail=function(t){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",t)},a.handleKeyDownInInline=function(t){9===t.keyCode&&function forInline(t,i,a){null===i||trapFocus(t,i,a)}(t,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(t){a.el.contains(document.activeElement)&&a.handlePaste(t)},a.handleComplete=function(t){var i=t.failed;a.opts.closeAfterFinish&&0===i.length&&a.requestCloseModal()},a.handleCancelRestore=function(){a.uppy.emit("restore-canceled")},Object.defineProperty(a,Yn,{writable:!0,value:function value(){if(!a.opts.disableThumbnailGenerator){var t=a.uppy.getFiles();if(1===t.length){var i=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));null==i||i.setOptions({thumbnailWidth:600});var y=Dashboard_objectSpread(Dashboard_objectSpread({},t[0]),{},{preview:void 0});i.requestThumbnail(y).then(function(){null==i||i.setOptions({thumbnailWidth:a.opts.thumbnailWidth})})}}}}),Object.defineProperty(a,Jn,{writable:!0,value:function value(t){var i=t[0],y=a.getPluginState().metaFields,w=y&&y.length>0,te=a.canEditFile(i);w?a.toggleFileCard(!0,i.id):te&&a.openFileEditor(i)}}),a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var t=jt(a.opts.trigger);t?t.forEach(function(t){return t.addEventListener("click",a.openModal)}):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-added",Dashboard_classPrivateFieldLooseBase(a,oi)[oi]),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),a.uppy.on("files-added",Dashboard_classPrivateFieldLooseBase(a,Yn)[Yn]),a.uppy.on("file-removed",Dashboard_classPrivateFieldLooseBase(a,Yn)[Yn]),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.on("files-added",Dashboard_classPrivateFieldLooseBase(a,Jn)[Jn])},a.removeEvents=function(){var t=jt(a.opts.trigger);!a.opts.inline&&t&&t.forEach(function(t){return t.removeEventListener("click",a.openModal)}),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-added",Dashboard_classPrivateFieldLooseBase(a,oi)[oi]),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),a.uppy.off("files-added",Dashboard_classPrivateFieldLooseBase(a,Yn)[Yn]),a.uppy.off("file-removed",Dashboard_classPrivateFieldLooseBase(a,Yn)[Yn]),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.off("files-added",Dashboard_classPrivateFieldLooseBase(a,Jn)[Jn])},a.superFocusOnEachUpdate=function(){var t=a.el.contains(document.activeElement),i=document.activeElement===document.body||null===document.activeElement,y=0===a.uppy.getState().info.length,w=!a.opts.inline;y&&(w||t||i&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){!a.opts.disabled||a.dashboardIsDisabled?(!a.opts.disabled&&a.dashboardIsDisabled&&a.disableInteractiveElements(!1),a.superFocusOnEachUpdate()):a.disableInteractiveElements(!0)},a.saveFileCard=function(t,i){a.uppy.setFileMeta(i,t),a.toggleFileCard(!1,i)},Object.defineProperty(a,Zn,{writable:!0,value:function value(t){var i=a.uppy.getPlugin(t.id);return Dashboard_objectSpread(Dashboard_objectSpread({},t),{},{icon:i.icon||a.opts.defaultPickerIcon,render:i.render})}}),Object.defineProperty(a,ei,{writable:!0,value:function value(t){var i=a.uppy.getPlugin(t.id);return"function"!=typeof i.isSupported||i.isSupported()}}),Object.defineProperty(a,ti,{writable:!0,value:Xn(function(t){return t.filter(function(t){return"acquirer"===t.type&&Dashboard_classPrivateFieldLooseBase(a,ei)[ei](t)}).map(Dashboard_classPrivateFieldLooseBase(a,Zn)[Zn])})}),Object.defineProperty(a,ri,{writable:!0,value:Xn(function(t){return t.filter(function(t){return"progressindicator"===t.type}).map(Dashboard_classPrivateFieldLooseBase(a,Zn)[Zn])})}),Object.defineProperty(a,ni,{writable:!0,value:Xn(function(t){return t.filter(function(t){return"editor"===t.type}).map(Dashboard_classPrivateFieldLooseBase(a,Zn)[Zn])})}),a.render=function(t){var i,y=a.getPluginState(),w=t.files,te=t.capabilities,re=t.allowNewUpload,ae=a.uppy.getObjectOfFilesPerState(),oe=ae.newFiles,le=ae.uploadStartedFiles,ue=ae.completeFiles,pe=ae.erroredFiles,de=ae.inProgressFiles,he=ae.inProgressNotPausedFiles,fe=ae.processingFiles,ve=ae.isUploadStarted,me=ae.isAllComplete,ge=ae.isAllErrored,_e=ae.isAllPaused,Pe=Dashboard_classPrivateFieldLooseBase(a,ti)[ti](y.targets),Fe=Dashboard_classPrivateFieldLooseBase(a,ri)[ri](y.targets),Ce=Dashboard_classPrivateFieldLooseBase(a,ni)[ni](y.targets);return i="auto"===a.opts.theme?te.darkMode?"dark":"light":a.opts.theme,["files","folders","both"].indexOf(a.opts.fileManagerSelectionType)<0&&(a.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(a.opts.fileManagerSelectionType,'".'))),function Dashboard_Dashboard(t){var i=0===t.totalFileCount,a=1===t.totalFileCount,y=t.containerWidth>576,w=t.containerHeight>330,te=Ae({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>576,"uppy-size--lg":t.containerWidth>700,"uppy-size--xl":t.containerWidth>900,"uppy-size--height-md":t.containerHeight>330,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&a&&w}),re=1;t.containerWidth>900?re=5:t.containerWidth>700?re=4:t.containerWidth>576&&(re=3);var ae,oe=t.showSelectedFiles&&!i,le=t.recoveredState?Object.keys(t.recoveredState.files).length:null,ue=t.files?Object.keys(t.files).filter(function(i){return t.files[i].isGhost}).length:null;return(0,Se.h)("div",{className:te,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&(ae=document.body,"draggable"in ae&&"ondragstart"in ae&&"ondrop"in ae&&"FormData"in window&&"FileReader"in window),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},(0,Se.h)("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),(0,Se.h)("div",{className:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:(0,Se.h)("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal},(0,Se.h)("span",{"aria-hidden":"true"},"×")),(0,Se.h)("div",{className:"uppy-Dashboard-innerWrap"},(0,Se.h)("div",{className:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),oe&&(0,Se.h)(Hn,t),le&&(0,Se.h)("div",{className:"uppy-Dashboard-serviceMsg"},(0,Se.h)("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},(0,Se.h)("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},(0,Se.h)("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),(0,Se.h)("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),(0,Se.h)("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),(0,Se.h)("strong",{className:"uppy-Dashboard-serviceMsg-title"},t.i18n("sessionRestored")),(0,Se.h)("div",{className:"uppy-Dashboard-serviceMsg-text"},function renderRestoredText(){return ue>0?t.i18n("recoveredXFiles",{smart_count:ue}):t.i18n("recoveredAllFiles")}())),oe?(0,Se.h)(FileList,{id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,files:t.files,acquirers:t.acquirers,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:a,itemsPerRow:re}):(0,Se.h)(Un,Dashboard_extends({},t,{isSizeMD:y})),(0,Se.h)(Wn,null,t.showAddFilesPanel?(0,Se.h)(Bn,Dashboard_extends({key:"AddFiles"},t,{isSizeMD:y})):null),(0,Se.h)(Wn,null,t.fileCardFor?(0,Se.h)(FileCard,Dashboard_extends({key:"FileCard"},t)):null),(0,Se.h)(Wn,null,t.activePickerPanel?(0,Se.h)(En,Dashboard_extends({key:"Picker"},t)):null),(0,Se.h)(Wn,null,t.showFileEditor?(0,Se.h)(In,Dashboard_extends({key:"Editor"},t)):null),(0,Se.h)("div",{className:"uppy-Dashboard-progressindicators"},t.progressindicators.map(function(i){return t.uppy.getPlugin(i.id).render(t.state)})))))}({state:t,isHidden:y.isHidden,files:w,newFiles:oe,uploadStartedFiles:le,completeFiles:ue,erroredFiles:pe,inProgressFiles:de,inProgressNotPausedFiles:he,processingFiles:fe,isUploadStarted:ve,isAllComplete:me,isAllErrored:ge,isAllPaused:_e,totalFileCount:Object.keys(w).length,totalProgress:t.totalProgress,allowNewUpload:re,acquirers:Pe,theme:i,disabled:a.opts.disabled,disableLocalFiles:a.opts.disableLocalFiles,direction:a.opts.direction,activePickerPanel:y.activePickerPanel,showFileEditor:y.showFileEditor,saveFileEditor:a.saveFileEditor,closeFileEditor:a.closeFileEditor,disableInteractiveElements:a.disableInteractiveElements,animateOpenClose:a.opts.animateOpenClose,isClosing:y.isClosing,progressindicators:Fe,editors:Ce,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,i18n:a.i18n,i18nArray:a.i18nArray,uppy:a.uppy,note:a.opts.note,recoveredState:t.recoveredState,metaFields:y.metaFields,resumableUploads:te.resumableUploads||!1,individualCancellation:te.individualCancellation,isMobileDevice:te.isMobileDevice,fileCardFor:y.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:y.showAddFilesPanel,saveFileCard:a.saveFileCard,openFileEditor:a.openFileEditor,canEditFile:a.canEditFile,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,fileManagerSelectionType:a.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:y.containerWidth,containerHeight:y.containerHeight,areInsidesReadyToBeVisible:y.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:a.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:a.opts.showSelectedFiles,showNativePhotoCameraButton:a.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:a.opts.showNativeVideoCameraButton,nativeCameraFacingMode:a.opts.nativeCameraFacingMode,singleFileFullScreen:a.opts.singleFileFullScreen,handleCancelRestore:a.handleCancelRestore,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:y.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},Object.defineProperty(a,ii,{writable:!0,value:function value(){(a.opts.plugins||[]).forEach(function(t){var i=a.uppy.getPlugin(t);i?i.mount(a,i):a.uppy.log("[Uppy] Dashboard could not find plugin '".concat(t,"', make sure to uppy.use() the plugins you are specifying"),"warning")})}}),Object.defineProperty(a,ai,{writable:!0,value:function value(){a.uppy.iteratePlugins(Dashboard_classPrivateFieldLooseBase(a,oi)[oi])}}),Object.defineProperty(a,oi,{writable:!0,value:function value(t){var i;!t||null!=(i=t.opts)&&i.target||!["acquirer","editor"].includes(t.type)||(a.getPluginState().targets.some(function(i){return t.id===i.id})||t.mount(a,t))}}),a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var t=a.opts,i=t.inline,y=t.closeAfterFinish;if(i&&y)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var w=a.uppy.opts,te=w.allowMultipleUploads,re=w.allowMultipleUploadBatches;(te||re)&&y&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var ae=a.opts.target;ae&&a.mount(ae,a),a.opts.disableStatusBar||a.uppy.use(Ke,{id:"".concat(a.id,":StatusBar"),target:a,hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale,doneButtonHandler:a.opts.doneButtonHandler}),a.opts.disableInformer||a.uppy.use(Je,{id:"".concat(a.id,":Informer"),target:a}),a.opts.disableThumbnailGenerator||a.uppy.use(It,{id:"".concat(a.id,":ThumbnailGenerator"),thumbnailWidth:a.opts.thumbnailWidth,thumbnailHeight:a.opts.thumbnailHeight,thumbnailType:a.opts.thumbnailType,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var oe=!!a.darkModeMediaQuery&&a.darkModeMediaQuery.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(oe?"on":"off")),a.setDarkModeCapability(oe),"auto"===a.opts.theme&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),Dashboard_classPrivateFieldLooseBase(a,ii)[ii](),Dashboard_classPrivateFieldLooseBase(a,ai)[ai](),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var t=a.uppy.getPlugin("".concat(a.id,":Informer"));t&&a.uppy.removePlugin(t)}if(!a.opts.disableStatusBar){var i=a.uppy.getPlugin("".concat(a.id,":StatusBar"));i&&a.uppy.removePlugin(i)}if(!a.opts.disableThumbnailGenerator){var y=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));y&&a.uppy.removePlugin(y)}(a.opts.plugins||[]).forEach(function(t){var i=a.uppy.getPlugin(t);i&&i.unmount()}),"auto"===a.opts.theme&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-".concat((0,Xr.A)()),a.defaultLocale=Gn;var oe={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function doneButtonHandler(){a.uppy.clearUploadedFiles(),a.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function onRequestCloseModal(){return a.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return a.opts=Dashboard_objectSpread(Dashboard_objectSpread({},oe),i),a.i18nInit(),a.superFocus=function createSuperFocus(){var t=!1;return yn(function superFocus(i,a){var y=getActiveOverlayEl(i,a),w=y.contains(document.activeElement);if(!w||!t){var te=y.querySelector("[data-uppy-super-focusable]");if(!w||te)if(te)te.focus({preventScroll:!0}),t=!0;else{var re=y.querySelector(mn);null==re||re.focus({preventScroll:!0}),t=!1}}},260)}(),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return(0,oe.A)(Dashboard,t),(0,te.A)(Dashboard)}(he.A);si.VERSION="3.7.5";var li=a(33030),ui=ue.instanceOf(li.A),ci=ue.arrayOf(ue.string),pi=ue.shape({strings:ue.object,pluralize:ue.func}),di=ue.shape({id:ue.string.isRequired,name:ue.string.isRequired,placeholder:ue.string}),hi=ue.oneOfType([ue.arrayOf(di),ue.func]),fi=ue.oneOfType([ue.string,ue.number]),vi=(ue.bool,ue.bool,ue.bool,ue.bool,ue.string,ue.bool,ue.bool,ue.bool,ue.bool,ue.number,a(53921),["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"]),mi=/^(aria-|data-)/;const yi=function getHTMLProps(t){return Object.fromEntries(Object.entries(t).filter(function(t){var i=(0,Ge.A)(t,1)[0];return mi.test(i)||vi.includes(i)}))};a(78347);function DashboardModal_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function DashboardModal_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?DashboardModal_ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):DashboardModal_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function DashboardModal_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(DashboardModal_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var gi=function(t){function DashboardModal(){return(0,w.A)(this,DashboardModal),function DashboardModal_callSuper(t,i,a){return i=(0,ae.A)(i),(0,re.A)(t,DashboardModal_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,ae.A)(t).constructor):i.apply(t,a))}(this,DashboardModal,arguments)}return(0,oe.A)(DashboardModal,t),(0,te.A)(DashboardModal,[{key:"componentDidMount",value:function componentDidMount(){this.installPlugin()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){var i=this.props,a=i.uppy,y=i.open,w=i.onRequestClose;if(t.uppy!==a)this.uninstallPlugin(t),this.installPlugin();else if(function nonHtmlPropsHaveChanged(t,i){return Object.keys(t).some(function(a){return!Object.hasOwn(t,a)&&t[a]!==i[a]})}(this.props,t)){var te=DashboardModal_objectSpread(DashboardModal_objectSpread({},this.props),{},{onRequestCloseModal:w});delete te.uppy,this.plugin.setOptions(te)}t.open&&!y?this.plugin.closeModal():!t.open&&y&&this.plugin.openModal()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.uninstallPlugin()}},{key:"installPlugin",value:function installPlugin(){var t=this.props,i=t.id,a=void 0===i?"react:DashboardModal":i,y=t.uppy,w=t.target,te=t.open,re=t.onRequestClose,ae={id:a,target:w,closeModalOnClickOutside:t.closeModalOnClickOutside,disablePageScrollWhenModalOpen:t.disablePageScrollWhenModalOpen,inline:t.inline,plugins:t.plugins,width:t.width,height:t.height,showProgressDetails:t.showProgressDetails,note:t.note,metaFields:t.metaFields,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy,autoOpenFileEditor:t.autoOpenFileEditor,animateOpenClose:t.animateOpenClose,browserBackButtonClose:t.browserBackButtonClose,closeAfterFinish:t.closeAfterFinish,disableStatusBar:t.disableStatusBar,disableInformer:t.disableInformer,disableThumbnailGenerator:t.disableThumbnailGenerator,disableLocalFiles:t.disableLocalFiles,disabled:t.disabled,hideCancelButton:t.hideCancelButton,hidePauseResumeButton:t.hidePauseResumeButton,hideProgressAfterFinish:t.hideProgressAfterFinish,hideRetryButton:t.hideRetryButton,hideUploadButton:t.hideUploadButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,showSelectedFiles:t.showSelectedFiles,waitForThumbnailsBeforeUpload:t.waitForThumbnailsBeforeUpload,fileManagerSelectionType:t.fileManagerSelectionType,theme:t.theme,thumbnailType:t.thumbnailType,thumbnailWidth:t.thumbnailWidth,locale:t.locale,onRequestCloseModal:re};ae.target||(ae.target=this.container),delete ae.uppy,y.use(si,ae),this.plugin=y.getPlugin(ae.id),te&&this.plugin.openModal()}},{key:"uninstallPlugin",value:function uninstallPlugin(t){void 0===t&&(t=this.props),t.uppy.removePlugin(this.plugin)}},{key:"render",value:function render(){var t=this;return(0,le.createElement)("div",DashboardModal_objectSpread({className:"uppy-Container",ref:function ref(i){t.container=i}},yi(this.props)))}}])}(le.Component);gi.propTypes={uppy:ui.isRequired,target:"undefined"!=typeof window?ue.instanceOf(window.HTMLElement):ue.any,open:ue.bool,onRequestClose:ue.func,closeModalOnClickOutside:ue.bool,disablePageScrollWhenModalOpen:ue.bool,inline:ue.bool,plugins:ci,width:fi,height:fi,showProgressDetails:ue.bool,note:ue.string,metaFields:hi,proudlyDisplayPoweredByUppy:ue.bool,autoOpenFileEditor:ue.bool,animateOpenClose:ue.bool,browserBackButtonClose:ue.bool,closeAfterFinish:ue.bool,disableStatusBar:ue.bool,disableInformer:ue.bool,disableThumbnailGenerator:ue.bool,disableLocalFiles:ue.bool,disabled:ue.bool,hideCancelButton:ue.bool,hidePauseResumeButton:ue.bool,hideProgressAfterFinish:ue.bool,hideRetryButton:ue.bool,hideUploadButton:ue.bool,showLinkToFileUploadResult:ue.bool,showRemoveButtonAfterComplete:ue.bool,showSelectedFiles:ue.bool,waitForThumbnailsBeforeUpload:ue.bool,fileManagerSelectionType:ue.string,theme:ue.string,thumbnailType:ue.string,thumbnailWidth:ue.number,locale:pi},gi.defaultProps={metaFields:[],plugins:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,open:void 0,target:void 0,locale:null,onRequestClose:void 0};const bi=gi},17145:(t,i,a)=>{"use strict";var y=a(46518),w=a(1625),te=a(42787),re=a(52967),ae=a(77740),oe=a(2360),le=a(66699),ue=a(6980),pe=a(77584),de=a(80747),he=a(72652),fe=a(32603),ve=a(78227)("toStringTag"),me=Error,ge=[].push,_e=function AggregateError(t,i){var a,y=w(Pe,this);re?a=re(new me,y?te(this):Pe):(a=y?this:oe(Pe),le(a,ve,"Error")),void 0!==i&&le(a,"message",fe(i)),de(a,_e,a.stack,1),arguments.length>2&&pe(a,arguments[2]);var ae=[];return he(t,ge,{that:ae}),le(a,"errors",ae),a};re?re(_e,me):ae(_e,me,{name:!0});var Pe=_e.prototype=oe(me.prototype,{constructor:ue(1,_e),message:ue(1,""),name:ue(1,"AggregateError")});y({global:!0,constructor:!0,arity:2},{AggregateError:_e})},21397:(t,i,a)=>{var y=a(29119),w=/[\/\+\.]/;t.exports=function(t,i){function test(i){var a=y(i,t,w);return a&&a.length>=2}return i?test(i.split(";")[0]):test}},23546:(t,i,a)=>{var y,w=a(89990);a(76918),a(74423),a(64346),a(23288),a(26099),a(38781),a(21699),function(){"use strict";var te={}.hasOwnProperty;function classNames(){for(var t="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(t=appendClass(t,parseValue(a)))}return t}function parseValue(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!==w(t))return"";if(Array.isArray(t))return classNames.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var i="";for(var a in t)te.call(t,a)&&t[a]&&(i=appendClass(i,a));return i}function appendClass(t,i){return i?t?t+" "+i:t+i:t}t.exports?(classNames.default=classNames,t.exports=classNames):"object"===w(a.amdO)&&a.amdO?void 0===(y=function(){return classNames}.apply(i,[]))||(t.exports=y):window.classNames=classNames}()},23677:(t,i,a)=>{"use strict";a.d(i,{A:()=>me});var y=a(58237),w=a(84285),te=a(68119),re=a(36858),ae=a(31061),oe=a(46983),le=(a(16280),a(76918),a(28706),a(84185),a(26099),a(3362),a(60825),a(36480)),ue=a(18180);const pe=function findDOMElement(t,i){return void 0===i&&(i=document),"string"==typeof t?i.querySelector(t):function isDOMElement(t){return"object"===(0,ue.A)(t)&&null!==t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}(t)?t:null};const de=function getTextDirection(t){for(var i;t&&!t.dir;)t=t.parentNode;return null==(i=t)?void 0:i.dir};var he=a(32744);function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var fe=0;function _classPrivateFieldLooseKey(t){return"__private_"+fe+++"_"+t}var ve=_classPrivateFieldLooseKey("updateUI");const me=function(t){function UIPlugin(){var t;return(0,y.A)(this,UIPlugin),t=function _callSuper(t,i,a){return i=(0,re.A)(i),(0,te.A)(t,_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,re.A)(t).constructor):i.apply(t,a))}(this,UIPlugin,arguments),Object.defineProperty(t,ve,{writable:!0,value:void 0}),t}return(0,ae.A)(UIPlugin,t),(0,w.A)(UIPlugin,[{key:"getTargetPlugin",value:function getTargetPlugin(t){var i;if("function"==typeof(null==t?void 0:t.addTarget))(i=t)instanceof UIPlugin||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:i,UIPlugin}}));else if("function"==typeof t){var a=t;this.uppy.iteratePlugins(function(t){t instanceof a&&(i=t)})}return i}},{key:"mount",value:function mount(t,i){var a=this,y=i.id,w=pe(t);if(w){this.isTargetDOMEl=!0;var te=document.createElement("div");return te.classList.add("uppy-Root"),_classPrivateFieldLooseBase(this,ve)[ve]=function debounce(t){var i,a=null;return function(){for(var y=arguments.length,w=new Array(y),te=0;te<y;te++)w[te]=arguments[te];return i=w,a||(a=Promise.resolve().then(function(){return a=null,t.apply(void 0,(0,oe.A)(i))})),a}}(function(t){a.uppy.getPlugin(a.id)&&((0,le.XX)(a.render(t),te),a.afterUpdate())}),this.uppy.log("Installing ".concat(y," to a DOM element '").concat(t,"'")),this.opts.replaceTargetContent&&(w.innerHTML=""),(0,le.XX)(this.render(this.uppy.getState()),te),this.el=te,w.appendChild(te),te.dir=this.opts.direction||de(te)||"ltr",this.onMount(),this.el}var re=this.getTargetPlugin(t);if(re)return this.uppy.log("Installing ".concat(y," to ").concat(re.id)),this.parent=re,this.el=re.addTarget(i),this.onMount(),this.el;this.uppy.log("Not installing ".concat(y));var ae="Invalid target option given to ".concat(y,".");throw ae+="function"==typeof t?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(ae)}},{key:"render",value:function render(t){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function update(t){var i,a;null!=this.el&&(null==(i=(a=_classPrivateFieldLooseBase(this,ve))[ve])||i.call(a,t))}},{key:"unmount",value:function unmount(){var t;this.isTargetDOMEl&&(null==(t=this.el)||t.remove());this.onUnmount()}},{key:"onMount",value:function onMount(){}},{key:"onUnmount",value:function onUnmount(){}}])}(he.A)},25331:(t,i,a)=>{"use strict";a(52675),a(16280),a(76918),a(28706),a(44114),a(34782),a(59904),a(63548);var y=Object.prototype.hasOwnProperty,w="~";function Events(){}function EE(t,i,a){this.fn=t,this.context=i,this.once=a||!1}function addListener(t,i,a,y,te){if("function"!=typeof a)throw new TypeError("The listener must be a function");var re=new EE(a,y||t,te),ae=w?w+i:i;return t._events[ae]?t._events[ae].fn?t._events[ae]=[t._events[ae],re]:t._events[ae].push(re):(t._events[ae]=re,t._eventsCount++),t}function clearEvent(t,i){0===--t._eventsCount?t._events=new Events:delete t._events[i]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(w=!1)),EventEmitter.prototype.eventNames=function eventNames(){var t,i,a=[];if(0===this._eventsCount)return a;for(i in t=this._events)y.call(t,i)&&a.push(w?i.slice(1):i);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(t)):a},EventEmitter.prototype.listeners=function listeners(t){var i=w?w+t:t,a=this._events[i];if(!a)return[];if(a.fn)return[a.fn];for(var y=0,te=a.length,re=new Array(te);y<te;y++)re[y]=a[y].fn;return re},EventEmitter.prototype.listenerCount=function listenerCount(t){var i=w?w+t:t,a=this._events[i];return a?a.fn?1:a.length:0},EventEmitter.prototype.emit=function emit(t,i,a,y,te,re){var ae=w?w+t:t;if(!this._events[ae])return!1;var oe,le,ue=this._events[ae],pe=arguments.length;if(ue.fn){switch(ue.once&&this.removeListener(t,ue.fn,void 0,!0),pe){case 1:return ue.fn.call(ue.context),!0;case 2:return ue.fn.call(ue.context,i),!0;case 3:return ue.fn.call(ue.context,i,a),!0;case 4:return ue.fn.call(ue.context,i,a,y),!0;case 5:return ue.fn.call(ue.context,i,a,y,te),!0;case 6:return ue.fn.call(ue.context,i,a,y,te,re),!0}for(le=1,oe=new Array(pe-1);le<pe;le++)oe[le-1]=arguments[le];ue.fn.apply(ue.context,oe)}else{var de,he=ue.length;for(le=0;le<he;le++)switch(ue[le].once&&this.removeListener(t,ue[le].fn,void 0,!0),pe){case 1:ue[le].fn.call(ue[le].context);break;case 2:ue[le].fn.call(ue[le].context,i);break;case 3:ue[le].fn.call(ue[le].context,i,a);break;case 4:ue[le].fn.call(ue[le].context,i,a,y);break;default:if(!oe)for(de=1,oe=new Array(pe-1);de<pe;de++)oe[de-1]=arguments[de];ue[le].fn.apply(ue[le].context,oe)}}return!0},EventEmitter.prototype.on=function on(t,i,a){return addListener(this,t,i,a,!1)},EventEmitter.prototype.once=function once(t,i,a){return addListener(this,t,i,a,!0)},EventEmitter.prototype.removeListener=function removeListener(t,i,a,y){var te=w?w+t:t;if(!this._events[te])return this;if(!i)return clearEvent(this,te),this;var re=this._events[te];if(re.fn)re.fn!==i||y&&!re.once||a&&re.context!==a||clearEvent(this,te);else{for(var ae=0,oe=[],le=re.length;ae<le;ae++)(re[ae].fn!==i||y&&!re[ae].once||a&&re[ae].context!==a)&&oe.push(re[ae]);oe.length?this._events[te]=1===oe.length?oe[0]:oe:clearEvent(this,te)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(t){var i;return t?(i=w?w+t:t,this._events[i]&&clearEvent(this,i)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=w,EventEmitter.EventEmitter=EventEmitter,t.exports=EventEmitter},28834:(t,i,a)=>{"use strict";a(16280),a(76918),a(62010);var y=a(85489);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,t.exports=function(){function shim(t,i,a,w,te,re){if(re!==y){var ae=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ae.name="Invariant Violation",ae}}function getShim(){return shim}shim.isRequired=shim;var t={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return t.PropTypes=t,t}},29119:(t,i,a)=>{"use strict";var y=a(89990);function WildcardMatcher(t,i){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=i,this.parts=t.split(i)}a(25276),a(54554),a(27495),a(71761),a(90744),WildcardMatcher.prototype.match=function(t){var i,a,w=!0,te=this.parts,re=te.length;if("string"==typeof t||t instanceof String)if(this.hasWild||this.text==t){for(a=(t||"").split(this.separator),i=0;w&&i<re;i++)"*"!==te[i]&&(w=i<a.length&&te[i]===a[i]);w=w&&a}else w=!1;else if("function"==typeof t.splice)for(w=[],i=t.length;i--;)this.match(t[i])&&(w[w.length]=t[i]);else if("object"==y(t))for(var ae in w={},t)this.match(ae)&&(w[ae]=t[ae]);return w},t.exports=function(t,i,a){var y=new WildcardMatcher(t,a||/[\/\.]/);return void 0!==i?y.match(i):y}},30067:(t,i,a)=>{"use strict";a(17145)},30237:(t,i,a)=>{"use strict";a(6469)("flatMap")},30531:(t,i,a)=>{"use strict";var y=a(46518),w=a(69565),te=a(79306),re=a(28551),ae=a(1767),oe=a(48646),le=a(19462),ue=a(9539),pe=a(96395),de=a(30684),he=a(84549),fe=!pe&&!de("flatMap",function(){}),ve=!pe&&!fe&&he("flatMap",TypeError),me=pe||fe||ve,ge=le(function(){for(var t,i,a=this.iterator,y=this.mapper;;){if(i=this.inner)try{if(!(t=re(w(i.next,i.iterator))).done)return t.value;this.inner=null}catch(t){ue(a,"throw",t)}if(t=re(w(this.next,a)),this.done=!!t.done)return;try{this.inner=oe(y(t.value,this.counter++),!1)}catch(t){ue(a,"throw",t)}}});y({target:"Iterator",proto:!0,real:!0,forced:me},{flatMap:function flatMap(t){re(this);try{te(t)}catch(t){ue(this,"throw",t)}return ve?w(ve,this,t):new ge(ae(this),{mapper:t,inner:null})}})},30670:(t,i,a)=>{"use strict";a(30531)},31073:(t,i,a)=>{"use strict";a(70511)("split")},32744:(t,i,a)=>{"use strict";a.d(i,{A:()=>ae});a(52675),a(2008),a(51629),a(44114),a(67945),a(84185),a(83851),a(81278),a(79432),a(26099),a(98992),a(54520),a(3949),a(23500);var y=a(51531),w=a(58237),te=a(84285),re=(a(16280),a(76918),a(94170),a(54024));function ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}var ae=function(){return(0,te.A)(function BasePlugin(t,i){(0,w.A)(this,BasePlugin),this.uppy=t,this.opts=null!=i?i:{}},[{key:"getPluginState",value:function getPluginState(){var t=this.uppy.getState().plugins;return(null==t?void 0:t[this.id])||{}}},{key:"setPluginState",value:function setPluginState(t){if(t){var i=this.uppy.getState().plugins;this.uppy.setState({plugins:_objectSpread(_objectSpread({},i),{},(0,y.A)({},this.id,_objectSpread(_objectSpread({},i[this.id]),t)))})}}},{key:"setOptions",value:function setOptions(t){this.opts=_objectSpread(_objectSpread({},this.opts),t),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function i18nInit(){var t=new re.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}},{key:"addTarget",value:function addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function install(){}},{key:"uninstall",value:function uninstall(){}},{key:"update",value:function update(t){}},{key:"afterUpdate",value:function afterUpdate(){}}])}()},33030:(t,i,a)=>{"use strict";a.d(i,{A:()=>st});var y=a(18443),w=a(46983),te=a(18180),re=a(80241),ae=a(51531),oe=a(58237),le=a(84285),ue=a(61792),pe=(a(16280),a(52675),a(89463),a(2259),a(76918),a(30067),a(4294),a(28706),a(2008),a(50113),a(48980),a(46449),a(78350),a(51629),a(23418),a(25276),a(64346),a(23792),a(48598),a(62062),a(44114),a(72712),a(34782),a(15086),a(54554),a(93514),a(30237),a(59089),a(23288),a(94170),a(62010),a(36033),a(25428),a(59904),a(67945),a(84185),a(5506),a(53921),a(78347),a(79432),a(83851),a(81278),a(26099),a(16034),a(3362),a(27495),a(90906),a(38781),a(31415),a(47764),a(42762),a(98992),a(54520),a(72577),a(30670),a(3949),a(81454),a(8872),a(37550),a(23500),a(62953),a(76031),a(54024)),de=a(70647),he=a(51391),fe=a(34034);function ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(i){(0,ae.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function _classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var ve=0;function _classPrivateFieldLooseKey(t){return"__private_"+ve+++"_"+t}var me=_classPrivateFieldLooseKey("callbacks"),ge=_classPrivateFieldLooseKey("publish"),_e=function(){return(0,le.A)(function DefaultStore(){(0,oe.A)(this,DefaultStore),Object.defineProperty(this,ge,{value:_publish2}),this.state={},Object.defineProperty(this,me,{writable:!0,value:new Set})},[{key:"getState",value:function getState(){return this.state}},{key:"setState",value:function setState(t){var i=_objectSpread({},this.state),a=_objectSpread(_objectSpread({},this.state),t);this.state=a,_classPrivateFieldLooseBase(this,ge)[ge](i,a,t)}},{key:"subscribe",value:function subscribe(t){var i=this;return _classPrivateFieldLooseBase(this,me)[me].add(t),function(){_classPrivateFieldLooseBase(i,me)[me].delete(t)}}}])}();function _publish2(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];_classPrivateFieldLooseBase(this,me)[me].forEach(function(t){t.apply(void 0,i)})}_e.VERSION="3.2.2";const Pe=_e;a(8921);function getFileNameAndExtension(t){var i=t.lastIndexOf(".");return-1===i||i===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,i),extension:t.slice(i+1)}}const Fe={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function getFileType(t){var i;if(t.type)return t.type;var a=t.name?null==(i=getFileNameAndExtension(t.name).extension)?void 0:i.toLowerCase():null;return a&&a in Fe?Fe[a]:"application/octet-stream"}a(25440);function generateFileID_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function generateFileID_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?generateFileID_ownKeys(Object(a),!0).forEach(function(i){(0,ae.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):generateFileID_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function encodeFilename(t){var i="";return t.replace(/[^A-Z0-9]/gi,function(t){return i+="-".concat(function encodeCharacter(t){return t.charCodeAt(0).toString(32)}(t)),"/"})+i}function getSafeFileId(t,i){if(function hasFileStableId(t){return!(!t.isRemote||!t.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}(t))return t.id;var a=getFileType(t);return function generateFileID(t,i){var a=i||"uppy";return"string"==typeof t.name&&(a+="-".concat(encodeFilename(t.name.toLowerCase()))),void 0!==t.type&&(a+="-".concat(t.type)),t.meta&&"string"==typeof t.meta.relativePath&&(a+="-".concat(encodeFilename(t.meta.relativePath.toLowerCase()))),void 0!==t.data.size&&(a+="-".concat(t.data.size)),void 0!==t.data.lastModified&&(a+="-".concat(t.data.lastModified)),a}(generateFileID_objectSpread(generateFileID_objectSpread({},t),{},{type:a}),i)}a(58940);function supportsUploadProgress(t){if(null==t&&"undefined"!=typeof navigator&&(t=navigator.userAgent),!t)return!0;var i=/Edge\/(\d+\.\d+)/.exec(t);if(!i)return!0;var a=i[1].split(".",2),y=parseInt(a[0],10),w=parseInt(a[1],10);return y<15||15===y&&w<15063||(y>18||18===y&&w>=18218)}var Se=a(85416),Ae=(a(60825),a(68119)),Ce=a(36858),De=a(31061),xe=a(81700),Ue=(a(74423),a(21699),a(78029)),Be=a(21397);function _createForOfIteratorHelper(t,i){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){a&&(t=a);var _n=0,y=function F(){};return{s:y,n:function n(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function e(t){throw t},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,te=!0,re=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return te=t.done,t},e:function e(t){re=!0,w=t},f:function f(){try{te||null==a.return||a.return()}finally{if(re)throw w}}}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,y=Array(i);a<i;a++)y[a]=t[a];return y}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var Te={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},Ee=function(t){function RestrictionError(t,i){var a,y;return(0,oe.A)(this,RestrictionError),(a=function _callSuper(t,i,a){return i=(0,Ce.A)(i),(0,Ae.A)(t,_isNativeReflectConstruct()?Reflect.construct(i,a||[],(0,Ce.A)(t).constructor):i.apply(t,a))}(this,RestrictionError,[t])).isRestriction=!0,a.isUserFacing=null==(y=null==i?void 0:i.isUserFacing)||y,null!=i&&i.file&&(a.file=i.file),a}return(0,De.A)(RestrictionError,t),(0,le.A)(RestrictionError)}((0,xe.A)(Error)),Ie=function(){return(0,le.A)(function Restricter(t,i){(0,oe.A)(this,Restricter),this.i18n=i,this.getOpts=function(){var i,a=t();if(null!=(null==(i=a.restrictions)?void 0:i.allowedFileTypes)&&!Array.isArray(a.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return a}},[{key:"validateAggregateRestrictions",value:function validateAggregateRestrictions(t,i){var a=this.getOpts().restrictions,y=a.maxTotalFileSize,w=a.maxNumberOfFiles;if(w&&t.filter(function(t){return!t.isGhost}).length+i.length>w)throw new Ee("".concat(this.i18n("youCanOnlyUploadX",{smart_count:w})));if(y){var te,re=t.reduce(function(t,i){var a;return t+(null!=(a=i.size)?a:0)},0),ae=_createForOfIteratorHelper(i);try{for(ae.s();!(te=ae.n()).done;){var oe=te.value;if(null!=oe.size&&(re+=oe.size)>y)throw new Ee(this.i18n("exceedsSize",{size:Ue(y),file:oe.name}))}}catch(t){ae.e(t)}finally{ae.f()}}}},{key:"validateSingleFile",value:function validateSingleFile(t){var i=this.getOpts().restrictions,a=i.maxFileSize,y=i.minFileSize,w=i.allowedFileTypes;if(w&&!w.some(function(i){return i.includes("/")?!!t.type&&Be(t.type.replace(/;.*?$/,""),i):!("."!==i[0]||!t.extension)&&t.extension.toLowerCase()===i.slice(1).toLowerCase()})){var te=w.join(", ");throw new Ee(this.i18n("youCanOnlyUploadFileTypes",{types:te}),{file:t})}if(a&&null!=t.size&&t.size>a)throw new Ee(this.i18n("exceedsSize",{size:Ue(a),file:t.name}),{file:t});if(y&&null!=t.size&&t.size<y)throw new Ee(this.i18n("inferiorSize",{size:Ue(y)}),{file:t})}},{key:"validate",value:function validate(t,i){var a=this;i.forEach(function(t){a.validateSingleFile(t)}),this.validateAggregateRestrictions(t,i)}},{key:"validateMinNumberOfFiles",value:function validateMinNumberOfFiles(t){var i=this.getOpts().restrictions.minNumberOfFiles;if(i&&Object.keys(t).length<i)throw new Ee(this.i18n("youHaveToAtLeastSelectX",{smart_count:i}))}},{key:"getMissingRequiredMetaFields",value:function getMissingRequiredMetaFields(t){var i,a=new Ee(this.i18n("missingRequiredMetaFieldOnFile",{fileName:t.name})),y=[],w=_createForOfIteratorHelper(this.getOpts().restrictions.requiredMetaFields);try{for(w.s();!(i=w.n()).done;){var te=i.value;Object.hasOwn(t.meta,te)&&""!==t.meta[te]||y.push(te)}}catch(t){w.e(t)}finally{w.f()}return{missingFields:y,error:a}}}])}();const Le={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};function Uppy_createForOfIteratorHelper(t,i){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function Uppy_unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return Uppy_arrayLikeToArray(t,i);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Uppy_arrayLikeToArray(t,i):void 0}}(t))||i&&t&&"number"==typeof t.length){a&&(t=a);var _n=0,y=function F(){};return{s:y,n:function n(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function e(t){throw t},f:y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w,te=!0,re=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return te=t.done,t},e:function e(t){re=!0,w=t},f:function f(){try{te||null==a.return||a.return()}finally{if(re)throw w}}}}function Uppy_arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var a=0,y=Array(i);a<i;a++)y[a]=t[a];return y}function Uppy_ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function Uppy_objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?Uppy_ownKeys(Object(a),!0).forEach(function(i){(0,ae.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Uppy_ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function Uppy_classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var je=0;function Uppy_classPrivateFieldLooseKey(t){return"__private_"+je+++"_"+t}var Ne={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},Re=Uppy_classPrivateFieldLooseKey("plugins"),Me=Uppy_classPrivateFieldLooseKey("restricter"),ze=Uppy_classPrivateFieldLooseKey("storeUnsubscribe"),Ve=Uppy_classPrivateFieldLooseKey("emitter"),He=Uppy_classPrivateFieldLooseKey("preProcessors"),qe=Uppy_classPrivateFieldLooseKey("uploaders"),Ke=Uppy_classPrivateFieldLooseKey("postProcessors"),We=Uppy_classPrivateFieldLooseKey("informAndEmit"),Ge=Uppy_classPrivateFieldLooseKey("checkRequiredMetaFieldsOnFile"),$e=Uppy_classPrivateFieldLooseKey("checkRequiredMetaFields"),Xe=Uppy_classPrivateFieldLooseKey("assertNewUploadAllowed"),Qe=Uppy_classPrivateFieldLooseKey("transformFile"),Ye=Uppy_classPrivateFieldLooseKey("startIfAutoProceed"),Je=Uppy_classPrivateFieldLooseKey("checkAndUpdateFileState"),Ze=Uppy_classPrivateFieldLooseKey("addListeners"),et=Uppy_classPrivateFieldLooseKey("updateOnlineStatus"),tt=Uppy_classPrivateFieldLooseKey("requestClientById"),rt=Uppy_classPrivateFieldLooseKey("createUpload"),nt=Uppy_classPrivateFieldLooseKey("getUpload"),it=Uppy_classPrivateFieldLooseKey("removeUpload"),at=Uppy_classPrivateFieldLooseKey("runUpload"),ot=function(t,i){return(0,le.A)(function Uppy(t){var i=this;(0,oe.A)(this,Uppy),Object.defineProperty(this,at,{value:_runUpload2}),Object.defineProperty(this,it,{value:_removeUpload2}),Object.defineProperty(this,nt,{value:_getUpload2}),Object.defineProperty(this,rt,{value:_createUpload2}),Object.defineProperty(this,Ze,{value:_addListeners2}),Object.defineProperty(this,Je,{value:_checkAndUpdateFileState2}),Object.defineProperty(this,Ye,{value:_startIfAutoProceed2}),Object.defineProperty(this,Qe,{value:_transformFile2}),Object.defineProperty(this,Xe,{value:_assertNewUploadAllowed2}),Object.defineProperty(this,$e,{value:_checkRequiredMetaFields2}),Object.defineProperty(this,Ge,{value:_checkRequiredMetaFieldsOnFile2}),Object.defineProperty(this,We,{value:_informAndEmit2}),Object.defineProperty(this,Re,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Me,{writable:!0,value:void 0}),Object.defineProperty(this,ze,{writable:!0,value:void 0}),Object.defineProperty(this,Ve,{writable:!0,value:de()}),Object.defineProperty(this,He,{writable:!0,value:new Set}),Object.defineProperty(this,qe,{writable:!0,value:new Set}),Object.defineProperty(this,Ke,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=fe(function(t,a){var y=i.getFile(null==t?void 0:t.id);if(null!=t&&y)if(100!==y.progress.percentage){var w=Number.isFinite(a.bytesTotal)&&a.bytesTotal>0;i.setFileState(t.id,{progress:Uppy_objectSpread(Uppy_objectSpread({},y.progress),{},{bytesUploaded:a.bytesUploaded,bytesTotal:a.bytesTotal,percentage:w?Math.round(a.bytesUploaded/a.bytesTotal*100):0})}),i.calculateTotalProgress()}else i.log("Not setting progress for a file that has been already uploaded: ".concat(t.id));else i.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))},500,{leading:!0,trailing:!0}),Object.defineProperty(this,et,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,tt,{writable:!0,value:new Map}),this.defaultLocale=Le;var a={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Te,meta:{},onBeforeFileAdded:function onBeforeFileAdded(t,i){return!Object.hasOwn(i,t.id)},onBeforeUpload:function onBeforeUpload(t){return t},store:new Pe,logger:Se.I,infoTimeout:5e3},y=Uppy_objectSpread(Uppy_objectSpread({},a),t);this.opts=Uppy_objectSpread(Uppy_objectSpread({},y),{},{restrictions:Uppy_objectSpread(Uppy_objectSpread({},a.restrictions),t&&t.restrictions)}),t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=Se.w),this.log("Using Core v".concat(Uppy.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState(Uppy_objectSpread(Uppy_objectSpread({},Ne),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:supportsUploadProgress(),individualCancellation:!0,resumableUploads:!1},meta:Uppy_objectSpread({},this.opts.meta),info:[]})),Uppy_classPrivateFieldLooseBase(this,Me)[Me]=new Ie(function(){return i.opts},this.i18n),Uppy_classPrivateFieldLooseBase(this,ze)[ze]=this.store.subscribe(function(t,a,y){i.emit("state-update",t,a,y),i.updateAll(a)}),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),Uppy_classPrivateFieldLooseBase(this,Ze)[Ze]()},[{key:"emit",value:function emit(t){for(var i,a=arguments.length,y=new Array(a>1?a-1:0),w=1;w<a;w++)y[w-1]=arguments[w];(i=Uppy_classPrivateFieldLooseBase(this,Ve)[Ve]).emit.apply(i,[t].concat(y))}},{key:"on",value:function on(t,i){return Uppy_classPrivateFieldLooseBase(this,Ve)[Ve].on(t,i),this}},{key:"once",value:function once(t,i){return Uppy_classPrivateFieldLooseBase(this,Ve)[Ve].once(t,i),this}},{key:"off",value:function off(t,i){return Uppy_classPrivateFieldLooseBase(this,Ve)[Ve].off(t,i),this}},{key:"updateAll",value:function updateAll(t){this.iteratePlugins(function(i){i.update(t)})}},{key:"setState",value:function setState(t){this.store.setState(t)}},{key:"getState",value:function getState(){return this.store.getState()}},{key:"patchFilesState",value:function patchFilesState(t){var i=this.getState().files;this.setState({files:Uppy_objectSpread(Uppy_objectSpread({},i),Object.fromEntries(Object.entries(t).map(function(t){var a=(0,re.A)(t,2),y=a[0],w=a[1];return[y,Uppy_objectSpread(Uppy_objectSpread({},i[y]),w)]})))})}},{key:"setFileState",value:function setFileState(t,i){if(!this.getState().files[t])throw new Error("Can’t set state for ".concat(t," (the file could have been removed)"));this.patchFilesState((0,ae.A)({},t,i))}},{key:"i18nInit",value:function i18nInit(){var t=this,i=new pe.A([this.defaultLocale,this.opts.locale],{onMissingKey:function onMissingKey(i){return t.log("Missing i18n string: ".concat(i),"error")}});this.i18n=i.translate.bind(i),this.i18nArray=i.translateArray.bind(i),this.locale=i.locale}},{key:"setOptions",value:function setOptions(t){this.opts=Uppy_objectSpread(Uppy_objectSpread(Uppy_objectSpread({},this.opts),t),{},{restrictions:Uppy_objectSpread(Uppy_objectSpread({},this.opts.restrictions),null==t?void 0:t.restrictions)}),t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(function(i){i.setOptions(t)}),this.setState(void 0)}},{key:"resetProgress",value:function resetProgress(){var t={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},i=Uppy_objectSpread({},this.getState().files),a={};Object.keys(i).forEach(function(y){a[y]=Uppy_objectSpread(Uppy_objectSpread({},i[y]),{},{progress:Uppy_objectSpread(Uppy_objectSpread({},i[y].progress),t)})}),this.setState(Uppy_objectSpread({files:a},Ne)),this.emit("reset-progress")}},{key:"clearUploadedFiles",value:function clearUploadedFiles(){this.setState(Uppy_objectSpread(Uppy_objectSpread({},Ne),{},{files:{}}))}},{key:"addPreProcessor",value:function addPreProcessor(t){Uppy_classPrivateFieldLooseBase(this,He)[He].add(t)}},{key:"removePreProcessor",value:function removePreProcessor(t){return Uppy_classPrivateFieldLooseBase(this,He)[He].delete(t)}},{key:"addPostProcessor",value:function addPostProcessor(t){Uppy_classPrivateFieldLooseBase(this,Ke)[Ke].add(t)}},{key:"removePostProcessor",value:function removePostProcessor(t){return Uppy_classPrivateFieldLooseBase(this,Ke)[Ke].delete(t)}},{key:"addUploader",value:function addUploader(t){Uppy_classPrivateFieldLooseBase(this,qe)[qe].add(t)}},{key:"removeUploader",value:function removeUploader(t){return Uppy_classPrivateFieldLooseBase(this,qe)[qe].delete(t)}},{key:"setMeta",value:function setMeta(t){var i=Uppy_objectSpread(Uppy_objectSpread({},this.getState().meta),t),a=Uppy_objectSpread({},this.getState().files);Object.keys(a).forEach(function(i){a[i]=Uppy_objectSpread(Uppy_objectSpread({},a[i]),{},{meta:Uppy_objectSpread(Uppy_objectSpread({},a[i].meta),t)})}),this.log("Adding metadata:"),this.log(t),this.setState({meta:i,files:a})}},{key:"setFileMeta",value:function setFileMeta(t,i){var a=Uppy_objectSpread({},this.getState().files);if(a[t]){var y=Uppy_objectSpread(Uppy_objectSpread({},a[t].meta),i);a[t]=Uppy_objectSpread(Uppy_objectSpread({},a[t]),{},{meta:y}),this.setState({files:a})}else this.log("Was trying to set metadata for a file that has been removed: ",t)}},{key:"getFile",value:function getFile(t){return this.getState().files[t]}},{key:"getFiles",value:function getFiles(){var t=this.getState().files;return Object.values(t)}},{key:"getFilesByIds",value:function getFilesByIds(t){var i=this;return t.map(function(t){return i.getFile(t)})}},{key:"getObjectOfFilesPerState",value:function getObjectOfFilesPerState(){var t=this.getState(),i=t.files,a=t.totalProgress,y=t.error,w=Object.values(i),te=w.filter(function(t){var i=t.progress;return!i.uploadComplete&&i.uploadStarted}),re=w.filter(function(t){return!t.progress.uploadStarted}),ae=w.filter(function(t){return t.progress.uploadStarted||t.progress.preprocess||t.progress.postprocess}),oe=w.filter(function(t){return t.progress.uploadStarted}),le=w.filter(function(t){return t.isPaused}),ue=w.filter(function(t){return t.progress.uploadComplete}),pe=w.filter(function(t){return t.error}),de=te.filter(function(t){return!t.isPaused}),he=w.filter(function(t){return t.progress.preprocess||t.progress.postprocess});return{newFiles:re,startedFiles:ae,uploadStartedFiles:oe,pausedFiles:le,completeFiles:ue,erroredFiles:pe,inProgressFiles:te,inProgressNotPausedFiles:de,processingFiles:he,isUploadStarted:oe.length>0,isAllComplete:100===a&&ue.length===w.length&&0===he.length,isAllErrored:!!y&&pe.length===w.length,isAllPaused:0!==te.length&&le.length===te.length,isUploadInProgress:te.length>0,isSomeGhost:w.some(function(t){return t.isGhost})}}},{key:"validateRestrictions",value:function validateRestrictions(t,i){void 0===i&&(i=this.getFiles());try{Uppy_classPrivateFieldLooseBase(this,Me)[Me].validate(i,[t])}catch(t){return t}return null}},{key:"checkIfFileAlreadyExists",value:function checkIfFileAlreadyExists(t){var i=this.getState().files;return!(!i[t]||i[t].isGhost)}},{key:"addFile",value:function addFile(t){Uppy_classPrivateFieldLooseBase(this,Xe)[Xe](t);var i=Uppy_classPrivateFieldLooseBase(this,Je)[Je]([t]),a=i.nextFilesState,y=i.validFilesToAdd,w=i.errors,te=w.filter(function(t){return t.isRestriction});if(Uppy_classPrivateFieldLooseBase(this,We)[We](te),w.length>0)throw w[0];this.setState({files:a});var ae=(0,re.A)(y,1)[0];return this.emit("file-added",ae),this.emit("files-added",y),this.log("Added file: ".concat(ae.name,", ").concat(ae.id,", mime type: ").concat(ae.type)),Uppy_classPrivateFieldLooseBase(this,Ye)[Ye](),ae.id}},{key:"addFiles",value:function addFiles(t){var i=this;Uppy_classPrivateFieldLooseBase(this,Xe)[Xe]();var a=Uppy_classPrivateFieldLooseBase(this,Je)[Je](t),y=a.nextFilesState,w=a.validFilesToAdd,te=a.errors,re=te.filter(function(t){return t.isRestriction});Uppy_classPrivateFieldLooseBase(this,We)[We](re);var ae=te.filter(function(t){return!t.isRestriction});if(ae.length>0){var oe="Multiple errors occurred while adding files:\n";if(ae.forEach(function(t){oe+="\n * ".concat(t.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:ae.length}),details:oe},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(ae,oe);var le=new Error(oe);throw le.errors=ae,le}this.setState({files:y}),w.forEach(function(t){i.emit("file-added",t)}),this.emit("files-added",w),w.length>5?this.log("Added batch of ".concat(w.length," files")):Object.values(w).forEach(function(t){i.log("Added file: ".concat(t.name,"\n id: ").concat(t.id,"\n type: ").concat(t.type))}),w.length>0&&Uppy_classPrivateFieldLooseBase(this,Ye)[Ye]()}},{key:"removeFiles",value:function removeFiles(t,i){var a=this,y=this.getState(),w=y.files,te=y.currentUploads,re=Uppy_objectSpread({},w),ae=Uppy_objectSpread({},te),oe=Object.create(null);function fileIsNotRemoved(t){return void 0===oe[t]}t.forEach(function(t){w[t]&&(oe[t]=w[t],delete re[t])}),Object.keys(ae).forEach(function(t){var i=te[t].fileIDs.filter(fileIsNotRemoved);if(0!==i.length){var y=a.getState().capabilities;if(i.length!==te[t].fileIDs.length&&!y.individualCancellation)throw new Error("individualCancellation is disabled");ae[t]=Uppy_objectSpread(Uppy_objectSpread({},te[t]),{},{fileIDs:i})}else delete ae[t]});var le={currentUploads:ae,files:re};0===Object.keys(re).length&&(le.allowNewUpload=!0,le.error=null,le.recoveredState=null),this.setState(le),this.calculateTotalProgress();var ue=Object.keys(oe);ue.forEach(function(t){a.emit("file-removed",oe[t],i)}),ue.length>5?this.log("Removed ".concat(ue.length," files")):this.log("Removed files: ".concat(ue.join(", ")))}},{key:"removeFile",value:function removeFile(t,i){this.removeFiles([t],i)}},{key:"pauseResume",value:function pauseResume(t){if(this.getState().capabilities.resumableUploads&&!this.getFile(t).progress.uploadComplete){var i=!(this.getFile(t).isPaused||!1);return this.setFileState(t,{isPaused:i}),this.emit("upload-pause",t,i),i}}},{key:"pauseAll",value:function pauseAll(){var t=Uppy_objectSpread({},this.getState().files);Object.keys(t).filter(function(i){return!t[i].progress.uploadComplete&&t[i].progress.uploadStarted}).forEach(function(i){var a=Uppy_objectSpread(Uppy_objectSpread({},t[i]),{},{isPaused:!0});t[i]=a}),this.setState({files:t}),this.emit("pause-all")}},{key:"resumeAll",value:function resumeAll(){var t=Uppy_objectSpread({},this.getState().files);Object.keys(t).filter(function(i){return!t[i].progress.uploadComplete&&t[i].progress.uploadStarted}).forEach(function(i){var a=Uppy_objectSpread(Uppy_objectSpread({},t[i]),{},{isPaused:!1,error:null});t[i]=a}),this.setState({files:t}),this.emit("resume-all")}},{key:"retryAll",value:function retryAll(){var t=Uppy_objectSpread({},this.getState().files),i=Object.keys(t).filter(function(i){return t[i].error});if(i.forEach(function(i){var a=Uppy_objectSpread(Uppy_objectSpread({},t[i]),{},{isPaused:!1,error:null});t[i]=a}),this.setState({files:t,error:null}),this.emit("retry-all",i),0===i.length)return Promise.resolve({successful:[],failed:[]});var a=Uppy_classPrivateFieldLooseBase(this,rt)[rt](i,{forceAllowNewUpload:!0});return Uppy_classPrivateFieldLooseBase(this,at)[at](a)}},{key:"cancelAll",value:function cancelAll(t){var i=(void 0===t?{}:t).reason,a=void 0===i?"user":i;if(this.emit("cancel-all",{reason:a}),"user"===a){var y=this.getState().files,w=Object.keys(y);w.length&&this.removeFiles(w,"cancel-all"),this.setState(Ne)}}},{key:"retryUpload",value:function retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",t);var i=Uppy_classPrivateFieldLooseBase(this,rt)[rt]([t],{forceAllowNewUpload:!0});return Uppy_classPrivateFieldLooseBase(this,at)[at](i)}},{key:"logout",value:function logout(){this.iteratePlugins(function(t){var i;null==(i=t.provider)||null==i.logout||i.logout()})}},{key:"calculateTotalProgress",value:function calculateTotalProgress(){var t=this.getFiles().filter(function(t){return t.progress.uploadStarted||t.progress.preprocess||t.progress.postprocess});if(0===t.length)return this.emit("progress",0),void this.setState({totalProgress:0});var i=t.filter(function(t){return null!=t.progress.bytesTotal}),a=t.filter(function(t){return null==t.progress.bytesTotal});if(0!==i.length){var y=i.reduce(function(t,i){var a;return t+(null!=(a=i.progress.bytesTotal)?a:0)},0),w=y/i.length;y+=w*a.length;var te=0;i.forEach(function(t){te+=t.progress.bytesUploaded}),a.forEach(function(t){te+=w*(t.progress.percentage||0)/100});var re=0===y?0:Math.round(te/y*100);re>100&&(re=100),this.setState({totalProgress:re}),this.emit("progress",re)}else{var ae=100*t.length,oe=a.reduce(function(t,i){return t+i.progress.percentage},0),le=Math.round(oe/ae*100);this.setState({totalProgress:le})}}},{key:"updateOnlineStatus",value:function updateOnlineStatus(){var t;null==(t=window.navigator.onLine)||t?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function getID(){return this.opts.id}},{key:"use",value:function use(t,i){if("function"!=typeof t){var a="Expected a plugin class, but got ".concat(null===t?"null":(0,te.A)(t),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(a)}var y=new t(this,i),w=y.id;if(!w)throw new Error("Your plugin must have an id");if(!y.type)throw new Error("Your plugin must have a type");var re=this.getPlugin(w);if(re){var ae="Already found a plugin named '".concat(re.id,"'. ")+"Tried to use: '".concat(w,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(ae)}return t.VERSION&&this.log("Using ".concat(w," v").concat(t.VERSION)),y.type in Uppy_classPrivateFieldLooseBase(this,Re)[Re]?Uppy_classPrivateFieldLooseBase(this,Re)[Re][y.type].push(y):Uppy_classPrivateFieldLooseBase(this,Re)[Re][y.type]=[y],y.install(),this.emit("plugin-added",y),this}},{key:"getPlugin",value:function getPlugin(t){for(var i=0,a=Object.values(Uppy_classPrivateFieldLooseBase(this,Re)[Re]);i<a.length;i++){var y=a[i].find(function(i){return i.id===t});if(null!=y)return y}}},{key:t,value:function value(t){return Uppy_classPrivateFieldLooseBase(this,Re)[Re][t]}},{key:"iteratePlugins",value:function iteratePlugins(t){Object.values(Uppy_classPrivateFieldLooseBase(this,Re)[Re]).flat(1).forEach(t)}},{key:"removePlugin",value:function removePlugin(t){this.log("Removing plugin ".concat(t.id)),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();var i=Uppy_classPrivateFieldLooseBase(this,Re)[Re][t.type],a=i.findIndex(function(i){return i.id===t.id});-1!==a&&i.splice(a,1);var y={plugins:Uppy_objectSpread(Uppy_objectSpread({},this.getState().plugins),{},(0,ae.A)({},t.id,void 0))};this.setState(y)}},{key:"close",value:function close(t){var i=this,a=(void 0===t?{}:t).reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:a}),Uppy_classPrivateFieldLooseBase(this,ze)[ze](),this.iteratePlugins(function(t){i.removePlugin(t)}),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",Uppy_classPrivateFieldLooseBase(this,et)[et]),window.removeEventListener("offline",Uppy_classPrivateFieldLooseBase(this,et)[et]))}},{key:"hideInfo",value:function hideInfo(){var t=this.getState().info;this.setState({info:t.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function info(t,i,a){var y=this;void 0===i&&(i="info"),void 0===a&&(a=3e3);var re="object"===(0,te.A)(t);this.setState({info:[].concat((0,w.A)(this.getState().info),[{type:i,message:re?t.message:t,details:re?t.details:null}])}),setTimeout(function(){return y.hideInfo()},a),this.emit("info-visible")}},{key:"log",value:function log(t,i){var a=this.opts.logger;switch(i){case"error":a.error(t);break;case"warning":a.warn(t);break;default:a.debug(t)}}},{key:"registerRequestClient",value:function registerRequestClient(t,i){Uppy_classPrivateFieldLooseBase(this,tt)[tt].set(t,i)}},{key:"getRequestClientForFile",value:function getRequestClientForFile(t){if(!t.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(t.id));var i=Uppy_classPrivateFieldLooseBase(this,tt)[tt].get(t.remote.requestClientId);if(null==i)throw new Error('requestClientId "'.concat(t.remote.requestClientId,'" not registered for file "').concat(t.id,'"'));return i}},{key:"restore",value:function restore(t){return this.log('Core: attempting to restore upload "'.concat(t,'"')),this.getState().currentUploads[t]?Uppy_classPrivateFieldLooseBase(this,at)[at](t):(Uppy_classPrivateFieldLooseBase(this,it)[it](t),Promise.reject(new Error("Nonexistent upload")))}},{key:i,value:function value(){var t;return(t=Uppy_classPrivateFieldLooseBase(this,rt))[rt].apply(t,arguments)}},{key:"addResultData",value:function addResultData(t,i){if(Uppy_classPrivateFieldLooseBase(this,nt)[nt](t)){var a=this.getState().currentUploads,y=Uppy_objectSpread(Uppy_objectSpread({},a[t]),{},{result:Uppy_objectSpread(Uppy_objectSpread({},a[t].result),i)});this.setState({currentUploads:Uppy_objectSpread(Uppy_objectSpread({},a),{},(0,ae.A)({},t,y))})}else this.log("Not setting result for an upload that has been removed: ".concat(t))}},{key:"upload",value:function upload(){var t,i=this;null!=(t=Uppy_classPrivateFieldLooseBase(this,Re)[Re].uploader)&&t.length||this.log("No uploader type plugins are used","warning");var a=this.getState().files,y=this.opts.onBeforeUpload(a);return!1===y?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(y&&"object"===(0,te.A)(y)&&(a=y,this.setState({files:a})),Promise.resolve().then(function(){return Uppy_classPrivateFieldLooseBase(i,Me)[Me].validateMinNumberOfFiles(a)}).catch(function(t){throw Uppy_classPrivateFieldLooseBase(i,We)[We]([t]),t}).then(function(){if(!Uppy_classPrivateFieldLooseBase(i,$e)[$e](a))throw new Ee(i.i18n("missingRequiredMetaField"))}).catch(function(t){throw t}).then(function(){var t=i.getState().currentUploads,y=Object.values(t).flatMap(function(t){return t.fileIDs}),w=[];Object.keys(a).forEach(function(t){var a=i.getFile(t);a.progress.uploadStarted||-1!==y.indexOf(t)||w.push(a.id)});var te=Uppy_classPrivateFieldLooseBase(i,rt)[rt](w);return Uppy_classPrivateFieldLooseBase(i,at)[at](te)}).catch(function(t){throw i.emit("error",t),i.log(t,"error"),t}))}}])}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function _informAndEmit2(t){var i,a=this,y=Uppy_createForOfIteratorHelper(t);try{for(y.s();!(i=y.n()).done;){var w=i.value;w.isRestriction?this.emit("restriction-failed",w.file,w):this.emit("error",w,w.file),this.log(w,"warning")}}catch(t){y.e(t)}finally{y.f()}var te=t.filter(function(t){return t.isUserFacing}),re=te.slice(0,4),ae=te.slice(4);re.forEach(function(t){var i=t.message,y=t.details,w=void 0===y?"":y;a.info({message:i,details:w},"error",a.opts.infoTimeout)}),ae.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:ae.length})})}function _checkRequiredMetaFieldsOnFile2(t){var i=Uppy_classPrivateFieldLooseBase(this,Me)[Me].getMissingRequiredMetaFields(t),a=i.missingFields,y=i.error;return!(a.length>0)||(this.setFileState(t.id,{missingRequiredMetaFields:a}),this.log(y.message),this.emit("restriction-failed",t,y),!1)}function _checkRequiredMetaFields2(t){for(var i=!0,a=0,y=Object.values(t);a<y.length;a++){var w=y[a];Uppy_classPrivateFieldLooseBase(this,Ge)[Ge](w)||(i=!1)}return i}function _assertNewUploadAllowed2(t){if(!1===this.getState().allowNewUpload){var i=new Ee(this.i18n("noMoreFilesAllowed"),{file:t});throw Uppy_classPrivateFieldLooseBase(this,We)[We]([i]),i}}function _transformFile2(t){var i=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,a=getFileType(i),y=function getFileName(t,i){return i.name?i.name:"image"===t.split("/")[0]?"".concat(t.split("/")[0],".").concat(t.split("/")[1]):"noname"}(a,i),w=getFileNameAndExtension(y).extension,te=getSafeFileId(i),re=i.meta||{};re.name=y,re.type=a;var ae=Number.isFinite(i.data.size)?i.data.size:null;return{source:i.source||"",id:te,name:y,extension:w||"",meta:Uppy_objectSpread(Uppy_objectSpread({},this.getState().meta),re),type:a,data:i.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:ae,uploadComplete:!1,uploadStarted:null},size:ae,isGhost:!1,isRemote:i.isRemote||!1,remote:i.remote||"",preview:i.preview}}function _startIfAutoProceed2(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(i){i.isRestriction||t.log(i.stack||i.message||i)})},4))}function _checkAndUpdateFileState2(t){var i,a=this.getState().files,y=Uppy_objectSpread({},a),w=[],re=[],ae=Uppy_createForOfIteratorHelper(t);try{for(ae.s();!(i=ae.n()).done;){var oe=i.value;try{var le,ue=Uppy_classPrivateFieldLooseBase(this,Qe)[Qe](oe),pe=null==(le=a[ue.id])?void 0:le.isGhost;if(pe)ue=Uppy_objectSpread(Uppy_objectSpread({},a[ue.id]),{},{isGhost:!1,data:oe.data}),this.log("Replaced the blob in the restored ghost file: ".concat(ue.name,", ").concat(ue.id));var de=this.opts.onBeforeFileAdded(ue,y);if(!de&&this.checkIfFileAlreadyExists(ue.id))throw new Ee(this.i18n("noDuplicates",{fileName:ue.name}),{file:oe});if(!1===de&&!pe)throw new Ee("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:oe});"object"===(0,te.A)(de)&&null!==de&&(ue=de),Uppy_classPrivateFieldLooseBase(this,Me)[Me].validateSingleFile(ue),y[ue.id]=ue,w.push(ue)}catch(t){re.push(t)}}}catch(t){ae.e(t)}finally{ae.f()}try{Uppy_classPrivateFieldLooseBase(this,Me)[Me].validateAggregateRestrictions(Object.values(a),w)}catch(t){return re.push(t),{nextFilesState:a,validFilesToAdd:[],errors:re}}return{nextFilesState:y,validFilesToAdd:w,errors:re}}function _addListeners2(){var t=this,i=function errorHandler(i,a,y){var w=i.message||"Unknown error";i.details&&(w+=" ".concat(i.details)),t.setState({error:w}),null!=a&&a.id in t.getState().files&&t.setFileState(a.id,{error:w,response:y})};this.on("error",i),this.on("upload-error",function(a,y,w){if(i(y,a,w),"object"===(0,te.A)(y)&&y.message){var re;t.log(y.message,"error");var ae=new Error(t.i18n("failedToUpload",{file:null!=(re=null==a?void 0:a.name)?re:""}));ae.isUserFacing=!0,ae.details=y.message,y.details&&(ae.details+=" ".concat(y.details)),Uppy_classPrivateFieldLooseBase(t,We)[We]([ae])}else Uppy_classPrivateFieldLooseBase(t,We)[We]([y])});var a=null;this.on("upload-stalled",function(i,y){var w=i.message,te=y.map(function(t){return t.meta.name}).join(", ");a||(t.info({message:w,details:te},"warning",t.opts.infoTimeout),a=setTimeout(function(){a=null},t.opts.infoTimeout)),t.log("".concat(w," ").concat(te).trim(),"warning")}),this.on("upload",function(){t.setState({error:null})});this.on("upload-start",function(i){i.forEach(function(i){t.emit("upload-started",i)}),function onUploadStarted(i){var a=i.filter(function(i){var a=null!=i&&t.getFile(i.id);return a||t.log("Not setting progress for a file that has been removed: ".concat(null==i?void 0:i.id)),a}),y=Object.fromEntries(a.map(function(t){return[t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}}]}));t.patchFilesState(y)}(i)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(i,a){if(null!=i&&t.getFile(i.id)){var y=t.getFile(i.id).progress;t.setFileState(i.id,{progress:Uppy_objectSpread(Uppy_objectSpread({},y),{},{postprocess:Uppy_classPrivateFieldLooseBase(t,Ke)[Ke].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:y.bytesTotal}),response:a,uploadURL:a.uploadURL,isPaused:!1}),null==i.size&&t.setFileState(i.id,{size:a.bytesUploaded||y.bytesTotal}),t.calculateTotalProgress()}else t.log("Not setting progress for a file that has been removed: ".concat(null==i?void 0:i.id))}),this.on("preprocess-progress",function(i,a){null!=i&&t.getFile(i.id)?t.setFileState(i.id,{progress:Uppy_objectSpread(Uppy_objectSpread({},t.getFile(i.id).progress),{},{preprocess:a})}):t.log("Not setting progress for a file that has been removed: ".concat(null==i?void 0:i.id))}),this.on("preprocess-complete",function(i){if(null!=i&&t.getFile(i.id)){var a=Uppy_objectSpread({},t.getState().files);a[i.id]=Uppy_objectSpread(Uppy_objectSpread({},a[i.id]),{},{progress:Uppy_objectSpread({},a[i.id].progress)}),delete a[i.id].progress.preprocess,t.setState({files:a})}else t.log("Not setting progress for a file that has been removed: ".concat(null==i?void 0:i.id))}),this.on("postprocess-progress",function(i,a){null!=i&&t.getFile(i.id)?t.setFileState(i.id,{progress:Uppy_objectSpread(Uppy_objectSpread({},t.getState().files[i.id].progress),{},{postprocess:a})}):t.log("Not setting progress for a file that has been removed: ".concat(null==i?void 0:i.id))}),this.on("postprocess-complete",function(i){if(null!=i&&t.getFile(i.id)){var a=Uppy_objectSpread({},t.getState().files);a[i.id]=Uppy_objectSpread(Uppy_objectSpread({},a[i.id]),{},{progress:Uppy_objectSpread({},a[i.id].progress)}),delete a[i.id].progress.postprocess,t.setState({files:a})}else t.log("Not setting progress for a file that has been removed: ".concat(null==i?void 0:i.id))}),this.on("restored",function(){t.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(i){i&&Uppy_classPrivateFieldLooseBase(t,Ge)[Ge](i)}),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",Uppy_classPrivateFieldLooseBase(this,et)[et]),window.addEventListener("offline",Uppy_classPrivateFieldLooseBase(this,et)[et]),setTimeout(Uppy_classPrivateFieldLooseBase(this,et)[et],3e3))}function _createUpload2(t,i){void 0===i&&(i={});var a=i.forceAllowNewUpload,y=void 0!==a&&a,w=this.getState(),te=w.allowNewUpload,re=w.currentUploads;if(!te&&!y)throw new Error("Cannot create a new upload: already uploading.");var oe=(0,he.A)();return this.emit("upload",{id:oe,fileIDs:t}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:Uppy_objectSpread(Uppy_objectSpread({},re),{},(0,ae.A)({},oe,{fileIDs:t,step:0,result:{}}))}),oe}function _getUpload2(t){return this.getState().currentUploads[t]}function _removeUpload2(t){var i=Uppy_objectSpread({},this.getState().currentUploads);delete i[t],this.setState({currentUploads:i})}function _runUpload2(_x){return _runUpload3.apply(this,arguments)}function _runUpload3(){return(_runUpload3=(0,y.A)(ue.mark(function _callee(t){var i,a,y,te,re,oe,le,pe,de,he,fe,ve=this;return ue.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:a=(i=function getCurrentUpload(){return ve.getState().currentUploads[t]})(),y=[].concat((0,w.A)(Uppy_classPrivateFieldLooseBase(this,He)[He]),(0,w.A)(Uppy_classPrivateFieldLooseBase(this,qe)[qe]),(0,w.A)(Uppy_classPrivateFieldLooseBase(this,Ke)[Ke])),ue.prev=1,te=a.step||0;case 2:if(!(te<y.length)){ue.next=6;break}if(a){ue.next=3;break}return ue.abrupt("continue",6);case 3:return re=y[te],this.setState({currentUploads:Uppy_objectSpread(Uppy_objectSpread({},this.getState().currentUploads),{},(0,ae.A)({},t,Uppy_objectSpread(Uppy_objectSpread({},a),{},{step:te})))}),oe=a.fileIDs,ue.next=4,re(oe,t);case 4:a=i();case 5:te++,ue.next=2;break;case 6:ue.next=8;break;case 7:throw ue.prev=7,fe=ue.catch(1),Uppy_classPrivateFieldLooseBase(this,it)[it](t),fe;case 8:return a&&(a.fileIDs.forEach(function(t){var i=ve.getFile(t);i&&i.progress.postprocess&&ve.emit("postprocess-complete",i)}),le=a.fileIDs.map(function(t){return ve.getFile(t)}),pe=le.filter(function(t){return!t.error}),de=le.filter(function(t){return t.error}),this.addResultData(t,{successful:pe,failed:de,uploadID:t}),a=i()),a&&(he=a.result,this.emit("complete",he),Uppy_classPrivateFieldLooseBase(this,it)[it](t)),null==he&&this.log("Not setting result for an upload that has been removed: ".concat(t)),ue.abrupt("return",he);case 9:case"end":return ue.stop()}},_callee,this,[[1,7]])}))).apply(this,arguments)}ot.VERSION="3.9.3";const st=ot},33748:(t,i,a)=>{"use strict";a(46518)({target:"Math",stat:!0},{log2:a(67787)})},34034:(t,i,a)=>{a(16280),a(76918);var y=a(59209),w=a(67873);t.exports=function throttle(t,i,a){var te=!0,re=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return w(a)&&(te="leading"in a?!!a.leading:te,re="trailing"in a?!!a.trailing:re),y(t,i,{"leading":te,"maxWait":i,"trailing":re})}},35252:(t,i,a)=>{a(34782),a(27495),a(25440);var y=a(79876),w=/^\s+/;t.exports=function baseTrim(t){return t?t.slice(0,y(t)+1).replace(w,""):t}},36480:(t,i,a)=>{"use strict";a.d(i,{FK:()=>k,Ob:()=>K,XX:()=>G,_3:()=>b,fF:()=>w,h:()=>_,uA:()=>x,v2:()=>H});var y,w,te,re,ae,oe,le,ue,pe,de,he,fe=a(18180),ve=(a(51629),a(25276),a(64346),a(23792),a(62062),a(44114),a(34782),a(15086),a(26910),a(94170),a(62010),a(26099),a(3362),a(27495),a(90906),a(31415),a(47764),a(25440),a(48718),a(98992),a(3949),a(81454),a(37550),a(23500),a(62953),a(76031),{}),me=[],ge=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_e=Array.isArray;function d(t,i){for(var a in i)t[a]=i[a];return t}function g(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _(t,i,a){var w,te,re,ae={};for(re in i)"key"==re?w=i[re]:"ref"==re?te=i[re]:ae[re]=i[re];if(arguments.length>2&&(ae.children=arguments.length>3?y.call(arguments,2):a),"function"==typeof t&&null!=t.defaultProps)for(re in t.defaultProps)void 0===ae[re]&&(ae[re]=t.defaultProps[re]);return m(t,ae,w,te,null)}function m(t,i,a,y,re){var ae={type:t,props:i,key:a,ref:y,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==re?++te:re,__i:-1,__u:0};return null==re&&null!=w.vnode&&w.vnode(ae),ae}function b(){return{current:null}}function k(t){return t.children}function x(t,i){this.props=t,this.context=i}function S(t,i){if(null==i)return t.__?S(t.__,t.__i+1):null;for(var a;i<t.__k.length;i++)if(null!=(a=t.__k[i])&&null!=a.__e)return a.__e;return"function"==typeof t.type?S(t):null}function C(t){var i,a;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,i=0;i<t.__k.length;i++)if(null!=(a=t.__k[i])&&null!=a.__e){t.__e=t.__c.base=a.__e;break}return C(t)}}function M(t){(!t.__d&&(t.__d=!0)&&re.push(t)&&!$.__r++||ae!=w.debounceRendering)&&((ae=w.debounceRendering)||oe)($)}function $(){for(var t,i,a,y,te,ae,oe,ue=1;re.length;)re.length>ue&&re.sort(le),t=re.shift(),ue=re.length,t.__d&&(a=void 0,te=(y=(i=t).__v).__e,ae=[],oe=[],i.__P&&((a=d({},y)).__v=y.__v+1,w.vnode&&w.vnode(a),O(i.__P,a,y,i.__n,i.__P.namespaceURI,32&y.__u?[te]:null,ae,null==te?S(y):te,!!(32&y.__u),oe),a.__v=y.__v,a.__.__k[a.__i]=a,N(ae,a,oe),a.__e!=te&&C(a)));$.__r=0}function I(t,i,a,y,w,te,re,ae,oe,le,ue){var pe,de,he,fe,ge,_e,Pe=y&&y.__k||me,Fe=i.length;for(oe=P(a,i,Pe,oe,Fe),pe=0;pe<Fe;pe++)null!=(he=a.__k[pe])&&(de=-1==he.__i?ve:Pe[he.__i]||ve,he.__i=pe,_e=O(t,he,de,w,te,re,ae,oe,le,ue),fe=he.__e,he.ref&&de.ref!=he.ref&&(de.ref&&B(de.ref,null,he),ue.push(he.ref,he.__c||fe,he)),null==ge&&null!=fe&&(ge=fe),4&he.__u||de.__k===he.__k?oe=A(he,oe,t):"function"==typeof he.type&&void 0!==_e?oe=_e:fe&&(oe=fe.nextSibling),he.__u&=-7);return a.__e=ge,oe}function P(t,i,a,y,w){var te,re,ae,oe,le,ue=a.length,pe=ue,de=0;for(t.__k=new Array(w),te=0;te<w;te++)null!=(re=i[te])&&"boolean"!=typeof re&&"function"!=typeof re?(oe=te+de,(re=t.__k[te]="string"==typeof re||"number"==typeof re||"bigint"==typeof re||re.constructor==String?m(null,re,null,null,null):_e(re)?m(k,{children:re},null,null,null):null==re.constructor&&re.__b>0?m(re.type,re.props,re.key,re.ref?re.ref:null,re.__v):re).__=t,re.__b=t.__b+1,ae=null,-1!=(le=re.__i=L(re,a,oe,pe))&&(pe--,(ae=a[le])&&(ae.__u|=2)),null==ae||null==ae.__v?(-1==le&&(w>ue?de--:w<ue&&de++),"function"!=typeof re.type&&(re.__u|=4)):le!=oe&&(le==oe-1?de--:le==oe+1?de++:(le>oe?de--:de++,re.__u|=4))):t.__k[te]=null;if(pe)for(te=0;te<ue;te++)null!=(ae=a[te])&&!(2&ae.__u)&&(ae.__e==y&&(y=S(ae)),D(ae,ae));return y}function A(t,i,a){var y,w;if("function"==typeof t.type){for(y=t.__k,w=0;y&&w<y.length;w++)y[w]&&(y[w].__=t,i=A(y[w],i,a));return i}t.__e!=i&&(i&&t.type&&!a.contains(i)&&(i=S(t)),a.insertBefore(t.__e,i||null),i=t.__e);do{i=i&&i.nextSibling}while(null!=i&&8==i.nodeType);return i}function H(t,i){return i=i||[],null==t||"boolean"==typeof t||(_e(t)?t.some(function(t){H(t,i)}):i.push(t)),i}function L(t,i,a,y){var w,te,re,ae=t.key,oe=t.type,le=i[a],ue=null!=le&&!(2&le.__u);if(null===le&&null==t.key||ue&&ae==le.key&&oe==le.type)return a;if(y>(ue?1:0))for(w=a-1,te=a+1;w>=0||te<i.length;)if(null!=(le=i[re=w>=0?w--:te++])&&!(2&le.__u)&&ae==le.key&&oe==le.type)return re;return-1}function T(t,i,a){"-"==i[0]?t.setProperty(i,null==a?"":a):t[i]=null==a?"":"number"!=typeof a||ge.test(i)?a:a+"px"}function j(t,i,a,y,w){var te,re;e:if("style"==i)if("string"==typeof a)t.style.cssText=a;else{if("string"==typeof y&&(t.style.cssText=y=""),y)for(i in y)a&&i in a||T(t.style,i,"");if(a)for(i in a)y&&a[i]==y[i]||T(t.style,i,a[i])}else if("o"==i[0]&&"n"==i[1])te=i!=(i=i.replace(ue,"$1")),re=i.toLowerCase(),i=re in t||"onFocusOut"==i||"onFocusIn"==i?re.slice(2):i.slice(2),t.l||(t.l={}),t.l[i+te]=a,a?y?a.u=y.u:(a.u=pe,t.addEventListener(i,te?he:de,te)):t.removeEventListener(i,te?he:de,te);else{if("http://www.w3.org/2000/svg"==w)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=i&&"height"!=i&&"href"!=i&&"list"!=i&&"form"!=i&&"tabIndex"!=i&&"download"!=i&&"rowSpan"!=i&&"colSpan"!=i&&"role"!=i&&"popover"!=i&&i in t)try{t[i]=null==a?"":a;break e}catch(t){}"function"==typeof a||(null==a||!1===a&&"-"!=i[4]?t.removeAttribute(i):t.setAttribute(i,"popover"==i&&1==a?"":a))}}function F(t){return function(i){if(this.l){var a=this.l[i.type+t];if(null==i.t)i.t=pe++;else if(i.t<a.u)return;return a(w.event?w.event(i):i)}}}function O(t,i,a,y,te,re,ae,oe,le,ue){var pe,de,he,fe,ve,me,ge,Pe,Fe,Se,Ae,Ce,De,xe,Ue,Be,Te,Ee=i.type;if(null!=i.constructor)return null;128&a.__u&&(le=!!(32&a.__u),re=[oe=i.__e=a.__e]),(pe=w.__b)&&pe(i);e:if("function"==typeof Ee)try{if(Pe=i.props,Fe="prototype"in Ee&&Ee.prototype.render,Se=(pe=Ee.contextType)&&y[pe.__c],Ae=pe?Se?Se.props.value:pe.__:y,a.__c?ge=(de=i.__c=a.__c).__=de.__E:(Fe?i.__c=de=new Ee(Pe,Ae):(i.__c=de=new x(Pe,Ae),de.constructor=Ee,de.render=E),Se&&Se.sub(de),de.props=Pe,de.state||(de.state={}),de.context=Ae,de.__n=y,he=de.__d=!0,de.__h=[],de._sb=[]),Fe&&null==de.__s&&(de.__s=de.state),Fe&&null!=Ee.getDerivedStateFromProps&&(de.__s==de.state&&(de.__s=d({},de.__s)),d(de.__s,Ee.getDerivedStateFromProps(Pe,de.__s))),fe=de.props,ve=de.state,de.__v=i,he)Fe&&null==Ee.getDerivedStateFromProps&&null!=de.componentWillMount&&de.componentWillMount(),Fe&&null!=de.componentDidMount&&de.__h.push(de.componentDidMount);else{if(Fe&&null==Ee.getDerivedStateFromProps&&Pe!==fe&&null!=de.componentWillReceiveProps&&de.componentWillReceiveProps(Pe,Ae),!de.__e&&null!=de.shouldComponentUpdate&&!1===de.shouldComponentUpdate(Pe,de.__s,Ae)||i.__v==a.__v){for(i.__v!=a.__v&&(de.props=Pe,de.state=de.__s,de.__d=!1),i.__e=a.__e,i.__k=a.__k,i.__k.some(function(t){t&&(t.__=i)}),Ce=0;Ce<de._sb.length;Ce++)de.__h.push(de._sb[Ce]);de._sb=[],de.__h.length&&ae.push(de);break e}null!=de.componentWillUpdate&&de.componentWillUpdate(Pe,de.__s,Ae),Fe&&null!=de.componentDidUpdate&&de.__h.push(function(){de.componentDidUpdate(fe,ve,me)})}if(de.context=Ae,de.props=Pe,de.__P=t,de.__e=!1,De=w.__r,xe=0,Fe){for(de.state=de.__s,de.__d=!1,De&&De(i),pe=de.render(de.props,de.state,de.context),Ue=0;Ue<de._sb.length;Ue++)de.__h.push(de._sb[Ue]);de._sb=[]}else do{de.__d=!1,De&&De(i),pe=de.render(de.props,de.state,de.context),de.state=de.__s}while(de.__d&&++xe<25);de.state=de.__s,null!=de.getChildContext&&(y=d(d({},y),de.getChildContext())),Fe&&!he&&null!=de.getSnapshotBeforeUpdate&&(me=de.getSnapshotBeforeUpdate(fe,ve)),Be=pe,null!=pe&&pe.type===k&&null==pe.key&&(Be=V(pe.props.children)),oe=I(t,_e(Be)?Be:[Be],i,a,y,te,re,ae,oe,le,ue),de.base=i.__e,i.__u&=-161,de.__h.length&&ae.push(de),ge&&(de.__E=de.__=null)}catch(t){if(i.__v=null,le||null!=re)if(t.then){for(i.__u|=le?160:128;oe&&8==oe.nodeType&&oe.nextSibling;)oe=oe.nextSibling;re[re.indexOf(oe)]=null,i.__e=oe}else{for(Te=re.length;Te--;)g(re[Te]);z(i)}else i.__e=a.__e,i.__k=a.__k,t.then||z(i);w.__e(t,i,a)}else null==re&&i.__v==a.__v?(i.__k=a.__k,i.__e=a.__e):oe=i.__e=q(a.__e,i,a,y,te,re,ae,le,ue);return(pe=w.diffed)&&pe(i),128&i.__u?void 0:oe}function z(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(z)}function N(t,i,a){for(var y=0;y<a.length;y++)B(a[y],a[++y],a[++y]);w.__c&&w.__c(i,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(t){t.call(i)})}catch(t){w.__e(t,i.__v)}})}function V(t){return"object"!=(0,fe.A)(t)||null==t||t.__b&&t.__b>0?t:_e(t)?t.map(V):d({},t)}function q(t,i,a,te,re,ae,oe,le,ue){var pe,de,he,fe,me,ge,Pe,Fe=a.props,Se=i.props,Ae=i.type;if("svg"==Ae?re="http://www.w3.org/2000/svg":"math"==Ae?re="http://www.w3.org/1998/Math/MathML":re||(re="http://www.w3.org/1999/xhtml"),null!=ae)for(pe=0;pe<ae.length;pe++)if((me=ae[pe])&&"setAttribute"in me==!!Ae&&(Ae?me.localName==Ae:3==me.nodeType)){t=me,ae[pe]=null;break}if(null==t){if(null==Ae)return document.createTextNode(Se);t=document.createElementNS(re,Ae,Se.is&&Se),le&&(w.__m&&w.__m(i,ae),le=!1),ae=null}if(null==Ae)Fe===Se||le&&t.data==Se||(t.data=Se);else{if(ae=ae&&y.call(t.childNodes),Fe=a.props||ve,!le&&null!=ae)for(Fe={},pe=0;pe<t.attributes.length;pe++)Fe[(me=t.attributes[pe]).name]=me.value;for(pe in Fe)if(me=Fe[pe],"children"==pe);else if("dangerouslySetInnerHTML"==pe)he=me;else if(!(pe in Se)){if("value"==pe&&"defaultValue"in Se||"checked"==pe&&"defaultChecked"in Se)continue;j(t,pe,null,me,re)}for(pe in Se)me=Se[pe],"children"==pe?fe=me:"dangerouslySetInnerHTML"==pe?de=me:"value"==pe?ge=me:"checked"==pe?Pe=me:le&&"function"!=typeof me||Fe[pe]===me||j(t,pe,me,Fe[pe],re);if(de)le||he&&(de.__html==he.__html||de.__html==t.innerHTML)||(t.innerHTML=de.__html),i.__k=[];else if(he&&(t.innerHTML=""),I("template"==i.type?t.content:t,_e(fe)?fe:[fe],i,a,te,"foreignObject"==Ae?"http://www.w3.org/1999/xhtml":re,ae,oe,ae?ae[0]:a.__k&&S(a,0),le,ue),null!=ae)for(pe=ae.length;pe--;)g(ae[pe]);le||(pe="value","progress"==Ae&&null==ge?t.removeAttribute("value"):null!=ge&&(ge!==t[pe]||"progress"==Ae&&!ge||"option"==Ae&&ge!=Fe[pe])&&j(t,pe,ge,Fe[pe],re),pe="checked",null!=Pe&&Pe!=t[pe]&&j(t,pe,Pe,Fe[pe],re))}return t}function B(t,i,a){try{if("function"==typeof t){var y="function"==typeof t.__u;y&&t.__u(),y&&null==i||(t.__u=t(i))}else t.current=i}catch(t){w.__e(t,a)}}function D(t,i,a){var y,te;if(w.unmount&&w.unmount(t),(y=t.ref)&&(y.current&&y.current!=t.__e||B(y,null,i)),null!=(y=t.__c)){if(y.componentWillUnmount)try{y.componentWillUnmount()}catch(t){w.__e(t,i)}y.base=y.__P=null}if(y=t.__k)for(te=0;te<y.length;te++)y[te]&&D(y[te],i,a||"function"!=typeof t.type);a||g(t.__e),t.__c=t.__=t.__e=void 0}function E(t,i,a){return this.constructor(t,a)}function G(t,i,a){var te,re,ae,oe;i==document&&(i=document.documentElement),w.__&&w.__(t,i),re=(te="function"==typeof a)?null:a&&a.__k||i.__k,ae=[],oe=[],O(i,t=(!te&&a||i).__k=_(k,null,[t]),re||ve,ve,i.namespaceURI,!te&&a?[a]:re?null:i.firstChild?y.call(i.childNodes):null,ae,!te&&a?a:re?re.__e:i.firstChild,te,oe),N(ae,t,oe)}function K(t,i,a){var w,te,re,ae,oe=d({},t.props);for(re in t.type&&t.type.defaultProps&&(ae=t.type.defaultProps),i)"key"==re?w=i[re]:"ref"==re?te=i[re]:oe[re]=void 0===i[re]&&null!=ae?ae[re]:i[re];return arguments.length>2&&(oe.children=arguments.length>3?y.call(arguments,2):a),m(t.type,oe,w||t.key,te||t.ref,null)}y=me.slice,w={__e:function __e(t,i,a,y){for(var w,te,re;i=i.__;)if((w=i.__c)&&!w.__)try{if((te=w.constructor)&&null!=te.getDerivedStateFromError&&(w.setState(te.getDerivedStateFromError(t)),re=w.__d),null!=w.componentDidCatch&&(w.componentDidCatch(t,y||{}),re=w.__d),re)return w.__E=w}catch(i){t=i}throw t}},te=0,x.prototype.setState=function(t,i){var a;a=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},a),this.props)),t&&d(a,t),null!=t&&this.__v&&(i&&this._sb.push(i),M(this))},x.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),M(this))},x.prototype.render=k,re=[],oe="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,le=function e(t,i){return t.__v.__b-i.__v.__b},$.__r=0,ue=/(PointerCapture)$|Capture$/i,pe=0,de=F(!1),he=F(!0)},42631:(t,i,a)=>{a(76918),a(23288),a(26099),a(38781);var y=a(46133),w=Object.prototype,te=w.hasOwnProperty,re=w.toString,ae=y?y.toStringTag:void 0;t.exports=function getRawTag(t){var i=te.call(t,ae),a=t[ae];try{t[ae]=void 0;var y=!0}catch(t){}var w=re.call(t);return y&&(i?t[ae]=a:delete t[ae]),w}},42785:(t,i,a)=>{var y=a(89990);a(13611);var w=a(47436),te="object"==("undefined"==typeof self?"undefined":y(self))&&self&&self.Object===Object&&self,re=w||te||Function("return this")();t.exports=re},43146:(t,i,a)=>{a(34782),a(58940),a(27495),a(90906);var y=a(35252),w=a(67873),te=a(78766),re=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,oe=/^0o[0-7]+$/i,le=parseInt;t.exports=function toNumber(t){if("number"==typeof t)return t;if(te(t))return NaN;if(w(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=w(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=y(t);var a=ae.test(t);return a||oe.test(t)?le(t.slice(2),a?2:8):re.test(t)?NaN:+t}},46133:(t,i,a)=>{var y=a(42785).Symbol;t.exports=y},47436:(t,i,a)=>{var y=a(89990),w="object"==(void 0===a.g?"undefined":y(a.g))&&a.g&&a.g.Object===Object&&a.g;t.exports=w},48646:(t,i,a)=>{"use strict";var y=a(69565),w=a(28551),te=a(1767),re=a(50851);t.exports=function(t,i){i&&"string"==typeof t||w(t);var a=re(t);return te(w(void 0!==a?y(a,t):t))}},51391:(t,i,a)=>{"use strict";a.d(i,{A:()=>y});var y=function nanoid(){for(var t="",i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;i--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}},53921:(t,i,a)=>{"use strict";var y=a(46518),w=a(72652),te=a(97040);y({target:"Object",stat:!0},{fromEntries:function fromEntries(t){var i={};return w(t,function(t,a){te(i,t,a)},{AS_ENTRIES:!0}),i}})},54024:(t,i,a)=>{"use strict";a.d(i,{A:()=>pe});var y=a(51531),w=a(18180),te=a(58237),re=a(84285);a(52675),a(83237),a(31073),a(16280),a(76918),a(2008),a(51629),a(64346),a(48598),a(44114),a(69085),a(67945),a(84185),a(83851),a(81278),a(79432),a(26099),a(84864),a(57465),a(27495),a(87745),a(38781),a(25440),a(90744),a(98992),a(54520),a(3949),a(23500);function ownKeys(t,i){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(t);i&&(y=y.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,y)}return a}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var a=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(a),!0).forEach(function(i){(0,y.A)(t,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(a,i))})}return t}function _classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var ae=0;function _classPrivateFieldLooseKey(t){return"__private_"+ae+++"_"+t}function insertReplacement(t,i,a){var y=[];return t.forEach(function(t){return"string"!=typeof t?y.push(t):i[Symbol.split](t).forEach(function(t,i,w){""!==t&&y.push(t),i<w.length-1&&y.push(a)})}),y}function interpolate(t,i){var a=/\$/g,y=[t];if(null==i)return y;for(var w=0,te=Object.keys(i);w<te.length;w++){var re=te[w];if("_"!==re){var ae=i[re];"string"==typeof ae&&(ae=a[Symbol.replace](ae,"$$$$")),y=insertReplacement(y,new RegExp("%\\{".concat(re,"\\}"),"g"),ae)}}return y}var oe=function defaultOnMissingKey(t){throw new Error("missing string: ".concat(t))},le=_classPrivateFieldLooseKey("onMissingKey"),ue=_classPrivateFieldLooseKey("apply"),pe=function(){return(0,re.A)(function Translator(t,i){(0,te.A)(this,Translator);var a=(void 0===i?{}:i).onMissingKey,y=void 0===a?oe:a;Object.defineProperty(this,ue,{value:_apply2}),Object.defineProperty(this,le,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function pluralize(t){return 1===t?0:1}},Array.isArray(t)?t.forEach(_classPrivateFieldLooseBase(this,ue)[ue],this):_classPrivateFieldLooseBase(this,ue)[ue](t),_classPrivateFieldLooseBase(this,le)[le]=y},[{key:"translate",value:function translate(t,i){return this.translateArray(t,i).join("")}},{key:"translateArray",value:function translateArray(t,i){var a=this.locale.strings[t];if(null==a&&(_classPrivateFieldLooseBase(this,le)[le](t),a=t),"object"===(0,w.A)(a)){if(i&&void 0!==i.smart_count)return interpolate(a[this.locale.pluralize(i.smart_count)],i);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof a)throw new Error("string was not a string");return interpolate(a,i)}}])}();function _apply2(t){if(null!=t&&t.strings){var i=this.locale;Object.assign(this.locale,{strings:_objectSpread(_objectSpread({},i.strings),t.strings),pluralize:t.pluralize||i.pluralize})}}},59209:(t,i,a)=>{a(16280),a(76918),a(76031);var y=a(67873),w=a(93224),te=a(43146),re=Math.max,ae=Math.min;t.exports=function debounce(t,i,a){var oe,le,ue,pe,de,he,fe=0,ve=!1,me=!1,ge=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function invokeFunc(i){var a=oe,y=le;return oe=le=void 0,fe=i,pe=t.apply(y,a)}function shouldInvoke(t){var a=t-he;return void 0===he||a>=i||a<0||me&&t-fe>=ue}function timerExpired(){var t=w();if(shouldInvoke(t))return trailingEdge(t);de=setTimeout(timerExpired,function remainingWait(t){var a=i-(t-he);return me?ae(a,ue-(t-fe)):a}(t))}function trailingEdge(t){return de=void 0,ge&&oe?invokeFunc(t):(oe=le=void 0,pe)}function debounced(){var t=w(),a=shouldInvoke(t);if(oe=arguments,le=this,he=t,a){if(void 0===de)return function leadingEdge(t){return fe=t,de=setTimeout(timerExpired,i),ve?invokeFunc(t):pe}(he);if(me)return clearTimeout(de),de=setTimeout(timerExpired,i),invokeFunc(he)}return void 0===de&&(de=setTimeout(timerExpired,i)),pe}return i=te(i)||0,y(a)&&(ve=!!a.leading,ue=(me="maxWait"in a)?re(te(a.maxWait)||0,i):ue,ge="trailing"in a?!!a.trailing:ge),debounced.cancel=function cancel(){void 0!==de&&clearTimeout(de),fe=0,oe=he=le=de=void 0},debounced.flush=function flush(){return void 0===de?pe:trailingEdge(w())},debounced}},67787:t=>{"use strict";var i=Math.log,a=Math.LN2;t.exports=Math.log2||function log2(t){return i(t)/a}},67873:(t,i,a)=>{var y=a(89990);t.exports=function isObject(t){var i=y(t);return null!=t&&("object"==i||"function"==i)}},70647:(t,i,a)=>{a(28706),a(25276),a(44114),a(79432),t.exports=function createNamespaceEmitter(){var t={},i=t._fns={};return t.emit=function emit(t,a,y,w,te,re,ae){var oe=function getListeners(t){var a=i[t]?i[t]:[],y=t.indexOf(":"),w=-1===y?[t]:[t.substring(0,y),t.substring(y+1)],te=Object.keys(i),re=0,ae=te.length;for(;re<ae;re++){var oe=te[re];if("*"===oe&&(a=a.concat(i[oe])),2===w.length&&w[0]===oe){a=a.concat(i[oe]);break}}return a}(t);oe.length&&function emitAll(t,i,a){var y=0,w=i.length;for(;y<w&&i[y];y++)i[y].event=t,i[y].apply(i[y],a)}(t,oe,[a,y,w,te,re,ae])},t.on=function on(t,a){i[t]||(i[t]=[]),i[t].push(a)},t.once=function once(i,a){this.on(i,function one(){a.apply(this,arguments),t.off(i,one)})},t.off=function off(t,i){var a=[];if(t&&i)for(var y=this._fns[t],w=0,te=y?y.length:0;w<te;w++)y[w]!==i&&a.push(y[w]);a.length?this._fns[t]=a:delete this._fns[t]},t}},78029:(t,i,a)=>{"use strict";var y=a(89990);a(16280),a(76918),a(28706),a(2892),a(40150),a(9868),t.exports=function prettierBytes(t){if("number"!=typeof t||Number.isNaN(t))throw new TypeError("Expected a number, got ".concat(y(t)));var i=t<0,a=Math.abs(t);if(i&&(a=-a),0===a)return"0 B";var w=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],te=Math.min(Math.floor(Math.log(a)/Math.log(1024)),w.length-1),re=Number(a/Math.pow(1024,te)),ae=w[te];return"".concat(re>=10||re%1==0?Math.round(re):re.toFixed(1)," ").concat(ae)}},78347:(t,i,a)=>{"use strict";a(46518)({target:"Object",stat:!0},{hasOwn:a(39297)})},78350:(t,i,a)=>{"use strict";var y=a(46518),w=a(70259),te=a(79306),re=a(48981),ae=a(26198),oe=a(1469);y({target:"Array",proto:!0},{flatMap:function flatMap(t){var i,a=re(this),y=ae(a);return te(t),(i=oe(a,0)).length=w(i,a,a,y,0,1,t,arguments.length>1?arguments[1]:void 0),i}})},78766:(t,i,a)=>{var y=a(89990),w=a(86836),te=a(286);t.exports=function isSymbol(t){return"symbol"==y(t)||te(t)&&"[object Symbol]"==w(t)}},79876:(t,i,a)=>{a(27495),a(90906);var y=/\s/;t.exports=function trimmedEndIndex(t){for(var i=t.length;i--&&y.test(t.charAt(i)););return i}},83237:(t,i,a)=>{"use strict";a(70511)("replace")},85416:(t,i,a)=>{"use strict";a.d(i,{w:()=>w,I:()=>y});a(28706),a(76918),a(23288),a(26099),a(38781);function pad(t){return t<10?"0".concat(t):t.toString()}function getTimeStamp(){var t=new Date,i=pad(t.getHours()),a=pad(t.getMinutes()),y=pad(t.getSeconds());return"".concat(i,":").concat(a,":").concat(y)}var y={debug:function debug(){},warn:function warn(){},error:function error(){for(var t,i=arguments.length,a=new Array(i),y=0;y<i;y++)a[y]=arguments[y];return(t=console).error.apply(t,["[Uppy] [".concat(getTimeStamp(),"]")].concat(a))}},w={debug:function debug(){for(var t,i=arguments.length,a=new Array(i),y=0;y<i;y++)a[y]=arguments[y];return(t=console).debug.apply(t,["[Uppy] [".concat(getTimeStamp(),"]")].concat(a))},warn:function warn(){for(var t,i=arguments.length,a=new Array(i),y=0;y<i;y++)a[y]=arguments[y];return(t=console).warn.apply(t,["[Uppy] [".concat(getTimeStamp(),"]")].concat(a))},error:function error(){for(var t,i=arguments.length,a=new Array(i),y=0;y<i;y++)a[y]=arguments[y];return(t=console).error.apply(t,["[Uppy] [".concat(getTimeStamp(),"]")].concat(a))}}},85489:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},86836:(t,i,a)=>{var y=a(46133),w=a(42631),te=a(99218),re=y?y.toStringTag:void 0;t.exports=function baseGetTag(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":re&&re in Object(t)?w(t):te(t)}},93224:(t,i,a)=>{var y=a(42785);t.exports=function now(){return y.Date.now()}},99218:(t,i,a)=>{a(76918),a(23288),a(26099),a(38781);var y=Object.prototype.toString;t.exports=function objectToString(t){return y.call(t)}}}]);
/*! For license information please see core.min.js.LICENSE.txt */
(this.webpackChunkBetterMessages=this.webpackChunkBetterMessages||[]).push([["uppy-core"],{286:(t,r,i)=>{var o=i(89990);t.exports=function isObjectLike(t){return null!=t&&"object"==o(t)}},4294:(t,r,i)=>{"use strict";var o=i(46518),a=i(97751),l=i(18745),c=i(79039),u=i(14601),p="AggregateError",h=a(p),v=!c(function(){return 1!==h([1]).errors[0]})&&c(function(){return 7!==h([1],p,{cause:7}).cause});o({global:!0,constructor:!0,arity:2,forced:v},{AggregateError:u(p,function(t){return function AggregateError(r,i){return l(t,this,arguments)}},v,!0)})},17145:(t,r,i)=>{"use strict";var o=i(46518),a=i(1625),l=i(42787),c=i(52967),u=i(77740),p=i(2360),h=i(66699),v=i(6980),y=i(77584),w=i(80747),U=i(72652),R=i(32603),W=i(78227)("toStringTag"),X=Error,Y=[].push,Z=function AggregateError(t,r){var i,o=a(J,this);c?i=c(new X,o?l(this):J):(i=o?this:p(J),h(i,W,"Error")),void 0!==r&&h(i,"message",R(r)),w(i,Z,i.stack,1),arguments.length>2&&y(i,arguments[2]);var u=[];return U(t,Y,{that:u}),h(i,"errors",u),i};c?c(Z,X):u(Z,X,{name:!0});var J=Z.prototype=p(X.prototype,{constructor:v(1,Z),message:v(1,""),name:v(1,"AggregateError")});o({global:!0,constructor:!0,arity:2},{AggregateError:Z})},21397:(t,r,i)=>{var o=i(29119),a=/[\/\+\.]/;t.exports=function(t,r){function test(r){var i=o(r,t,a);return i&&i.length>=2}return r?test(r.split(";")[0]):test}},23677:(t,r,i)=>{"use strict";i.d(r,{A:()=>X});var o=i(58237),a=i(84285),l=i(68119),c=i(36858),u=i(31061),p=i(46983),h=(i(16280),i(76918),i(28706),i(84185),i(26099),i(3362),i(60825),i(36480)),v=i(18180);const y=function findDOMElement(t,r){return void 0===r&&(r=document),"string"==typeof t?r.querySelector(t):function isDOMElement(t){return"object"===(0,v.A)(t)&&null!==t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}(t)?t:null};const w=function getTextDirection(t){for(var r;t&&!t.dir;)t=t.parentNode;return null==(r=t)?void 0:r.dir};var U=i(32744);function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _classPrivateFieldLooseBase(t,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw new TypeError("attempted to use private field on non-instance");return t}var R=0;function _classPrivateFieldLooseKey(t){return"__private_"+R+++"_"+t}var W=_classPrivateFieldLooseKey("updateUI");const X=function(t){function UIPlugin(){var t;return(0,o.A)(this,UIPlugin),t=function _callSuper(t,r,i){return r=(0,c.A)(r),(0,l.A)(t,_isNativeReflectConstruct()?Reflect.construct(r,i||[],(0,c.A)(t).constructor):r.apply(t,i))}(this,UIPlugin,arguments),Object.defineProperty(t,W,{writable:!0,value:void 0}),t}return(0,u.A)(UIPlugin,t),(0,a.A)(UIPlugin,[{key:"getTargetPlugin",value:function getTargetPlugin(t){var r;if("function"==typeof(null==t?void 0:t.addTarget))(r=t)instanceof UIPlugin||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin}}));else if("function"==typeof t){var i=t;this.uppy.iteratePlugins(function(t){t instanceof i&&(r=t)})}return r}},{key:"mount",value:function mount(t,r){var i=this,o=r.id,a=y(t);if(a){this.isTargetDOMEl=!0;var l=document.createElement("div");return l.classList.add("uppy-Root"),_classPrivateFieldLooseBase(this,W)[W]=function debounce(t){var r,i=null;return function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return r=a,i||(i=Promise.resolve().then(function(){return i=null,t.apply(void 0,(0,p.A)(r))})),i}}(function(t){i.uppy.getPlugin(i.id)&&((0,h.XX)(i.render(t),l),i.afterUpdate())}),this.uppy.log("Installing ".concat(o," to a DOM element '").concat(t,"'")),this.opts.replaceTargetContent&&(a.innerHTML=""),(0,h.XX)(this.render(this.uppy.getState()),l),this.el=l,a.appendChild(l),l.dir=this.opts.direction||w(l)||"ltr",this.onMount(),this.el}var c=this.getTargetPlugin(t);if(c)return this.uppy.log("Installing ".concat(o," to ").concat(c.id)),this.parent=c,this.el=c.addTarget(r),this.onMount(),this.el;this.uppy.log("Not installing ".concat(o));var u="Invalid target option given to ".concat(o,".");throw u+="function"==typeof t?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(u)}},{key:"render",value:function render(t){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function update(t){var r,i;null!=this.el&&(null==(r=(i=_classPrivateFieldLooseBase(this,W))[W])||r.call(i,t))}},{key:"unmount",value:function unmount(){var t;this.isTargetDOMEl&&(null==(t=this.el)||t.remove());this.onUnmount()}},{key:"onMount",value:function onMount(){}},{key:"onUnmount",value:function onUnmount(){}}])}(U.A)},26656:(t,r,i)=>{"use strict";i.r(r),i.d(r,{BasePlugin:()=>l.A,UIPlugin:()=>a.A,Uppy:()=>o.A,debugLogger:()=>c.w,"default":()=>o.A});var o=i(33030),a=i(23677),l=i(32744),c=i(85416)},29119:(t,r,i)=>{"use strict";var o=i(89990);function WildcardMatcher(t,r){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=r,this.parts=t.split(r)}i(25276),i(54554),i(27495),i(71761),i(90744),WildcardMatcher.prototype.match=function(t){var r,i,a=!0,l=this.parts,c=l.length;if("string"==typeof t||t instanceof String)if(this.hasWild||this.text==t){for(i=(t||"").split(this.separator),r=0;a&&r<c;r++)"*"!==l[r]&&(a=r<i.length&&l[r]===i[r]);a=a&&i}else a=!1;else if("function"==typeof t.splice)for(a=[],r=t.length;r--;)this.match(t[r])&&(a[a.length]=t[r]);else if("object"==o(t))for(var u in a={},t)this.match(u)&&(a[u]=t[u]);return a},t.exports=function(t,r,i){var o=new WildcardMatcher(t,i||/[\/\.]/);return void 0!==r?o.match(r):o}},30067:(t,r,i)=>{"use strict";i(17145)},30237:(t,r,i)=>{"use strict";i(6469)("flatMap")},30531:(t,r,i)=>{"use strict";var o=i(46518),a=i(69565),l=i(79306),c=i(28551),u=i(1767),p=i(48646),h=i(19462),v=i(9539),y=i(96395),w=i(30684),U=i(84549),R=!y&&!w("flatMap",function(){}),W=!y&&!R&&U("flatMap",TypeError),X=y||R||W,Y=h(function(){for(var t,r,i=this.iterator,o=this.mapper;;){if(r=this.inner)try{if(!(t=c(a(r.next,r.iterator))).done)return t.value;this.inner=null}catch(t){v(i,"throw",t)}if(t=c(a(this.next,i)),this.done=!!t.done)return;try{this.inner=p(o(t.value,this.counter++),!1)}catch(t){v(i,"throw",t)}}});o({target:"Iterator",proto:!0,real:!0,forced:X},{flatMap:function flatMap(t){c(this);try{l(t)}catch(t){v(this,"throw",t)}return W?a(W,this,t):new Y(u(this),{mapper:t,inner:null})}})},30670:(t,r,i)=>{"use strict";i(30531)},31073:(t,r,i)=>{"use strict";i(70511)("split")},32744:(t,r,i)=>{"use strict";i.d(r,{A:()=>u});i(52675),i(2008),i(51629),i(44114),i(67945),i(84185),i(83851),i(81278),i(79432),i(26099),i(98992),i(54520),i(3949),i(23500);var o=i(51531),a=i(58237),l=i(84285),c=(i(16280),i(76918),i(94170),i(54024));function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,o)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach(function(r){(0,o.A)(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}var u=function(){return(0,l.A)(function BasePlugin(t,r){(0,a.A)(this,BasePlugin),this.uppy=t,this.opts=null!=r?r:{}},[{key:"getPluginState",value:function getPluginState(){var t=this.uppy.getState().plugins;return(null==t?void 0:t[this.id])||{}}},{key:"setPluginState",value:function setPluginState(t){if(t){var r=this.uppy.getState().plugins;this.uppy.setState({plugins:_objectSpread(_objectSpread({},r),{},(0,o.A)({},this.id,_objectSpread(_objectSpread({},r[this.id]),t)))})}}},{key:"setOptions",value:function setOptions(t){this.opts=_objectSpread(_objectSpread({},this.opts),t),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function i18nInit(){var t=new c.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}},{key:"addTarget",value:function addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function install(){}},{key:"uninstall",value:function uninstall(){}},{key:"update",value:function update(t){}},{key:"afterUpdate",value:function afterUpdate(){}}])}()},33030:(t,r,i)=>{"use strict";i.d(r,{A:()=>Ie});var o=i(18443),a=i(46983),l=i(18180),c=i(80241),u=i(51531),p=i(58237),h=i(84285),v=i(61792),y=(i(16280),i(52675),i(89463),i(2259),i(76918),i(30067),i(4294),i(28706),i(2008),i(50113),i(48980),i(46449),i(78350),i(51629),i(23418),i(25276),i(64346),i(23792),i(48598),i(62062),i(44114),i(72712),i(34782),i(15086),i(54554),i(93514),i(30237),i(59089),i(23288),i(94170),i(62010),i(36033),i(25428),i(59904),i(67945),i(84185),i(5506),i(53921),i(78347),i(79432),i(83851),i(81278),i(26099),i(16034),i(3362),i(27495),i(90906),i(38781),i(31415),i(47764),i(42762),i(98992),i(54520),i(72577),i(30670),i(3949),i(81454),i(8872),i(37550),i(23500),i(62953),i(76031),i(54024)),w=i(70647),U=i(51391),R=i(34034);function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,o)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach(function(r){(0,u.A)(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function _classPrivateFieldLooseBase(t,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw new TypeError("attempted to use private field on non-instance");return t}var W=0;function _classPrivateFieldLooseKey(t){return"__private_"+W+++"_"+t}var X=_classPrivateFieldLooseKey("callbacks"),Y=_classPrivateFieldLooseKey("publish"),Z=function(){return(0,h.A)(function DefaultStore(){(0,p.A)(this,DefaultStore),Object.defineProperty(this,Y,{value:_publish2}),this.state={},Object.defineProperty(this,X,{writable:!0,value:new Set})},[{key:"getState",value:function getState(){return this.state}},{key:"setState",value:function setState(t){var r=_objectSpread({},this.state),i=_objectSpread(_objectSpread({},this.state),t);this.state=i,_classPrivateFieldLooseBase(this,Y)[Y](r,i,t)}},{key:"subscribe",value:function subscribe(t){var r=this;return _classPrivateFieldLooseBase(this,X)[X].add(t),function(){_classPrivateFieldLooseBase(r,X)[X].delete(t)}}}])}();function _publish2(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];_classPrivateFieldLooseBase(this,X)[X].forEach(function(t){t.apply(void 0,r)})}Z.VERSION="3.2.2";const J=Z;i(8921);function getFileNameAndExtension(t){var r=t.lastIndexOf(".");return-1===r||r===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,r),extension:t.slice(r+1)}}const Q={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function getFileType(t){var r;if(t.type)return t.type;var i=t.name?null==(r=getFileNameAndExtension(t.name).extension)?void 0:r.toLowerCase():null;return i&&i in Q?Q[i]:"application/octet-stream"}i(25440);function generateFileID_ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,o)}return i}function generateFileID_objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?generateFileID_ownKeys(Object(i),!0).forEach(function(r){(0,u.A)(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):generateFileID_ownKeys(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function encodeFilename(t){var r="";return t.replace(/[^A-Z0-9]/gi,function(t){return r+="-".concat(function encodeCharacter(t){return t.charCodeAt(0).toString(32)}(t)),"/"})+r}function getSafeFileId(t,r){if(function hasFileStableId(t){return!(!t.isRemote||!t.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}(t))return t.id;var i=getFileType(t);return function generateFileID(t,r){var i=r||"uppy";return"string"==typeof t.name&&(i+="-".concat(encodeFilename(t.name.toLowerCase()))),void 0!==t.type&&(i+="-".concat(t.type)),t.meta&&"string"==typeof t.meta.relativePath&&(i+="-".concat(encodeFilename(t.meta.relativePath.toLowerCase()))),void 0!==t.data.size&&(i+="-".concat(t.data.size)),void 0!==t.data.lastModified&&(i+="-".concat(t.data.lastModified)),i}(generateFileID_objectSpread(generateFileID_objectSpread({},t),{},{type:i}),r)}i(58940);function supportsUploadProgress(t){if(null==t&&"undefined"!=typeof navigator&&(t=navigator.userAgent),!t)return!0;var r=/Edge\/(\d+\.\d+)/.exec(t);if(!r)return!0;var i=r[1].split(".",2),o=parseInt(i[0],10),a=parseInt(i[1],10);return o<15||15===o&&a<15063||(o>18||18===o&&a>=18218)}var ee=i(85416),te=(i(60825),i(68119)),re=i(36858),ne=i(31061),ie=i(81700),oe=(i(74423),i(21699),i(78029)),ae=i(21397);function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var _n=0,o=function F(){};return{s:o,n:function n(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return l=t.done,t},e:function e(t){c=!0,a=t},f:function f(){try{l||null==i.return||i.return()}finally{if(c)throw a}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=Array(r);i<r;i++)o[i]=t[i];return o}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var se={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},le=function(t){function RestrictionError(t,r){var i,o;return(0,p.A)(this,RestrictionError),(i=function _callSuper(t,r,i){return r=(0,re.A)(r),(0,te.A)(t,_isNativeReflectConstruct()?Reflect.construct(r,i||[],(0,re.A)(t).constructor):r.apply(t,i))}(this,RestrictionError,[t])).isRestriction=!0,i.isUserFacing=null==(o=null==r?void 0:r.isUserFacing)||o,null!=r&&r.file&&(i.file=r.file),i}return(0,ne.A)(RestrictionError,t),(0,h.A)(RestrictionError)}((0,ie.A)(Error)),ce=function(){return(0,h.A)(function Restricter(t,r){(0,p.A)(this,Restricter),this.i18n=r,this.getOpts=function(){var r,i=t();if(null!=(null==(r=i.restrictions)?void 0:r.allowedFileTypes)&&!Array.isArray(i.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return i}},[{key:"validateAggregateRestrictions",value:function validateAggregateRestrictions(t,r){var i=this.getOpts().restrictions,o=i.maxTotalFileSize,a=i.maxNumberOfFiles;if(a&&t.filter(function(t){return!t.isGhost}).length+r.length>a)throw new le("".concat(this.i18n("youCanOnlyUploadX",{smart_count:a})));if(o){var l,c=t.reduce(function(t,r){var i;return t+(null!=(i=r.size)?i:0)},0),u=_createForOfIteratorHelper(r);try{for(u.s();!(l=u.n()).done;){var p=l.value;if(null!=p.size&&(c+=p.size)>o)throw new le(this.i18n("exceedsSize",{size:oe(o),file:p.name}))}}catch(t){u.e(t)}finally{u.f()}}}},{key:"validateSingleFile",value:function validateSingleFile(t){var r=this.getOpts().restrictions,i=r.maxFileSize,o=r.minFileSize,a=r.allowedFileTypes;if(a&&!a.some(function(r){return r.includes("/")?!!t.type&&ae(t.type.replace(/;.*?$/,""),r):!("."!==r[0]||!t.extension)&&t.extension.toLowerCase()===r.slice(1).toLowerCase()})){var l=a.join(", ");throw new le(this.i18n("youCanOnlyUploadFileTypes",{types:l}),{file:t})}if(i&&null!=t.size&&t.size>i)throw new le(this.i18n("exceedsSize",{size:oe(i),file:t.name}),{file:t});if(o&&null!=t.size&&t.size<o)throw new le(this.i18n("inferiorSize",{size:oe(o)}),{file:t})}},{key:"validate",value:function validate(t,r){var i=this;r.forEach(function(t){i.validateSingleFile(t)}),this.validateAggregateRestrictions(t,r)}},{key:"validateMinNumberOfFiles",value:function validateMinNumberOfFiles(t){var r=this.getOpts().restrictions.minNumberOfFiles;if(r&&Object.keys(t).length<r)throw new le(this.i18n("youHaveToAtLeastSelectX",{smart_count:r}))}},{key:"getMissingRequiredMetaFields",value:function getMissingRequiredMetaFields(t){var r,i=new le(this.i18n("missingRequiredMetaFieldOnFile",{fileName:t.name})),o=[],a=_createForOfIteratorHelper(this.getOpts().restrictions.requiredMetaFields);try{for(a.s();!(r=a.n()).done;){var l=r.value;Object.hasOwn(t.meta,l)&&""!==t.meta[l]||o.push(l)}}catch(t){a.e(t)}finally{a.f()}return{missingFields:o,error:i}}}])}();const ue={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};function Uppy_createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function Uppy_unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return Uppy_arrayLikeToArray(t,r);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Uppy_arrayLikeToArray(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var _n=0,o=function F(){};return{s:o,n:function n(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return l=t.done,t},e:function e(t){c=!0,a=t},f:function f(){try{l||null==i.return||i.return()}finally{if(c)throw a}}}}function Uppy_arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=Array(r);i<r;i++)o[i]=t[i];return o}function Uppy_ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,o)}return i}function Uppy_objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?Uppy_ownKeys(Object(i),!0).forEach(function(r){(0,u.A)(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Uppy_ownKeys(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Uppy_classPrivateFieldLooseBase(t,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw new TypeError("attempted to use private field on non-instance");return t}var pe=0;function Uppy_classPrivateFieldLooseKey(t){return"__private_"+pe+++"_"+t}var de={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},fe=Uppy_classPrivateFieldLooseKey("plugins"),he=Uppy_classPrivateFieldLooseKey("restricter"),ve=Uppy_classPrivateFieldLooseKey("storeUnsubscribe"),ye=Uppy_classPrivateFieldLooseKey("emitter"),ge=Uppy_classPrivateFieldLooseKey("preProcessors"),_e=Uppy_classPrivateFieldLooseKey("uploaders"),me=Uppy_classPrivateFieldLooseKey("postProcessors"),be=Uppy_classPrivateFieldLooseKey("informAndEmit"),Se=Uppy_classPrivateFieldLooseKey("checkRequiredMetaFieldsOnFile"),we=Uppy_classPrivateFieldLooseKey("checkRequiredMetaFields"),Ue=Uppy_classPrivateFieldLooseKey("assertNewUploadAllowed"),Fe=Uppy_classPrivateFieldLooseKey("transformFile"),Pe=Uppy_classPrivateFieldLooseKey("startIfAutoProceed"),je=Uppy_classPrivateFieldLooseKey("checkAndUpdateFileState"),Oe=Uppy_classPrivateFieldLooseKey("addListeners"),ke=Uppy_classPrivateFieldLooseKey("updateOnlineStatus"),Ae=Uppy_classPrivateFieldLooseKey("requestClientById"),xe=Uppy_classPrivateFieldLooseKey("createUpload"),Le=Uppy_classPrivateFieldLooseKey("getUpload"),Ee=Uppy_classPrivateFieldLooseKey("removeUpload"),Te=Uppy_classPrivateFieldLooseKey("runUpload"),Be=function(t,r){return(0,h.A)(function Uppy(t){var r=this;(0,p.A)(this,Uppy),Object.defineProperty(this,Te,{value:_runUpload2}),Object.defineProperty(this,Ee,{value:_removeUpload2}),Object.defineProperty(this,Le,{value:_getUpload2}),Object.defineProperty(this,xe,{value:_createUpload2}),Object.defineProperty(this,Oe,{value:_addListeners2}),Object.defineProperty(this,je,{value:_checkAndUpdateFileState2}),Object.defineProperty(this,Pe,{value:_startIfAutoProceed2}),Object.defineProperty(this,Fe,{value:_transformFile2}),Object.defineProperty(this,Ue,{value:_assertNewUploadAllowed2}),Object.defineProperty(this,we,{value:_checkRequiredMetaFields2}),Object.defineProperty(this,Se,{value:_checkRequiredMetaFieldsOnFile2}),Object.defineProperty(this,be,{value:_informAndEmit2}),Object.defineProperty(this,fe,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,he,{writable:!0,value:void 0}),Object.defineProperty(this,ve,{writable:!0,value:void 0}),Object.defineProperty(this,ye,{writable:!0,value:w()}),Object.defineProperty(this,ge,{writable:!0,value:new Set}),Object.defineProperty(this,_e,{writable:!0,value:new Set}),Object.defineProperty(this,me,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=R(function(t,i){var o=r.getFile(null==t?void 0:t.id);if(null!=t&&o)if(100!==o.progress.percentage){var a=Number.isFinite(i.bytesTotal)&&i.bytesTotal>0;r.setFileState(t.id,{progress:Uppy_objectSpread(Uppy_objectSpread({},o.progress),{},{bytesUploaded:i.bytesUploaded,bytesTotal:i.bytesTotal,percentage:a?Math.round(i.bytesUploaded/i.bytesTotal*100):0})}),r.calculateTotalProgress()}else r.log("Not setting progress for a file that has been already uploaded: ".concat(t.id));else r.log("Not setting progress for a file that has been removed: ".concat(null==t?void 0:t.id))},500,{leading:!0,trailing:!0}),Object.defineProperty(this,ke,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,Ae,{writable:!0,value:new Map}),this.defaultLocale=ue;var i={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:se,meta:{},onBeforeFileAdded:function onBeforeFileAdded(t,r){return!Object.hasOwn(r,t.id)},onBeforeUpload:function onBeforeUpload(t){return t},store:new J,logger:ee.I,infoTimeout:5e3},o=Uppy_objectSpread(Uppy_objectSpread({},i),t);this.opts=Uppy_objectSpread(Uppy_objectSpread({},o),{},{restrictions:Uppy_objectSpread(Uppy_objectSpread({},i.restrictions),t&&t.restrictions)}),t&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t&&t.debug&&(this.opts.logger=ee.w),this.log("Using Core v".concat(Uppy.VERSION)),this.i18nInit(),this.store=this.opts.store,this.setState(Uppy_objectSpread(Uppy_objectSpread({},de),{},{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:supportsUploadProgress(),individualCancellation:!0,resumableUploads:!1},meta:Uppy_objectSpread({},this.opts.meta),info:[]})),Uppy_classPrivateFieldLooseBase(this,he)[he]=new ce(function(){return r.opts},this.i18n),Uppy_classPrivateFieldLooseBase(this,ve)[ve]=this.store.subscribe(function(t,i,o){r.emit("state-update",t,i,o),r.updateAll(i)}),this.opts.debug&&"undefined"!=typeof window&&(window[this.opts.id]=this),Uppy_classPrivateFieldLooseBase(this,Oe)[Oe]()},[{key:"emit",value:function emit(t){for(var r,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];(r=Uppy_classPrivateFieldLooseBase(this,ye)[ye]).emit.apply(r,[t].concat(o))}},{key:"on",value:function on(t,r){return Uppy_classPrivateFieldLooseBase(this,ye)[ye].on(t,r),this}},{key:"once",value:function once(t,r){return Uppy_classPrivateFieldLooseBase(this,ye)[ye].once(t,r),this}},{key:"off",value:function off(t,r){return Uppy_classPrivateFieldLooseBase(this,ye)[ye].off(t,r),this}},{key:"updateAll",value:function updateAll(t){this.iteratePlugins(function(r){r.update(t)})}},{key:"setState",value:function setState(t){this.store.setState(t)}},{key:"getState",value:function getState(){return this.store.getState()}},{key:"patchFilesState",value:function patchFilesState(t){var r=this.getState().files;this.setState({files:Uppy_objectSpread(Uppy_objectSpread({},r),Object.fromEntries(Object.entries(t).map(function(t){var i=(0,c.A)(t,2),o=i[0],a=i[1];return[o,Uppy_objectSpread(Uppy_objectSpread({},r[o]),a)]})))})}},{key:"setFileState",value:function setFileState(t,r){if(!this.getState().files[t])throw new Error("Canâ€™t set state for ".concat(t," (the file could have been removed)"));this.patchFilesState((0,u.A)({},t,r))}},{key:"i18nInit",value:function i18nInit(){var t=this,r=new y.A([this.defaultLocale,this.opts.locale],{onMissingKey:function onMissingKey(r){return t.log("Missing i18n string: ".concat(r),"error")}});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}},{key:"setOptions",value:function setOptions(t){this.opts=Uppy_objectSpread(Uppy_objectSpread(Uppy_objectSpread({},this.opts),t),{},{restrictions:Uppy_objectSpread(Uppy_objectSpread({},this.opts.restrictions),null==t?void 0:t.restrictions)}),t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(function(r){r.setOptions(t)}),this.setState(void 0)}},{key:"resetProgress",value:function resetProgress(){var t={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},r=Uppy_objectSpread({},this.getState().files),i={};Object.keys(r).forEach(function(o){i[o]=Uppy_objectSpread(Uppy_objectSpread({},r[o]),{},{progress:Uppy_objectSpread(Uppy_objectSpread({},r[o].progress),t)})}),this.setState(Uppy_objectSpread({files:i},de)),this.emit("reset-progress")}},{key:"clearUploadedFiles",value:function clearUploadedFiles(){this.setState(Uppy_objectSpread(Uppy_objectSpread({},de),{},{files:{}}))}},{key:"addPreProcessor",value:function addPreProcessor(t){Uppy_classPrivateFieldLooseBase(this,ge)[ge].add(t)}},{key:"removePreProcessor",value:function removePreProcessor(t){return Uppy_classPrivateFieldLooseBase(this,ge)[ge].delete(t)}},{key:"addPostProcessor",value:function addPostProcessor(t){Uppy_classPrivateFieldLooseBase(this,me)[me].add(t)}},{key:"removePostProcessor",value:function removePostProcessor(t){return Uppy_classPrivateFieldLooseBase(this,me)[me].delete(t)}},{key:"addUploader",value:function addUploader(t){Uppy_classPrivateFieldLooseBase(this,_e)[_e].add(t)}},{key:"removeUploader",value:function removeUploader(t){return Uppy_classPrivateFieldLooseBase(this,_e)[_e].delete(t)}},{key:"setMeta",value:function setMeta(t){var r=Uppy_objectSpread(Uppy_objectSpread({},this.getState().meta),t),i=Uppy_objectSpread({},this.getState().files);Object.keys(i).forEach(function(r){i[r]=Uppy_objectSpread(Uppy_objectSpread({},i[r]),{},{meta:Uppy_objectSpread(Uppy_objectSpread({},i[r].meta),t)})}),this.log("Adding metadata:"),this.log(t),this.setState({meta:r,files:i})}},{key:"setFileMeta",value:function setFileMeta(t,r){var i=Uppy_objectSpread({},this.getState().files);if(i[t]){var o=Uppy_objectSpread(Uppy_objectSpread({},i[t].meta),r);i[t]=Uppy_objectSpread(Uppy_objectSpread({},i[t]),{},{meta:o}),this.setState({files:i})}else this.log("Was trying to set metadata for a file that has been removed: ",t)}},{key:"getFile",value:function getFile(t){return this.getState().files[t]}},{key:"getFiles",value:function getFiles(){var t=this.getState().files;return Object.values(t)}},{key:"getFilesByIds",value:function getFilesByIds(t){var r=this;return t.map(function(t){return r.getFile(t)})}},{key:"getObjectOfFilesPerState",value:function getObjectOfFilesPerState(){var t=this.getState(),r=t.files,i=t.totalProgress,o=t.error,a=Object.values(r),l=a.filter(function(t){var r=t.progress;return!r.uploadComplete&&r.uploadStarted}),c=a.filter(function(t){return!t.progress.uploadStarted}),u=a.filter(function(t){return t.progress.uploadStarted||t.progress.preprocess||t.progress.postprocess}),p=a.filter(function(t){return t.progress.uploadStarted}),h=a.filter(function(t){return t.isPaused}),v=a.filter(function(t){return t.progress.uploadComplete}),y=a.filter(function(t){return t.error}),w=l.filter(function(t){return!t.isPaused}),U=a.filter(function(t){return t.progress.preprocess||t.progress.postprocess});return{newFiles:c,startedFiles:u,uploadStartedFiles:p,pausedFiles:h,completeFiles:v,erroredFiles:y,inProgressFiles:l,inProgressNotPausedFiles:w,processingFiles:U,isUploadStarted:p.length>0,isAllComplete:100===i&&v.length===a.length&&0===U.length,isAllErrored:!!o&&y.length===a.length,isAllPaused:0!==l.length&&h.length===l.length,isUploadInProgress:l.length>0,isSomeGhost:a.some(function(t){return t.isGhost})}}},{key:"validateRestrictions",value:function validateRestrictions(t,r){void 0===r&&(r=this.getFiles());try{Uppy_classPrivateFieldLooseBase(this,he)[he].validate(r,[t])}catch(t){return t}return null}},{key:"checkIfFileAlreadyExists",value:function checkIfFileAlreadyExists(t){var r=this.getState().files;return!(!r[t]||r[t].isGhost)}},{key:"addFile",value:function addFile(t){Uppy_classPrivateFieldLooseBase(this,Ue)[Ue](t);var r=Uppy_classPrivateFieldLooseBase(this,je)[je]([t]),i=r.nextFilesState,o=r.validFilesToAdd,a=r.errors,l=a.filter(function(t){return t.isRestriction});if(Uppy_classPrivateFieldLooseBase(this,be)[be](l),a.length>0)throw a[0];this.setState({files:i});var u=(0,c.A)(o,1)[0];return this.emit("file-added",u),this.emit("files-added",o),this.log("Added file: ".concat(u.name,", ").concat(u.id,", mime type: ").concat(u.type)),Uppy_classPrivateFieldLooseBase(this,Pe)[Pe](),u.id}},{key:"addFiles",value:function addFiles(t){var r=this;Uppy_classPrivateFieldLooseBase(this,Ue)[Ue]();var i=Uppy_classPrivateFieldLooseBase(this,je)[je](t),o=i.nextFilesState,a=i.validFilesToAdd,l=i.errors,c=l.filter(function(t){return t.isRestriction});Uppy_classPrivateFieldLooseBase(this,be)[be](c);var u=l.filter(function(t){return!t.isRestriction});if(u.length>0){var p="Multiple errors occurred while adding files:\n";if(u.forEach(function(t){p+="\n * ".concat(t.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:u.length}),details:p},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(u,p);var h=new Error(p);throw h.errors=u,h}this.setState({files:o}),a.forEach(function(t){r.emit("file-added",t)}),this.emit("files-added",a),a.length>5?this.log("Added batch of ".concat(a.length," files")):Object.values(a).forEach(function(t){r.log("Added file: ".concat(t.name,"\n id: ").concat(t.id,"\n type: ").concat(t.type))}),a.length>0&&Uppy_classPrivateFieldLooseBase(this,Pe)[Pe]()}},{key:"removeFiles",value:function removeFiles(t,r){var i=this,o=this.getState(),a=o.files,l=o.currentUploads,c=Uppy_objectSpread({},a),u=Uppy_objectSpread({},l),p=Object.create(null);function fileIsNotRemoved(t){return void 0===p[t]}t.forEach(function(t){a[t]&&(p[t]=a[t],delete c[t])}),Object.keys(u).forEach(function(t){var r=l[t].fileIDs.filter(fileIsNotRemoved);if(0!==r.length){var o=i.getState().capabilities;if(r.length!==l[t].fileIDs.length&&!o.individualCancellation)throw new Error("individualCancellation is disabled");u[t]=Uppy_objectSpread(Uppy_objectSpread({},l[t]),{},{fileIDs:r})}else delete u[t]});var h={currentUploads:u,files:c};0===Object.keys(c).length&&(h.allowNewUpload=!0,h.error=null,h.recoveredState=null),this.setState(h),this.calculateTotalProgress();var v=Object.keys(p);v.forEach(function(t){i.emit("file-removed",p[t],r)}),v.length>5?this.log("Removed ".concat(v.length," files")):this.log("Removed files: ".concat(v.join(", ")))}},{key:"removeFile",value:function removeFile(t,r){this.removeFiles([t],r)}},{key:"pauseResume",value:function pauseResume(t){if(this.getState().capabilities.resumableUploads&&!this.getFile(t).progress.uploadComplete){var r=!(this.getFile(t).isPaused||!1);return this.setFileState(t,{isPaused:r}),this.emit("upload-pause",t,r),r}}},{key:"pauseAll",value:function pauseAll(){var t=Uppy_objectSpread({},this.getState().files);Object.keys(t).filter(function(r){return!t[r].progress.uploadComplete&&t[r].progress.uploadStarted}).forEach(function(r){var i=Uppy_objectSpread(Uppy_objectSpread({},t[r]),{},{isPaused:!0});t[r]=i}),this.setState({files:t}),this.emit("pause-all")}},{key:"resumeAll",value:function resumeAll(){var t=Uppy_objectSpread({},this.getState().files);Object.keys(t).filter(function(r){return!t[r].progress.uploadComplete&&t[r].progress.uploadStarted}).forEach(function(r){var i=Uppy_objectSpread(Uppy_objectSpread({},t[r]),{},{isPaused:!1,error:null});t[r]=i}),this.setState({files:t}),this.emit("resume-all")}},{key:"retryAll",value:function retryAll(){var t=Uppy_objectSpread({},this.getState().files),r=Object.keys(t).filter(function(r){return t[r].error});if(r.forEach(function(r){var i=Uppy_objectSpread(Uppy_objectSpread({},t[r]),{},{isPaused:!1,error:null});t[r]=i}),this.setState({files:t,error:null}),this.emit("retry-all",r),0===r.length)return Promise.resolve({successful:[],failed:[]});var i=Uppy_classPrivateFieldLooseBase(this,xe)[xe](r,{forceAllowNewUpload:!0});return Uppy_classPrivateFieldLooseBase(this,Te)[Te](i)}},{key:"cancelAll",value:function cancelAll(t){var r=(void 0===t?{}:t).reason,i=void 0===r?"user":r;if(this.emit("cancel-all",{reason:i}),"user"===i){var o=this.getState().files,a=Object.keys(o);a.length&&this.removeFiles(a,"cancel-all"),this.setState(de)}}},{key:"retryUpload",value:function retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",t);var r=Uppy_classPrivateFieldLooseBase(this,xe)[xe]([t],{forceAllowNewUpload:!0});return Uppy_classPrivateFieldLooseBase(this,Te)[Te](r)}},{key:"logout",value:function logout(){this.iteratePlugins(function(t){var r;null==(r=t.provider)||null==r.logout||r.logout()})}},{key:"calculateTotalProgress",value:function calculateTotalProgress(){var t=this.getFiles().filter(function(t){return t.progress.uploadStarted||t.progress.preprocess||t.progress.postprocess});if(0===t.length)return this.emit("progress",0),void this.setState({totalProgress:0});var r=t.filter(function(t){return null!=t.progress.bytesTotal}),i=t.filter(function(t){return null==t.progress.bytesTotal});if(0!==r.length){var o=r.reduce(function(t,r){var i;return t+(null!=(i=r.progress.bytesTotal)?i:0)},0),a=o/r.length;o+=a*i.length;var l=0;r.forEach(function(t){l+=t.progress.bytesUploaded}),i.forEach(function(t){l+=a*(t.progress.percentage||0)/100});var c=0===o?0:Math.round(l/o*100);c>100&&(c=100),this.setState({totalProgress:c}),this.emit("progress",c)}else{var u=100*t.length,p=i.reduce(function(t,r){return t+r.progress.percentage},0),h=Math.round(p/u*100);this.setState({totalProgress:h})}}},{key:"updateOnlineStatus",value:function updateOnlineStatus(){var t;null==(t=window.navigator.onLine)||t?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function getID(){return this.opts.id}},{key:"use",value:function use(t,r){if("function"!=typeof t){var i="Expected a plugin class, but got ".concat(null===t?"null":(0,l.A)(t),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(i)}var o=new t(this,r),a=o.id;if(!a)throw new Error("Your plugin must have an id");if(!o.type)throw new Error("Your plugin must have a type");var c=this.getPlugin(a);if(c){var u="Already found a plugin named '".concat(c.id,"'. ")+"Tried to use: '".concat(a,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(u)}return t.VERSION&&this.log("Using ".concat(a," v").concat(t.VERSION)),o.type in Uppy_classPrivateFieldLooseBase(this,fe)[fe]?Uppy_classPrivateFieldLooseBase(this,fe)[fe][o.type].push(o):Uppy_classPrivateFieldLooseBase(this,fe)[fe][o.type]=[o],o.install(),this.emit("plugin-added",o),this}},{key:"getPlugin",value:function getPlugin(t){for(var r=0,i=Object.values(Uppy_classPrivateFieldLooseBase(this,fe)[fe]);r<i.length;r++){var o=i[r].find(function(r){return r.id===t});if(null!=o)return o}}},{key:t,value:function value(t){return Uppy_classPrivateFieldLooseBase(this,fe)[fe][t]}},{key:"iteratePlugins",value:function iteratePlugins(t){Object.values(Uppy_classPrivateFieldLooseBase(this,fe)[fe]).flat(1).forEach(t)}},{key:"removePlugin",value:function removePlugin(t){this.log("Removing plugin ".concat(t.id)),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();var r=Uppy_classPrivateFieldLooseBase(this,fe)[fe][t.type],i=r.findIndex(function(r){return r.id===t.id});-1!==i&&r.splice(i,1);var o={plugins:Uppy_objectSpread(Uppy_objectSpread({},this.getState().plugins),{},(0,u.A)({},t.id,void 0))};this.setState(o)}},{key:"close",value:function close(t){var r=this,i=(void 0===t?{}:t).reason;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.cancelAll({reason:i}),Uppy_classPrivateFieldLooseBase(this,ve)[ve](),this.iteratePlugins(function(t){r.removePlugin(t)}),"undefined"!=typeof window&&window.removeEventListener&&(window.removeEventListener("online",Uppy_classPrivateFieldLooseBase(this,ke)[ke]),window.removeEventListener("offline",Uppy_classPrivateFieldLooseBase(this,ke)[ke]))}},{key:"hideInfo",value:function hideInfo(){var t=this.getState().info;this.setState({info:t.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function info(t,r,i){var o=this;void 0===r&&(r="info"),void 0===i&&(i=3e3);var c="object"===(0,l.A)(t);this.setState({info:[].concat((0,a.A)(this.getState().info),[{type:r,message:c?t.message:t,details:c?t.details:null}])}),setTimeout(function(){return o.hideInfo()},i),this.emit("info-visible")}},{key:"log",value:function log(t,r){var i=this.opts.logger;switch(r){case"error":i.error(t);break;case"warning":i.warn(t);break;default:i.debug(t)}}},{key:"registerRequestClient",value:function registerRequestClient(t,r){Uppy_classPrivateFieldLooseBase(this,Ae)[Ae].set(t,r)}},{key:"getRequestClientForFile",value:function getRequestClientForFile(t){if(!t.remote)throw new Error("Tried to get RequestClient for a non-remote file ".concat(t.id));var r=Uppy_classPrivateFieldLooseBase(this,Ae)[Ae].get(t.remote.requestClientId);if(null==r)throw new Error('requestClientId "'.concat(t.remote.requestClientId,'" not registered for file "').concat(t.id,'"'));return r}},{key:"restore",value:function restore(t){return this.log('Core: attempting to restore upload "'.concat(t,'"')),this.getState().currentUploads[t]?Uppy_classPrivateFieldLooseBase(this,Te)[Te](t):(Uppy_classPrivateFieldLooseBase(this,Ee)[Ee](t),Promise.reject(new Error("Nonexistent upload")))}},{key:r,value:function value(){var t;return(t=Uppy_classPrivateFieldLooseBase(this,xe))[xe].apply(t,arguments)}},{key:"addResultData",value:function addResultData(t,r){if(Uppy_classPrivateFieldLooseBase(this,Le)[Le](t)){var i=this.getState().currentUploads,o=Uppy_objectSpread(Uppy_objectSpread({},i[t]),{},{result:Uppy_objectSpread(Uppy_objectSpread({},i[t].result),r)});this.setState({currentUploads:Uppy_objectSpread(Uppy_objectSpread({},i),{},(0,u.A)({},t,o))})}else this.log("Not setting result for an upload that has been removed: ".concat(t))}},{key:"upload",value:function upload(){var t,r=this;null!=(t=Uppy_classPrivateFieldLooseBase(this,fe)[fe].uploader)&&t.length||this.log("No uploader type plugins are used","warning");var i=this.getState().files,o=this.opts.onBeforeUpload(i);return!1===o?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(o&&"object"===(0,l.A)(o)&&(i=o,this.setState({files:i})),Promise.resolve().then(function(){return Uppy_classPrivateFieldLooseBase(r,he)[he].validateMinNumberOfFiles(i)}).catch(function(t){throw Uppy_classPrivateFieldLooseBase(r,be)[be]([t]),t}).then(function(){if(!Uppy_classPrivateFieldLooseBase(r,we)[we](i))throw new le(r.i18n("missingRequiredMetaField"))}).catch(function(t){throw t}).then(function(){var t=r.getState().currentUploads,o=Object.values(t).flatMap(function(t){return t.fileIDs}),a=[];Object.keys(i).forEach(function(t){var i=r.getFile(t);i.progress.uploadStarted||-1!==o.indexOf(t)||a.push(i.id)});var l=Uppy_classPrivateFieldLooseBase(r,xe)[xe](a);return Uppy_classPrivateFieldLooseBase(r,Te)[Te](l)}).catch(function(t){throw r.emit("error",t),r.log(t,"error"),t}))}}])}(Symbol.for("uppy test: getPlugins"),Symbol.for("uppy test: createUpload"));function _informAndEmit2(t){var r,i=this,o=Uppy_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.isRestriction?this.emit("restriction-failed",a.file,a):this.emit("error",a,a.file),this.log(a,"warning")}}catch(t){o.e(t)}finally{o.f()}var l=t.filter(function(t){return t.isUserFacing}),c=l.slice(0,4),u=l.slice(4);c.forEach(function(t){var r=t.message,o=t.details,a=void 0===o?"":o;i.info({message:r,details:a},"error",i.opts.infoTimeout)}),u.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:u.length})})}function _checkRequiredMetaFieldsOnFile2(t){var r=Uppy_classPrivateFieldLooseBase(this,he)[he].getMissingRequiredMetaFields(t),i=r.missingFields,o=r.error;return!(i.length>0)||(this.setFileState(t.id,{missingRequiredMetaFields:i}),this.log(o.message),this.emit("restriction-failed",t,o),!1)}function _checkRequiredMetaFields2(t){for(var r=!0,i=0,o=Object.values(t);i<o.length;i++){var a=o[i];Uppy_classPrivateFieldLooseBase(this,Se)[Se](a)||(r=!1)}return r}function _assertNewUploadAllowed2(t){if(!1===this.getState().allowNewUpload){var r=new le(this.i18n("noMoreFilesAllowed"),{file:t});throw Uppy_classPrivateFieldLooseBase(this,be)[be]([r]),r}}function _transformFile2(t){var r=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,i=getFileType(r),o=function getFileName(t,r){return r.name?r.name:"image"===t.split("/")[0]?"".concat(t.split("/")[0],".").concat(t.split("/")[1]):"noname"}(i,r),a=getFileNameAndExtension(o).extension,l=getSafeFileId(r),c=r.meta||{};c.name=o,c.type=i;var u=Number.isFinite(r.data.size)?r.data.size:null;return{source:r.source||"",id:l,name:o,extension:a||"",meta:Uppy_objectSpread(Uppy_objectSpread({},this.getState().meta),c),type:i,data:r.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:u,uploadComplete:!1,uploadStarted:null},size:u,isGhost:!1,isRemote:r.isRemote||!1,remote:r.remote||"",preview:r.preview}}function _startIfAutoProceed2(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(r){r.isRestriction||t.log(r.stack||r.message||r)})},4))}function _checkAndUpdateFileState2(t){var r,i=this.getState().files,o=Uppy_objectSpread({},i),a=[],c=[],u=Uppy_createForOfIteratorHelper(t);try{for(u.s();!(r=u.n()).done;){var p=r.value;try{var h,v=Uppy_classPrivateFieldLooseBase(this,Fe)[Fe](p),y=null==(h=i[v.id])?void 0:h.isGhost;if(y)v=Uppy_objectSpread(Uppy_objectSpread({},i[v.id]),{},{isGhost:!1,data:p.data}),this.log("Replaced the blob in the restored ghost file: ".concat(v.name,", ").concat(v.id));var w=this.opts.onBeforeFileAdded(v,o);if(!w&&this.checkIfFileAlreadyExists(v.id))throw new le(this.i18n("noDuplicates",{fileName:v.name}),{file:p});if(!1===w&&!y)throw new le("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:p});"object"===(0,l.A)(w)&&null!==w&&(v=w),Uppy_classPrivateFieldLooseBase(this,he)[he].validateSingleFile(v),o[v.id]=v,a.push(v)}catch(t){c.push(t)}}}catch(t){u.e(t)}finally{u.f()}try{Uppy_classPrivateFieldLooseBase(this,he)[he].validateAggregateRestrictions(Object.values(i),a)}catch(t){return c.push(t),{nextFilesState:i,validFilesToAdd:[],errors:c}}return{nextFilesState:o,validFilesToAdd:a,errors:c}}function _addListeners2(){var t=this,r=function errorHandler(r,i,o){var a=r.message||"Unknown error";r.details&&(a+=" ".concat(r.details)),t.setState({error:a}),null!=i&&i.id in t.getState().files&&t.setFileState(i.id,{error:a,response:o})};this.on("error",r),this.on("upload-error",function(i,o,a){if(r(o,i,a),"object"===(0,l.A)(o)&&o.message){var c;t.log(o.message,"error");var u=new Error(t.i18n("failedToUpload",{file:null!=(c=null==i?void 0:i.name)?c:""}));u.isUserFacing=!0,u.details=o.message,o.details&&(u.details+=" ".concat(o.details)),Uppy_classPrivateFieldLooseBase(t,be)[be]([u])}else Uppy_classPrivateFieldLooseBase(t,be)[be]([o])});var i=null;this.on("upload-stalled",function(r,o){var a=r.message,l=o.map(function(t){return t.meta.name}).join(", ");i||(t.info({message:a,details:l},"warning",t.opts.infoTimeout),i=setTimeout(function(){i=null},t.opts.infoTimeout)),t.log("".concat(a," ").concat(l).trim(),"warning")}),this.on("upload",function(){t.setState({error:null})});this.on("upload-start",function(r){r.forEach(function(r){t.emit("upload-started",r)}),function onUploadStarted(r){var i=r.filter(function(r){var i=null!=r&&t.getFile(r.id);return i||t.log("Not setting progress for a file that has been removed: ".concat(null==r?void 0:r.id)),i}),o=Object.fromEntries(i.map(function(t){return[t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}}]}));t.patchFilesState(o)}(r)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(r,i){if(null!=r&&t.getFile(r.id)){var o=t.getFile(r.id).progress;t.setFileState(r.id,{progress:Uppy_objectSpread(Uppy_objectSpread({},o),{},{postprocess:Uppy_classPrivateFieldLooseBase(t,me)[me].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal}),response:i,uploadURL:i.uploadURL,isPaused:!1}),null==r.size&&t.setFileState(r.id,{size:i.bytesUploaded||o.bytesTotal}),t.calculateTotalProgress()}else t.log("Not setting progress for a file that has been removed: ".concat(null==r?void 0:r.id))}),this.on("preprocess-progress",function(r,i){null!=r&&t.getFile(r.id)?t.setFileState(r.id,{progress:Uppy_objectSpread(Uppy_objectSpread({},t.getFile(r.id).progress),{},{preprocess:i})}):t.log("Not setting progress for a file that has been removed: ".concat(null==r?void 0:r.id))}),this.on("preprocess-complete",function(r){if(null!=r&&t.getFile(r.id)){var i=Uppy_objectSpread({},t.getState().files);i[r.id]=Uppy_objectSpread(Uppy_objectSpread({},i[r.id]),{},{progress:Uppy_objectSpread({},i[r.id].progress)}),delete i[r.id].progress.preprocess,t.setState({files:i})}else t.log("Not setting progress for a file that has been removed: ".concat(null==r?void 0:r.id))}),this.on("postprocess-progress",function(r,i){null!=r&&t.getFile(r.id)?t.setFileState(r.id,{progress:Uppy_objectSpread(Uppy_objectSpread({},t.getState().files[r.id].progress),{},{postprocess:i})}):t.log("Not setting progress for a file that has been removed: ".concat(null==r?void 0:r.id))}),this.on("postprocess-complete",function(r){if(null!=r&&t.getFile(r.id)){var i=Uppy_objectSpread({},t.getState().files);i[r.id]=Uppy_objectSpread(Uppy_objectSpread({},i[r.id]),{},{progress:Uppy_objectSpread({},i[r.id].progress)}),delete i[r.id].progress.postprocess,t.setState({files:i})}else t.log("Not setting progress for a file that has been removed: ".concat(null==r?void 0:r.id))}),this.on("restored",function(){t.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(r){r&&Uppy_classPrivateFieldLooseBase(t,Se)[Se](r)}),"undefined"!=typeof window&&window.addEventListener&&(window.addEventListener("online",Uppy_classPrivateFieldLooseBase(this,ke)[ke]),window.addEventListener("offline",Uppy_classPrivateFieldLooseBase(this,ke)[ke]),setTimeout(Uppy_classPrivateFieldLooseBase(this,ke)[ke],3e3))}function _createUpload2(t,r){void 0===r&&(r={});var i=r.forceAllowNewUpload,o=void 0!==i&&i,a=this.getState(),l=a.allowNewUpload,c=a.currentUploads;if(!l&&!o)throw new Error("Cannot create a new upload: already uploading.");var p=(0,U.A)();return this.emit("upload",{id:p,fileIDs:t}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:Uppy_objectSpread(Uppy_objectSpread({},c),{},(0,u.A)({},p,{fileIDs:t,step:0,result:{}}))}),p}function _getUpload2(t){return this.getState().currentUploads[t]}function _removeUpload2(t){var r=Uppy_objectSpread({},this.getState().currentUploads);delete r[t],this.setState({currentUploads:r})}function _runUpload2(_x){return _runUpload3.apply(this,arguments)}function _runUpload3(){return(_runUpload3=(0,o.A)(v.mark(function _callee(t){var r,i,o,l,c,p,h,y,w,U,R,W=this;return v.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:i=(r=function getCurrentUpload(){return W.getState().currentUploads[t]})(),o=[].concat((0,a.A)(Uppy_classPrivateFieldLooseBase(this,ge)[ge]),(0,a.A)(Uppy_classPrivateFieldLooseBase(this,_e)[_e]),(0,a.A)(Uppy_classPrivateFieldLooseBase(this,me)[me])),v.prev=1,l=i.step||0;case 2:if(!(l<o.length)){v.next=6;break}if(i){v.next=3;break}return v.abrupt("continue",6);case 3:return c=o[l],this.setState({currentUploads:Uppy_objectSpread(Uppy_objectSpread({},this.getState().currentUploads),{},(0,u.A)({},t,Uppy_objectSpread(Uppy_objectSpread({},i),{},{step:l})))}),p=i.fileIDs,v.next=4,c(p,t);case 4:i=r();case 5:l++,v.next=2;break;case 6:v.next=8;break;case 7:throw v.prev=7,R=v.catch(1),Uppy_classPrivateFieldLooseBase(this,Ee)[Ee](t),R;case 8:return i&&(i.fileIDs.forEach(function(t){var r=W.getFile(t);r&&r.progress.postprocess&&W.emit("postprocess-complete",r)}),h=i.fileIDs.map(function(t){return W.getFile(t)}),y=h.filter(function(t){return!t.error}),w=h.filter(function(t){return t.error}),this.addResultData(t,{successful:y,failed:w,uploadID:t}),i=r()),i&&(U=i.result,this.emit("complete",U),Uppy_classPrivateFieldLooseBase(this,Ee)[Ee](t)),null==U&&this.log("Not setting result for an upload that has been removed: ".concat(t)),v.abrupt("return",U);case 9:case"end":return v.stop()}},_callee,this,[[1,7]])}))).apply(this,arguments)}Be.VERSION="3.9.3";const Ie=Be},34034:(t,r,i)=>{i(16280),i(76918);var o=i(59209),a=i(67873);t.exports=function throttle(t,r,i){var l=!0,c=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return a(i)&&(l="leading"in i?!!i.leading:l,c="trailing"in i?!!i.trailing:c),o(t,r,{"leading":l,"maxWait":r,"trailing":c})}},35252:(t,r,i)=>{i(34782),i(27495),i(25440);var o=i(79876),a=/^\s+/;t.exports=function baseTrim(t){return t?t.slice(0,o(t)+1).replace(a,""):t}},36480:(t,r,i)=>{"use strict";i.d(r,{FK:()=>k,Ob:()=>K,XX:()=>G,_3:()=>b,fF:()=>a,h:()=>_,uA:()=>x,v2:()=>H});var o,a,l,c,u,p,h,v,y,w,U,R=i(18180),W=(i(51629),i(25276),i(64346),i(23792),i(62062),i(44114),i(34782),i(15086),i(26910),i(94170),i(62010),i(26099),i(3362),i(27495),i(90906),i(31415),i(47764),i(25440),i(48718),i(98992),i(3949),i(81454),i(37550),i(23500),i(62953),i(76031),{}),X=[],Y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Z=Array.isArray;function d(t,r){for(var i in r)t[i]=r[i];return t}function g(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _(t,r,i){var a,l,c,u={};for(c in r)"key"==c?a=r[c]:"ref"==c?l=r[c]:u[c]=r[c];if(arguments.length>2&&(u.children=arguments.length>3?o.call(arguments,2):i),"function"==typeof t&&null!=t.defaultProps)for(c in t.defaultProps)void 0===u[c]&&(u[c]=t.defaultProps[c]);return m(t,u,a,l,null)}function m(t,r,i,o,c){var u={type:t,props:r,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==c?++l:c,__i:-1,__u:0};return null==c&&null!=a.vnode&&a.vnode(u),u}function b(){return{current:null}}function k(t){return t.children}function x(t,r){this.props=t,this.context=r}function S(t,r){if(null==r)return t.__?S(t.__,t.__i+1):null;for(var i;r<t.__k.length;r++)if(null!=(i=t.__k[r])&&null!=i.__e)return i.__e;return"function"==typeof t.type?S(t):null}function C(t){var r,i;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(i=t.__k[r])&&null!=i.__e){t.__e=t.__c.base=i.__e;break}return C(t)}}function M(t){(!t.__d&&(t.__d=!0)&&c.push(t)&&!$.__r++||u!=a.debounceRendering)&&((u=a.debounceRendering)||p)($)}function $(){for(var t,r,i,o,l,u,p,v=1;c.length;)c.length>v&&c.sort(h),t=c.shift(),v=c.length,t.__d&&(i=void 0,l=(o=(r=t).__v).__e,u=[],p=[],r.__P&&((i=d({},o)).__v=o.__v+1,a.vnode&&a.vnode(i),O(r.__P,i,o,r.__n,r.__P.namespaceURI,32&o.__u?[l]:null,u,null==l?S(o):l,!!(32&o.__u),p),i.__v=o.__v,i.__.__k[i.__i]=i,N(u,i,p),i.__e!=l&&C(i)));$.__r=0}function I(t,r,i,o,a,l,c,u,p,h,v){var y,w,U,R,Y,Z,J=o&&o.__k||X,Q=r.length;for(p=P(i,r,J,p,Q),y=0;y<Q;y++)null!=(U=i.__k[y])&&(w=-1==U.__i?W:J[U.__i]||W,U.__i=y,Z=O(t,U,w,a,l,c,u,p,h,v),R=U.__e,U.ref&&w.ref!=U.ref&&(w.ref&&B(w.ref,null,U),v.push(U.ref,U.__c||R,U)),null==Y&&null!=R&&(Y=R),4&U.__u||w.__k===U.__k?p=A(U,p,t):"function"==typeof U.type&&void 0!==Z?p=Z:R&&(p=R.nextSibling),U.__u&=-7);return i.__e=Y,p}function P(t,r,i,o,a){var l,c,u,p,h,v=i.length,y=v,w=0;for(t.__k=new Array(a),l=0;l<a;l++)null!=(c=r[l])&&"boolean"!=typeof c&&"function"!=typeof c?(p=l+w,(c=t.__k[l]="string"==typeof c||"number"==typeof c||"bigint"==typeof c||c.constructor==String?m(null,c,null,null,null):Z(c)?m(k,{children:c},null,null,null):null==c.constructor&&c.__b>0?m(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=t,c.__b=t.__b+1,u=null,-1!=(h=c.__i=L(c,i,p,y))&&(y--,(u=i[h])&&(u.__u|=2)),null==u||null==u.__v?(-1==h&&(a>v?w--:a<v&&w++),"function"!=typeof c.type&&(c.__u|=4)):h!=p&&(h==p-1?w--:h==p+1?w++:(h>p?w--:w++,c.__u|=4))):t.__k[l]=null;if(y)for(l=0;l<v;l++)null!=(u=i[l])&&!(2&u.__u)&&(u.__e==o&&(o=S(u)),D(u,u));return o}function A(t,r,i){var o,a;if("function"==typeof t.type){for(o=t.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=t,r=A(o[a],r,i));return r}t.__e!=r&&(r&&t.type&&!i.contains(r)&&(r=S(t)),i.insertBefore(t.__e,r||null),r=t.__e);do{r=r&&r.nextSibling}while(null!=r&&8==r.nodeType);return r}function H(t,r){return r=r||[],null==t||"boolean"==typeof t||(Z(t)?t.some(function(t){H(t,r)}):r.push(t)),r}function L(t,r,i,o){var a,l,c,u=t.key,p=t.type,h=r[i],v=null!=h&&!(2&h.__u);if(null===h&&null==t.key||v&&u==h.key&&p==h.type)return i;if(o>(v?1:0))for(a=i-1,l=i+1;a>=0||l<r.length;)if(null!=(h=r[c=a>=0?a--:l++])&&!(2&h.__u)&&u==h.key&&p==h.type)return c;return-1}function T(t,r,i){"-"==r[0]?t.setProperty(r,null==i?"":i):t[r]=null==i?"":"number"!=typeof i||Y.test(r)?i:i+"px"}function j(t,r,i,o,a){var l,c;e:if("style"==r)if("string"==typeof i)t.style.cssText=i;else{if("string"==typeof o&&(t.style.cssText=o=""),o)for(r in o)i&&r in i||T(t.style,r,"");if(i)for(r in i)o&&i[r]==o[r]||T(t.style,r,i[r])}else if("o"==r[0]&&"n"==r[1])l=r!=(r=r.replace(v,"$1")),c=r.toLowerCase(),r=c in t||"onFocusOut"==r||"onFocusIn"==r?c.slice(2):r.slice(2),t.l||(t.l={}),t.l[r+l]=i,i?o?i.u=o.u:(i.u=y,t.addEventListener(r,l?U:w,l)):t.removeEventListener(r,l?U:w,l);else{if("http://www.w3.org/2000/svg"==a)r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=r&&"height"!=r&&"href"!=r&&"list"!=r&&"form"!=r&&"tabIndex"!=r&&"download"!=r&&"rowSpan"!=r&&"colSpan"!=r&&"role"!=r&&"popover"!=r&&r in t)try{t[r]=null==i?"":i;break e}catch(t){}"function"==typeof i||(null==i||!1===i&&"-"!=r[4]?t.removeAttribute(r):t.setAttribute(r,"popover"==r&&1==i?"":i))}}function F(t){return function(r){if(this.l){var i=this.l[r.type+t];if(null==r.t)r.t=y++;else if(r.t<i.u)return;return i(a.event?a.event(r):r)}}}function O(t,r,i,o,l,c,u,p,h,v){var y,w,U,R,W,X,Y,J,Q,ee,te,re,ne,ie,oe,ae,se,le=r.type;if(null!=r.constructor)return null;128&i.__u&&(h=!!(32&i.__u),c=[p=r.__e=i.__e]),(y=a.__b)&&y(r);e:if("function"==typeof le)try{if(J=r.props,Q="prototype"in le&&le.prototype.render,ee=(y=le.contextType)&&o[y.__c],te=y?ee?ee.props.value:y.__:o,i.__c?Y=(w=r.__c=i.__c).__=w.__E:(Q?r.__c=w=new le(J,te):(r.__c=w=new x(J,te),w.constructor=le,w.render=E),ee&&ee.sub(w),w.props=J,w.state||(w.state={}),w.context=te,w.__n=o,U=w.__d=!0,w.__h=[],w._sb=[]),Q&&null==w.__s&&(w.__s=w.state),Q&&null!=le.getDerivedStateFromProps&&(w.__s==w.state&&(w.__s=d({},w.__s)),d(w.__s,le.getDerivedStateFromProps(J,w.__s))),R=w.props,W=w.state,w.__v=r,U)Q&&null==le.getDerivedStateFromProps&&null!=w.componentWillMount&&w.componentWillMount(),Q&&null!=w.componentDidMount&&w.__h.push(w.componentDidMount);else{if(Q&&null==le.getDerivedStateFromProps&&J!==R&&null!=w.componentWillReceiveProps&&w.componentWillReceiveProps(J,te),!w.__e&&null!=w.shouldComponentUpdate&&!1===w.shouldComponentUpdate(J,w.__s,te)||r.__v==i.__v){for(r.__v!=i.__v&&(w.props=J,w.state=w.__s,w.__d=!1),r.__e=i.__e,r.__k=i.__k,r.__k.some(function(t){t&&(t.__=r)}),re=0;re<w._sb.length;re++)w.__h.push(w._sb[re]);w._sb=[],w.__h.length&&u.push(w);break e}null!=w.componentWillUpdate&&w.componentWillUpdate(J,w.__s,te),Q&&null!=w.componentDidUpdate&&w.__h.push(function(){w.componentDidUpdate(R,W,X)})}if(w.context=te,w.props=J,w.__P=t,w.__e=!1,ne=a.__r,ie=0,Q){for(w.state=w.__s,w.__d=!1,ne&&ne(r),y=w.render(w.props,w.state,w.context),oe=0;oe<w._sb.length;oe++)w.__h.push(w._sb[oe]);w._sb=[]}else do{w.__d=!1,ne&&ne(r),y=w.render(w.props,w.state,w.context),w.state=w.__s}while(w.__d&&++ie<25);w.state=w.__s,null!=w.getChildContext&&(o=d(d({},o),w.getChildContext())),Q&&!U&&null!=w.getSnapshotBeforeUpdate&&(X=w.getSnapshotBeforeUpdate(R,W)),ae=y,null!=y&&y.type===k&&null==y.key&&(ae=V(y.props.children)),p=I(t,Z(ae)?ae:[ae],r,i,o,l,c,u,p,h,v),w.base=r.__e,r.__u&=-161,w.__h.length&&u.push(w),Y&&(w.__E=w.__=null)}catch(t){if(r.__v=null,h||null!=c)if(t.then){for(r.__u|=h?160:128;p&&8==p.nodeType&&p.nextSibling;)p=p.nextSibling;c[c.indexOf(p)]=null,r.__e=p}else{for(se=c.length;se--;)g(c[se]);z(r)}else r.__e=i.__e,r.__k=i.__k,t.then||z(r);a.__e(t,r,i)}else null==c&&r.__v==i.__v?(r.__k=i.__k,r.__e=i.__e):p=r.__e=q(i.__e,r,i,o,l,c,u,h,v);return(y=a.diffed)&&y(r),128&r.__u?void 0:p}function z(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(z)}function N(t,r,i){for(var o=0;o<i.length;o++)B(i[o],i[++o],i[++o]);a.__c&&a.__c(r,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(t){t.call(r)})}catch(t){a.__e(t,r.__v)}})}function V(t){return"object"!=(0,R.A)(t)||null==t||t.__b&&t.__b>0?t:Z(t)?t.map(V):d({},t)}function q(t,r,i,l,c,u,p,h,v){var y,w,U,R,X,Y,J,Q=i.props,ee=r.props,te=r.type;if("svg"==te?c="http://www.w3.org/2000/svg":"math"==te?c="http://www.w3.org/1998/Math/MathML":c||(c="http://www.w3.org/1999/xhtml"),null!=u)for(y=0;y<u.length;y++)if((X=u[y])&&"setAttribute"in X==!!te&&(te?X.localName==te:3==X.nodeType)){t=X,u[y]=null;break}if(null==t){if(null==te)return document.createTextNode(ee);t=document.createElementNS(c,te,ee.is&&ee),h&&(a.__m&&a.__m(r,u),h=!1),u=null}if(null==te)Q===ee||h&&t.data==ee||(t.data=ee);else{if(u=u&&o.call(t.childNodes),Q=i.props||W,!h&&null!=u)for(Q={},y=0;y<t.attributes.length;y++)Q[(X=t.attributes[y]).name]=X.value;for(y in Q)if(X=Q[y],"children"==y);else if("dangerouslySetInnerHTML"==y)U=X;else if(!(y in ee)){if("value"==y&&"defaultValue"in ee||"checked"==y&&"defaultChecked"in ee)continue;j(t,y,null,X,c)}for(y in ee)X=ee[y],"children"==y?R=X:"dangerouslySetInnerHTML"==y?w=X:"value"==y?Y=X:"checked"==y?J=X:h&&"function"!=typeof X||Q[y]===X||j(t,y,X,Q[y],c);if(w)h||U&&(w.__html==U.__html||w.__html==t.innerHTML)||(t.innerHTML=w.__html),r.__k=[];else if(U&&(t.innerHTML=""),I("template"==r.type?t.content:t,Z(R)?R:[R],r,i,l,"foreignObject"==te?"http://www.w3.org/1999/xhtml":c,u,p,u?u[0]:i.__k&&S(i,0),h,v),null!=u)for(y=u.length;y--;)g(u[y]);h||(y="value","progress"==te&&null==Y?t.removeAttribute("value"):null!=Y&&(Y!==t[y]||"progress"==te&&!Y||"option"==te&&Y!=Q[y])&&j(t,y,Y,Q[y],c),y="checked",null!=J&&J!=t[y]&&j(t,y,J,Q[y],c))}return t}function B(t,r,i){try{if("function"==typeof t){var o="function"==typeof t.__u;o&&t.__u(),o&&null==r||(t.__u=t(r))}else t.current=r}catch(t){a.__e(t,i)}}function D(t,r,i){var o,l;if(a.unmount&&a.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||B(o,null,r)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){a.__e(t,r)}o.base=o.__P=null}if(o=t.__k)for(l=0;l<o.length;l++)o[l]&&D(o[l],r,i||"function"!=typeof t.type);i||g(t.__e),t.__c=t.__=t.__e=void 0}function E(t,r,i){return this.constructor(t,i)}function G(t,r,i){var l,c,u,p;r==document&&(r=document.documentElement),a.__&&a.__(t,r),c=(l="function"==typeof i)?null:i&&i.__k||r.__k,u=[],p=[],O(r,t=(!l&&i||r).__k=_(k,null,[t]),c||W,W,r.namespaceURI,!l&&i?[i]:c?null:r.firstChild?o.call(r.childNodes):null,u,!l&&i?i:c?c.__e:r.firstChild,l,p),N(u,t,p)}function K(t,r,i){var a,l,c,u,p=d({},t.props);for(c in t.type&&t.type.defaultProps&&(u=t.type.defaultProps),r)"key"==c?a=r[c]:"ref"==c?l=r[c]:p[c]=void 0===r[c]&&null!=u?u[c]:r[c];return arguments.length>2&&(p.children=arguments.length>3?o.call(arguments,2):i),m(t.type,p,a||t.key,l||t.ref,null)}o=X.slice,a={__e:function __e(t,r,i,o){for(var a,l,c;r=r.__;)if((a=r.__c)&&!a.__)try{if((l=a.constructor)&&null!=l.getDerivedStateFromError&&(a.setState(l.getDerivedStateFromError(t)),c=a.__d),null!=a.componentDidCatch&&(a.componentDidCatch(t,o||{}),c=a.__d),c)return a.__E=a}catch(r){t=r}throw t}},l=0,x.prototype.setState=function(t,r){var i;i=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},i),this.props)),t&&d(i,t),null!=t&&this.__v&&(r&&this._sb.push(r),M(this))},x.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),M(this))},x.prototype.render=k,c=[],p="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,h=function e(t,r){return t.__v.__b-r.__v.__b},$.__r=0,v=/(PointerCapture)$|Capture$/i,y=0,w=F(!1),U=F(!0)},42631:(t,r,i)=>{i(76918),i(23288),i(26099),i(38781);var o=i(46133),a=Object.prototype,l=a.hasOwnProperty,c=a.toString,u=o?o.toStringTag:void 0;t.exports=function getRawTag(t){var r=l.call(t,u),i=t[u];try{t[u]=void 0;var o=!0}catch(t){}var a=c.call(t);return o&&(r?t[u]=i:delete t[u]),a}},42785:(t,r,i)=>{var o=i(89990);i(13611);var a=i(47436),l="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,c=a||l||Function("return this")();t.exports=c},43146:(t,r,i)=>{i(34782),i(58940),i(27495),i(90906);var o=i(35252),a=i(67873),l=i(78766),c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,p=/^0o[0-7]+$/i,h=parseInt;t.exports=function toNumber(t){if("number"==typeof t)return t;if(l(t))return NaN;if(a(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=a(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var i=u.test(t);return i||p.test(t)?h(t.slice(2),i?2:8):c.test(t)?NaN:+t}},46133:(t,r,i)=>{var o=i(42785).Symbol;t.exports=o},47436:(t,r,i)=>{var o=i(89990),a="object"==(void 0===i.g?"undefined":o(i.g))&&i.g&&i.g.Object===Object&&i.g;t.exports=a},48646:(t,r,i)=>{"use strict";var o=i(69565),a=i(28551),l=i(1767),c=i(50851);t.exports=function(t,r){r&&"string"==typeof t||a(t);var i=c(t);return l(a(void 0!==i?o(i,t):t))}},51391:(t,r,i)=>{"use strict";i.d(r,{A:()=>o});var o=function nanoid(){for(var t="",r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}},53921:(t,r,i)=>{"use strict";var o=i(46518),a=i(72652),l=i(97040);o({target:"Object",stat:!0},{fromEntries:function fromEntries(t){var r={};return a(t,function(t,i){l(r,t,i)},{AS_ENTRIES:!0}),r}})},54024:(t,r,i)=>{"use strict";i.d(r,{A:()=>y});var o=i(51531),a=i(18180),l=i(58237),c=i(84285);i(52675),i(83237),i(31073),i(16280),i(76918),i(2008),i(51629),i(64346),i(48598),i(44114),i(69085),i(67945),i(84185),i(83851),i(81278),i(79432),i(26099),i(84864),i(57465),i(27495),i(87745),i(38781),i(25440),i(90744),i(98992),i(54520),i(3949),i(23500);function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,o)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach(function(r){(0,o.A)(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function _classPrivateFieldLooseBase(t,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw new TypeError("attempted to use private field on non-instance");return t}var u=0;function _classPrivateFieldLooseKey(t){return"__private_"+u+++"_"+t}function insertReplacement(t,r,i){var o=[];return t.forEach(function(t){return"string"!=typeof t?o.push(t):r[Symbol.split](t).forEach(function(t,r,a){""!==t&&o.push(t),r<a.length-1&&o.push(i)})}),o}function interpolate(t,r){var i=/\$/g,o=[t];if(null==r)return o;for(var a=0,l=Object.keys(r);a<l.length;a++){var c=l[a];if("_"!==c){var u=r[c];"string"==typeof u&&(u=i[Symbol.replace](u,"$$$$")),o=insertReplacement(o,new RegExp("%\\{".concat(c,"\\}"),"g"),u)}}return o}var p=function defaultOnMissingKey(t){throw new Error("missing string: ".concat(t))},h=_classPrivateFieldLooseKey("onMissingKey"),v=_classPrivateFieldLooseKey("apply"),y=function(){return(0,c.A)(function Translator(t,r){(0,l.A)(this,Translator);var i=(void 0===r?{}:r).onMissingKey,o=void 0===i?p:i;Object.defineProperty(this,v,{value:_apply2}),Object.defineProperty(this,h,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function pluralize(t){return 1===t?0:1}},Array.isArray(t)?t.forEach(_classPrivateFieldLooseBase(this,v)[v],this):_classPrivateFieldLooseBase(this,v)[v](t),_classPrivateFieldLooseBase(this,h)[h]=o},[{key:"translate",value:function translate(t,r){return this.translateArray(t,r).join("")}},{key:"translateArray",value:function translateArray(t,r){var i=this.locale.strings[t];if(null==i&&(_classPrivateFieldLooseBase(this,h)[h](t),i=t),"object"===(0,a.A)(i)){if(r&&void 0!==r.smart_count)return interpolate(i[this.locale.pluralize(r.smart_count)],r);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof i)throw new Error("string was not a string");return interpolate(i,r)}}])}();function _apply2(t){if(null!=t&&t.strings){var r=this.locale;Object.assign(this.locale,{strings:_objectSpread(_objectSpread({},r.strings),t.strings),pluralize:t.pluralize||r.pluralize})}}},59209:(t,r,i)=>{i(16280),i(76918),i(76031);var o=i(67873),a=i(93224),l=i(43146),c=Math.max,u=Math.min;t.exports=function debounce(t,r,i){var p,h,v,y,w,U,R=0,W=!1,X=!1,Y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function invokeFunc(r){var i=p,o=h;return p=h=void 0,R=r,y=t.apply(o,i)}function shouldInvoke(t){var i=t-U;return void 0===U||i>=r||i<0||X&&t-R>=v}function timerExpired(){var t=a();if(shouldInvoke(t))return trailingEdge(t);w=setTimeout(timerExpired,function remainingWait(t){var i=r-(t-U);return X?u(i,v-(t-R)):i}(t))}function trailingEdge(t){return w=void 0,Y&&p?invokeFunc(t):(p=h=void 0,y)}function debounced(){var t=a(),i=shouldInvoke(t);if(p=arguments,h=this,U=t,i){if(void 0===w)return function leadingEdge(t){return R=t,w=setTimeout(timerExpired,r),W?invokeFunc(t):y}(U);if(X)return clearTimeout(w),w=setTimeout(timerExpired,r),invokeFunc(U)}return void 0===w&&(w=setTimeout(timerExpired,r)),y}return r=l(r)||0,o(i)&&(W=!!i.leading,v=(X="maxWait"in i)?c(l(i.maxWait)||0,r):v,Y="trailing"in i?!!i.trailing:Y),debounced.cancel=function cancel(){void 0!==w&&clearTimeout(w),R=0,p=U=h=w=void 0},debounced.flush=function flush(){return void 0===w?y:trailingEdge(a())},debounced}},67873:(t,r,i)=>{var o=i(89990);t.exports=function isObject(t){var r=o(t);return null!=t&&("object"==r||"function"==r)}},70647:(t,r,i)=>{i(28706),i(25276),i(44114),i(79432),t.exports=function createNamespaceEmitter(){var t={},r=t._fns={};return t.emit=function emit(t,i,o,a,l,c,u){var p=function getListeners(t){var i=r[t]?r[t]:[],o=t.indexOf(":"),a=-1===o?[t]:[t.substring(0,o),t.substring(o+1)],l=Object.keys(r),c=0,u=l.length;for(;c<u;c++){var p=l[c];if("*"===p&&(i=i.concat(r[p])),2===a.length&&a[0]===p){i=i.concat(r[p]);break}}return i}(t);p.length&&function emitAll(t,r,i){var o=0,a=r.length;for(;o<a&&r[o];o++)r[o].event=t,r[o].apply(r[o],i)}(t,p,[i,o,a,l,c,u])},t.on=function on(t,i){r[t]||(r[t]=[]),r[t].push(i)},t.once=function once(r,i){this.on(r,function one(){i.apply(this,arguments),t.off(r,one)})},t.off=function off(t,r){var i=[];if(t&&r)for(var o=this._fns[t],a=0,l=o?o.length:0;a<l;a++)o[a]!==r&&i.push(o[a]);i.length?this._fns[t]=i:delete this._fns[t]},t}},78029:(t,r,i)=>{"use strict";var o=i(89990);i(16280),i(76918),i(28706),i(2892),i(40150),i(9868),t.exports=function prettierBytes(t){if("number"!=typeof t||Number.isNaN(t))throw new TypeError("Expected a number, got ".concat(o(t)));var r=t<0,i=Math.abs(t);if(r&&(i=-i),0===i)return"0 B";var a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.min(Math.floor(Math.log(i)/Math.log(1024)),a.length-1),c=Number(i/Math.pow(1024,l)),u=a[l];return"".concat(c>=10||c%1==0?Math.round(c):c.toFixed(1)," ").concat(u)}},78347:(t,r,i)=>{"use strict";i(46518)({target:"Object",stat:!0},{hasOwn:i(39297)})},78350:(t,r,i)=>{"use strict";var o=i(46518),a=i(70259),l=i(79306),c=i(48981),u=i(26198),p=i(1469);o({target:"Array",proto:!0},{flatMap:function flatMap(t){var r,i=c(this),o=u(i);return l(t),(r=p(i,0)).length=a(r,i,i,o,0,1,t,arguments.length>1?arguments[1]:void 0),r}})},78766:(t,r,i)=>{var o=i(89990),a=i(86836),l=i(286);t.exports=function isSymbol(t){return"symbol"==o(t)||l(t)&&"[object Symbol]"==a(t)}},79876:(t,r,i)=>{i(27495),i(90906);var o=/\s/;t.exports=function trimmedEndIndex(t){for(var r=t.length;r--&&o.test(t.charAt(r)););return r}},83237:(t,r,i)=>{"use strict";i(70511)("replace")},85416:(t,r,i)=>{"use strict";i.d(r,{w:()=>a,I:()=>o});i(28706),i(76918),i(23288),i(26099),i(38781);function pad(t){return t<10?"0".concat(t):t.toString()}function getTimeStamp(){var t=new Date,r=pad(t.getHours()),i=pad(t.getMinutes()),o=pad(t.getSeconds());return"".concat(r,":").concat(i,":").concat(o)}var o={debug:function debug(){},warn:function warn(){},error:function error(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=console).error.apply(t,["[Uppy] [".concat(getTimeStamp(),"]")].concat(i))}},a={debug:function debug(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=console).debug.apply(t,["[Uppy] [".concat(getTimeStamp(),"]")].concat(i))},warn:function warn(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=console).warn.apply(t,["[Uppy] [".concat(getTimeStamp(),"]")].concat(i))},error:function error(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=console).error.apply(t,["[Uppy] [".concat(getTimeStamp(),"]")].concat(i))}}},86836:(t,r,i)=>{var o=i(46133),a=i(42631),l=i(99218),c=o?o.toStringTag:void 0;t.exports=function baseGetTag(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":c&&c in Object(t)?a(t):l(t)}},93224:(t,r,i)=>{var o=i(42785);t.exports=function now(){return o.Date.now()}},99218:(t,r,i)=>{i(76918),i(23288),i(26099),i(38781);var o=Object.prototype.toString;t.exports=function objectToString(t){return o.call(t)}}}]);
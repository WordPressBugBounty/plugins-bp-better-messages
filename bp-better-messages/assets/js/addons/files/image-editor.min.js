/*! For license information please see image-editor.min.js.LICENSE.txt */
(this.webpackChunkBetterMessages=this.webpackChunkBetterMessages||[]).push([["uppy-image-editor"],{23677:(t,i,n)=>{"use strict";n.d(i,{A:()=>R});var a=n(58237),r=n(84285),o=n(68119),s=n(36858),h=n(31061),l=n(46983),c=(n(16280),n(76918),n(28706),n(84185),n(26099),n(3362),n(60825),n(36480)),p=n(18180);const u=function findDOMElement(t,i){return void 0===i&&(i=document),"string"==typeof t?i.querySelector(t):function isDOMElement(t){return"object"===(0,p.A)(t)&&null!==t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}(t)?t:null};const f=function getTextDirection(t){for(var i;t&&!t.dir;)t=t.parentNode;return null==(i=t)?void 0:i.dir};var v=n(32744);function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var y=0;function _classPrivateFieldLooseKey(t){return"__private_"+y+++"_"+t}var w=_classPrivateFieldLooseKey("updateUI");const R=function(t){function UIPlugin(){var t;return(0,a.A)(this,UIPlugin),t=function _callSuper(t,i,n){return i=(0,s.A)(i),(0,o.A)(t,_isNativeReflectConstruct()?Reflect.construct(i,n||[],(0,s.A)(t).constructor):i.apply(t,n))}(this,UIPlugin,arguments),Object.defineProperty(t,w,{writable:!0,value:void 0}),t}return(0,h.A)(UIPlugin,t),(0,r.A)(UIPlugin,[{key:"getTargetPlugin",value:function getTargetPlugin(t){var i;if("function"==typeof(null==t?void 0:t.addTarget))(i=t)instanceof UIPlugin||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:i,UIPlugin}}));else if("function"==typeof t){var n=t;this.uppy.iteratePlugins(function(t){t instanceof n&&(i=t)})}return i}},{key:"mount",value:function mount(t,i){var n=this,a=i.id,r=u(t);if(r){this.isTargetDOMEl=!0;var o=document.createElement("div");return o.classList.add("uppy-Root"),_classPrivateFieldLooseBase(this,w)[w]=function debounce(t){var i,n=null;return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return i=r,n||(n=Promise.resolve().then(function(){return n=null,t.apply(void 0,(0,l.A)(i))})),n}}(function(t){n.uppy.getPlugin(n.id)&&((0,c.XX)(n.render(t),o),n.afterUpdate())}),this.uppy.log("Installing ".concat(a," to a DOM element '").concat(t,"'")),this.opts.replaceTargetContent&&(r.innerHTML=""),(0,c.XX)(this.render(this.uppy.getState()),o),this.el=o,r.appendChild(o),o.dir=this.opts.direction||f(o)||"ltr",this.onMount(),this.el}var s=this.getTargetPlugin(t);if(s)return this.uppy.log("Installing ".concat(a," to ").concat(s.id)),this.parent=s,this.el=s.addTarget(i),this.onMount(),this.el;this.uppy.log("Not installing ".concat(a));var h="Invalid target option given to ".concat(a,".");throw h+="function"==typeof t?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(h)}},{key:"render",value:function render(t){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function update(t){var i,n;null!=this.el&&(null==(i=(n=_classPrivateFieldLooseBase(this,w))[w])||i.call(n,t))}},{key:"unmount",value:function unmount(){var t;this.isTargetDOMEl&&(null==(t=this.el)||t.remove());this.onUnmount()}},{key:"onMount",value:function onMount(){}},{key:"onUnmount",value:function onUnmount(){}}])}(v.A)},31073:(t,i,n)=>{"use strict";n(70511)("split")},32744:(t,i,n)=>{"use strict";n.d(i,{A:()=>h});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(98992),n(54520),n(3949),n(23500);var a=n(51531),r=n(58237),o=n(84285),s=(n(16280),n(76918),n(94170),n(54024));function ownKeys(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(n),!0).forEach(function(i){(0,a.A)(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var h=function(){return(0,o.A)(function BasePlugin(t,i){(0,r.A)(this,BasePlugin),this.uppy=t,this.opts=null!=i?i:{}},[{key:"getPluginState",value:function getPluginState(){var t=this.uppy.getState().plugins;return(null==t?void 0:t[this.id])||{}}},{key:"setPluginState",value:function setPluginState(t){if(t){var i=this.uppy.getState().plugins;this.uppy.setState({plugins:_objectSpread(_objectSpread({},i),{},(0,a.A)({},this.id,_objectSpread(_objectSpread({},i[this.id]),t)))})}}},{key:"setOptions",value:function setOptions(t){this.opts=_objectSpread(_objectSpread({},this.opts),t),this.setPluginState(void 0),this.i18nInit()}},{key:"i18nInit",value:function i18nInit(){var t=new s.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}},{key:"addTarget",value:function addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function install(){}},{key:"uninstall",value:function uninstall(){}},{key:"update",value:function update(t){}},{key:"afterUpdate",value:function afterUpdate(){}}])}()},34383:function(t,i,n){var a,r,o,s=n(89990);n(52675),n(89463),n(2259),n(16280),n(76918),n(28706),n(2008),n(51629),n(23418),n(25276),n(64346),n(23792),n(48598),n(62062),n(44114),n(34782),n(26910),n(54743),n(11745),n(38309),n(23288),n(94170),n(62010),n(2892),n(40150),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(27495),n(90906),n(38781),n(47764),n(71761),n(25440),n(90744),n(42762),n(21489),n(48140),n(81630),n(72170),n(75044),n(69539),n(31694),n(89955),n(21903),n(91134),n(33206),n(44496),n(66651),n(12887),n(19369),n(66812),n(8995),n(31575),n(36072),n(88747),n(28845),n(29423),n(57301),n(373),n(86614),n(41405),n(33684),n(98992),n(54520),n(3949),n(43250),n(10149),n(24082),n(2945),n(42207),n(23500),n(62953),n(55815),n(64979),n(79739),n(13611),n(76031),o=function(){"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _defineProperty(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}function ownKeys(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function _objectSpread2(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(n),!0).forEach(function(i){_defineProperty(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,i):void 0}}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,a=new Array(i);n<i;n++)a[n]=t[n];return a}var t="undefined"!=typeof window&&void 0!==window.document,i=t?window:{},n=!(!t||!i.document.documentElement)&&"ontouchstart"in i.document.documentElement,a=!!t&&"PointerEvent"in i,r="cropper",o="all",s="crop",h="move",l="zoom",c="e",p="w",u="s",f="n",v="ne",y="nw",w="se",R="sw",W="".concat(r,"-crop"),U="".concat(r,"-disabled"),X="".concat(r,"-hidden"),Y="".concat(r,"-hide"),Z="".concat(r,"-invisible"),Q="".concat(r,"-modal"),J="".concat(r,"-move"),tt="".concat(r,"Action"),et="".concat(r,"Preview"),it="crop",nt="move",at="none",rt="crop",ot="cropend",st="cropmove",ht="cropstart",lt="dblclick",ct=a?"pointerdown":n?"touchstart":"mousedown",pt=a?"pointermove":n?"touchmove":"mousemove",ut=a?"pointerup pointercancel":n?"touchend touchcancel":"mouseup",dt="ready",ft="resize",mt="wheel",gt="zoom",vt="image/jpeg",yt=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,_t=/^data:/,bt=/^data:image\/jpeg;base64,/,wt=/^img|canvas$/i,Ct={viewMode:0,dragMode:it,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},xt=Number.isNaN||i.isNaN;function isNumber(t){return"number"==typeof t&&!xt(t)}var Dt=function isPositiveNumber(t){return t>0&&t<1/0};function isUndefined(t){return void 0===t}function isObject(t){return"object"===_typeof(t)&&null!==t}var Mt=Object.prototype.hasOwnProperty;function isPlainObject(t){if(!isObject(t))return!1;try{var i=t.constructor,n=i.prototype;return i&&n&&Mt.call(n,"isPrototypeOf")}catch(t){return!1}}function isFunction(t){return"function"==typeof t}var kt=Array.prototype.slice;function toArray(t){return Array.from?Array.from(t):kt.call(t)}function forEach(t,i){return t&&isFunction(i)&&(Array.isArray(t)||isNumber(t.length)?toArray(t).forEach(function(n,a){i.call(t,n,a,t)}):isObject(t)&&Object.keys(t).forEach(function(n){i.call(t,t[n],n,t)})),t}var Ot=Object.assign||function assign(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return isObject(t)&&n.length>0&&n.forEach(function(i){isObject(i)&&Object.keys(i).forEach(function(n){t[n]=i[n]})}),t},Et=/\.\d*(?:0|9){12}\d*$/;function normalizeDecimalNumber(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Et.test(t)?Math.round(t*i)/i:t}var Pt=/^width|height|left|top|marginLeft|marginTop$/;function setStyle(t,i){var n=t.style;forEach(i,function(t,i){Pt.test(i)&&isNumber(t)&&(t="".concat(t,"px")),n[i]=t})}function addClass(t,i){if(i)if(isNumber(t.length))forEach(t,function(t){addClass(t,i)});else if(t.classList)t.classList.add(i);else{var n=t.className.trim();n?n.indexOf(i)<0&&(t.className="".concat(n," ").concat(i)):t.className=i}}function removeClass(t,i){i&&(isNumber(t.length)?forEach(t,function(t){removeClass(t,i)}):t.classList?t.classList.remove(i):t.className.indexOf(i)>=0&&(t.className=t.className.replace(i,"")))}function toggleClass(t,i,n){i&&(isNumber(t.length)?forEach(t,function(t){toggleClass(t,i,n)}):n?addClass(t,i):removeClass(t,i))}var St=/([a-z\d])([A-Z])/g;function toParamCase(t){return t.replace(St,"$1-$2").toLowerCase()}function getData(t,i){return isObject(t[i])?t[i]:t.dataset?t.dataset[i]:t.getAttribute("data-".concat(toParamCase(i)))}function setData(t,i,n){isObject(n)?t[i]=n:t.dataset?t.dataset[i]=n:t.setAttribute("data-".concat(toParamCase(i)),n)}var Nt=/\s\s*/,jt=function(){var n=!1;if(t){var a=!1,r=function listener(){},o=Object.defineProperty({},"once",{get:function get(){return n=!0,a},set:function set(t){a=t}});i.addEventListener("test",r,o),i.removeEventListener("test",r,o)}return n}();function removeListener(t,i,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;i.trim().split(Nt).forEach(function(i){if(!jt){var o=t.listeners;o&&o[i]&&o[i][n]&&(r=o[i][n],delete o[i][n],0===Object.keys(o[i]).length&&delete o[i],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(i,r,a)})}function addListener(t,i,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;i.trim().split(Nt).forEach(function(i){if(a.once&&!jt){var o=t.listeners,s=void 0===o?{}:o;r=function handler(){delete s[i][n],t.removeEventListener(i,r,a);for(var o=arguments.length,h=new Array(o),l=0;l<o;l++)h[l]=arguments[l];n.apply(t,h)},s[i]||(s[i]={}),s[i][n]&&t.removeEventListener(i,s[i][n],a),s[i][n]=r,t.listeners=s}t.addEventListener(i,r,a)})}function dispatchEvent(t,i,n){var a;return isFunction(Event)&&isFunction(CustomEvent)?a=new CustomEvent(i,{detail:n,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent")).initCustomEvent(i,!0,!0,n),t.dispatchEvent(a)}function getOffset(t){var i=t.getBoundingClientRect();return{left:i.left+(window.pageXOffset-document.documentElement.clientLeft),top:i.top+(window.pageYOffset-document.documentElement.clientTop)}}var Lt=i.location,Tt=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function isCrossOriginURL(t){var i=t.match(Tt);return null!==i&&(i[1]!==Lt.protocol||i[2]!==Lt.hostname||i[3]!==Lt.port)}function addTimestamp(t){var i="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+i}function getTransforms(t){var i=t.rotate,n=t.scaleX,a=t.scaleY,r=t.translateX,o=t.translateY,s=[];isNumber(r)&&0!==r&&s.push("translateX(".concat(r,"px)")),isNumber(o)&&0!==o&&s.push("translateY(".concat(o,"px)")),isNumber(i)&&0!==i&&s.push("rotate(".concat(i,"deg)")),isNumber(n)&&1!==n&&s.push("scaleX(".concat(n,")")),isNumber(a)&&1!==a&&s.push("scaleY(".concat(a,")"));var h=s.length?s.join(" "):"none";return{WebkitTransform:h,msTransform:h,transform:h}}function getPointer(t,i){var n=t.pageX,a=t.pageY,r={endX:n,endY:a};return i?r:_objectSpread2({startX:n,startY:a},r)}function getAdjustedSizes(t){var i=t.aspectRatio,n=t.height,a=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=Dt(a),s=Dt(n);if(o&&s){var h=n*i;"contain"===r&&h>a||"cover"===r&&h<a?n=a/i:a=n*i}else o?n=a/i:s&&(a=n*i);return{width:a,height:n}}var zt=String.fromCharCode,At=/^data:.*,/;function resetAndGetOrientation(t){var i,n=new DataView(t);try{var a,r,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var s=n.byteLength,h=2;h+1<s;){if(255===n.getUint8(h)&&225===n.getUint8(h+1)){r=h;break}h+=1}if(r){var l=r+10;if("Exif"===function getStringFromCharCode(t,i,n){var a="";n+=i;for(var r=i;r<n;r+=1)a+=zt(t.getUint8(r));return a}(n,r+4,4)){var c=n.getUint16(l);if(((a=18761===c)||19789===c)&&42===n.getUint16(l+2,a)){var p=n.getUint32(l+4,a);p>=8&&(o=l+p)}}}if(o){var u,f,v=n.getUint16(o,a);for(f=0;f<v;f+=1)if(u=o+12*f+2,274===n.getUint16(u,a)){u+=8,i=n.getUint16(u,a),n.setUint16(u,1,a);break}}}catch(t){i=1}return i}var Bt={render:function render(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function initContainer(){var t=this.element,i=this.options,n=this.container,a=this.cropper;addClass(a,X),removeClass(t,X);var r={width:Math.max(n.offsetWidth,Number(i.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(i.minContainerHeight)||100)};this.containerData=r,setStyle(a,{width:r.width,height:r.height}),addClass(t,X),removeClass(a,X)},initCanvas:function initCanvas(){var t=this.containerData,i=this.imageData,n=this.options.viewMode,a=Math.abs(i.rotate)%180==90,r=a?i.naturalHeight:i.naturalWidth,o=a?i.naturalWidth:i.naturalHeight,s=r/o,h=t.width,l=t.height;t.height*s>t.width?3===n?h=t.height*s:l=t.width/s:3===n?l=t.width/s:h=t.height*s;var c={aspectRatio:s,naturalWidth:r,naturalHeight:o,width:h,height:l};c.left=(t.width-h)/2,c.top=(t.height-l)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImageData=Ot({},i),this.initialCanvasData=Ot({},c)},limitCanvas:function limitCanvas(t,i){var n=this.options,a=this.containerData,r=this.canvasData,o=this.cropBoxData,s=n.viewMode,h=r.aspectRatio,l=this.cropped&&o;if(t){var c=Number(n.minCanvasWidth)||0,p=Number(n.minCanvasHeight)||0;s>1?(c=Math.max(c,a.width),p=Math.max(p,a.height),3===s&&(p*h>c?c=p*h:p=c/h)):s>0&&(c?c=Math.max(c,l?o.width:0):p?p=Math.max(p,l?o.height:0):l&&(c=o.width,(p=o.height)*h>c?c=p*h:p=c/h));var u=getAdjustedSizes({aspectRatio:h,width:c,height:p});c=u.width,p=u.height,r.minWidth=c,r.minHeight=p,r.maxWidth=1/0,r.maxHeight=1/0}if(i)if(s>(l?0:1)){var f=a.width-r.width,v=a.height-r.height;r.minLeft=Math.min(0,f),r.minTop=Math.min(0,v),r.maxLeft=Math.max(0,f),r.maxTop=Math.max(0,v),l&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,2===s&&(r.width>=a.width&&(r.minLeft=Math.min(0,f),r.maxLeft=Math.max(0,f)),r.height>=a.height&&(r.minTop=Math.min(0,v),r.maxTop=Math.max(0,v))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=a.width,r.maxTop=a.height},renderCanvas:function renderCanvas(t,i){var n=this.canvasData,a=this.imageData;if(i){var r=function getRotatedSizes(t){var i=t.width,n=t.height,a=t.degree;if(90==(a=Math.abs(a)%180))return{width:n,height:i};var r=a%90*Math.PI/180,o=Math.sin(r),s=Math.cos(r),h=i*s+n*o,l=i*o+n*s;return a>90?{width:l,height:h}:{width:h,height:l}}({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),o=r.width,s=r.height,h=n.width*(o/n.naturalWidth),l=n.height*(s/n.naturalHeight);n.left-=(h-n.width)/2,n.top-=(l-n.height)/2,n.width=h,n.height=l,n.aspectRatio=o/s,n.naturalWidth=o,n.naturalHeight=s,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,setStyle(this.canvas,Ot({width:n.width,height:n.height},getTransforms({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function renderImage(t){var i=this.canvasData,n=this.imageData,a=n.naturalWidth*(i.width/i.naturalWidth),r=n.naturalHeight*(i.height/i.naturalHeight);Ot(n,{width:a,height:r,left:(i.width-a)/2,top:(i.height-r)/2}),setStyle(this.image,Ot({width:n.width,height:n.height},getTransforms(Ot({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function initCropBox(){var t=this.options,i=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,a=Number(t.autoCropArea)||.8,r={width:i.width,height:i.height};n&&(i.height*n>i.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*a),r.height=Math.max(r.minHeight,r.height*a),r.left=i.left+(i.width-r.width)/2,r.top=i.top+(i.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=Ot({},r)},limitCropBox:function limitCropBox(t,i){var n=this.options,a=this.containerData,r=this.canvasData,o=this.cropBoxData,s=this.limited,h=n.aspectRatio;if(t){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,p=s?Math.min(a.width,r.width,r.width+r.left,a.width-r.left):a.width,u=s?Math.min(a.height,r.height,r.height+r.top,a.height-r.top):a.height;l=Math.min(l,a.width),c=Math.min(c,a.height),h&&(l&&c?c*h>l?c=l/h:l=c*h:l?c=l/h:c&&(l=c*h),u*h>p?u=p/h:p=u*h),o.minWidth=Math.min(l,p),o.minHeight=Math.min(c,u),o.maxWidth=p,o.maxHeight=u}i&&(s?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(a.width,r.left+r.width)-o.width,o.maxTop=Math.min(a.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=a.width-o.width,o.maxTop=a.height-o.height))},renderCropBox:function renderCropBox(){var t=this.options,i=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&setData(this.face,tt,n.width>=i.width&&n.height>=i.height?h:o),setStyle(this.cropBox,Ot({width:n.width,height:n.height},getTransforms({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function output(){this.preview(),dispatchEvent(this.element,rt,this.getData())}},Rt={initPreview:function initPreview(){var t=this.element,i=this.crossOrigin,n=this.options.preview,a=i?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",o=document.createElement("img");if(i&&(o.crossOrigin=i),o.src=a,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,n){var s=n;"string"==typeof n?s=t.ownerDocument.querySelectorAll(n):n.querySelector&&(s=[n]),this.previews=s,forEach(s,function(t){var n=document.createElement("img");setData(t,et,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),i&&(n.crossOrigin=i),n.src=a,n.alt=r,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(n)})}},resetPreview:function resetPreview(){forEach(this.previews,function(t){var i=getData(t,et);setStyle(t,{width:i.width,height:i.height}),t.innerHTML=i.html,function removeData(t,i){if(isObject(t[i]))try{delete t[i]}catch(n){t[i]=void 0}else if(t.dataset)try{delete t.dataset[i]}catch(n){t.dataset[i]=void 0}else t.removeAttribute("data-".concat(toParamCase(i)))}(t,et)})},preview:function preview(){var t=this.imageData,i=this.canvasData,n=this.cropBoxData,a=n.width,r=n.height,o=t.width,s=t.height,h=n.left-i.left-t.left,l=n.top-i.top-t.top;this.cropped&&!this.disabled&&(setStyle(this.viewBoxImage,Ot({width:o,height:s},getTransforms(Ot({translateX:-h,translateY:-l},t)))),forEach(this.previews,function(i){var n=getData(i,et),c=n.width,p=n.height,u=c,f=p,v=1;a&&(f=r*(v=c/a)),r&&f>p&&(u=a*(v=p/r),f=p),setStyle(i,{width:u,height:f}),setStyle(i.getElementsByTagName("img")[0],Ot({width:o*v,height:s*v},getTransforms(Ot({translateX:-h*v,translateY:-l*v},t))))}))}},It={bind:function bind(){var t=this.element,i=this.options,n=this.cropper;isFunction(i.cropstart)&&addListener(t,ht,i.cropstart),isFunction(i.cropmove)&&addListener(t,st,i.cropmove),isFunction(i.cropend)&&addListener(t,ot,i.cropend),isFunction(i.crop)&&addListener(t,rt,i.crop),isFunction(i.zoom)&&addListener(t,gt,i.zoom),addListener(n,ct,this.onCropStart=this.cropStart.bind(this)),i.zoomable&&i.zoomOnWheel&&addListener(n,mt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&addListener(n,lt,this.onDblclick=this.dblclick.bind(this)),addListener(t.ownerDocument,pt,this.onCropMove=this.cropMove.bind(this)),addListener(t.ownerDocument,ut,this.onCropEnd=this.cropEnd.bind(this)),i.responsive&&addListener(window,ft,this.onResize=this.resize.bind(this))},unbind:function unbind(){var t=this.element,i=this.options,n=this.cropper;isFunction(i.cropstart)&&removeListener(t,ht,i.cropstart),isFunction(i.cropmove)&&removeListener(t,st,i.cropmove),isFunction(i.cropend)&&removeListener(t,ot,i.cropend),isFunction(i.crop)&&removeListener(t,rt,i.crop),isFunction(i.zoom)&&removeListener(t,gt,i.zoom),removeListener(n,ct,this.onCropStart),i.zoomable&&i.zoomOnWheel&&removeListener(n,mt,this.onWheel,{passive:!1,capture:!0}),i.toggleDragModeOnDblclick&&removeListener(n,lt,this.onDblclick),removeListener(t.ownerDocument,pt,this.onCropMove),removeListener(t.ownerDocument,ut,this.onCropEnd),i.responsive&&removeListener(window,ft,this.onResize)}},Ht={resize:function resize(){if(!this.disabled){var t,i,n=this.options,a=this.container,r=this.containerData,o=a.offsetWidth/r.width;1===o&&a.offsetHeight===r.height||(n.restore&&(t=this.getCanvasData(),i=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(forEach(t,function(i,n){t[n]=i*o})),this.setCropBoxData(forEach(i,function(t,n){i[n]=t*o}))))}},dblclick:function dblclick(){this.disabled||this.options.dragMode===at||this.setDragMode(function hasClass(t,i){return t.classList?t.classList.contains(i):t.className.indexOf(i)>-1}(this.dragBox,W)?nt:it)},wheel:function wheel(t){var i=this,n=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50),t.deltaY?a=t.deltaY>0?1:-1:t.wheelDelta?a=-t.wheelDelta/120:t.detail&&(a=t.detail>0?1:-1),this.zoom(-a*n,t)))},cropStart:function cropStart(t){var i=t.buttons,n=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(isNumber(i)&&1!==i||isNumber(n)&&0!==n||t.ctrlKey))){var a,r=this.options,o=this.pointers;t.changedTouches?forEach(t.changedTouches,function(t){o[t.identifier]=getPointer(t)}):o[t.pointerId||0]=getPointer(t),a=Object.keys(o).length>1&&r.zoomable&&r.zoomOnTouch?l:getData(t.target,tt),yt.test(a)&&!1!==dispatchEvent(this.element,ht,{originalEvent:t,action:a})&&(t.preventDefault(),this.action=a,this.cropping=!1,a===s&&(this.cropping=!0,addClass(this.dragBox,Q)))}},cropMove:function cropMove(t){var i=this.action;if(!this.disabled&&i){var n=this.pointers;t.preventDefault(),!1!==dispatchEvent(this.element,st,{originalEvent:t,action:i})&&(t.changedTouches?forEach(t.changedTouches,function(t){Ot(n[t.identifier]||{},getPointer(t,!0))}):Ot(n[t.pointerId||0]||{},getPointer(t,!0)),this.change(t))}},cropEnd:function cropEnd(t){if(!this.disabled){var i=this.action,n=this.pointers;t.changedTouches?forEach(t.changedTouches,function(t){delete n[t.identifier]}):delete n[t.pointerId||0],i&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,toggleClass(this.dragBox,Q,this.cropped&&this.options.modal)),dispatchEvent(this.element,ot,{originalEvent:t,action:i}))}}},Wt={change:function change(t){var i,n=this.options,a=this.canvasData,r=this.containerData,W=this.cropBoxData,U=this.pointers,Y=this.action,Z=n.aspectRatio,Q=W.left,J=W.top,tt=W.width,et=W.height,it=Q+tt,nt=J+et,at=0,rt=0,ot=r.width,st=r.height,ht=!0;!Z&&t.shiftKey&&(Z=tt&&et?tt/et:1),this.limited&&(at=W.minLeft,rt=W.minTop,ot=at+Math.min(r.width,a.width,a.left+a.width),st=rt+Math.min(r.height,a.height,a.top+a.height));var lt=U[Object.keys(U)[0]],ct={x:lt.endX-lt.startX,y:lt.endY-lt.startY},pt=function check(t){switch(t){case c:it+ct.x>ot&&(ct.x=ot-it);break;case p:Q+ct.x<at&&(ct.x=at-Q);break;case f:J+ct.y<rt&&(ct.y=rt-J);break;case u:nt+ct.y>st&&(ct.y=st-nt)}};switch(Y){case o:Q+=ct.x,J+=ct.y;break;case c:if(ct.x>=0&&(it>=ot||Z&&(J<=rt||nt>=st))){ht=!1;break}pt(c),(tt+=ct.x)<0&&(Y=p,Q-=tt=-tt),Z&&(et=tt/Z,J+=(W.height-et)/2);break;case f:if(ct.y<=0&&(J<=rt||Z&&(Q<=at||it>=ot))){ht=!1;break}pt(f),et-=ct.y,J+=ct.y,et<0&&(Y=u,J-=et=-et),Z&&(tt=et*Z,Q+=(W.width-tt)/2);break;case p:if(ct.x<=0&&(Q<=at||Z&&(J<=rt||nt>=st))){ht=!1;break}pt(p),tt-=ct.x,Q+=ct.x,tt<0&&(Y=c,Q-=tt=-tt),Z&&(et=tt/Z,J+=(W.height-et)/2);break;case u:if(ct.y>=0&&(nt>=st||Z&&(Q<=at||it>=ot))){ht=!1;break}pt(u),(et+=ct.y)<0&&(Y=f,J-=et=-et),Z&&(tt=et*Z,Q+=(W.width-tt)/2);break;case v:if(Z){if(ct.y<=0&&(J<=rt||it>=ot)){ht=!1;break}pt(f),et-=ct.y,J+=ct.y,tt=et*Z}else pt(f),pt(c),ct.x>=0?it<ot?tt+=ct.x:ct.y<=0&&J<=rt&&(ht=!1):tt+=ct.x,ct.y<=0?J>rt&&(et-=ct.y,J+=ct.y):(et-=ct.y,J+=ct.y);tt<0&&et<0?(Y=R,J-=et=-et,Q-=tt=-tt):tt<0?(Y=y,Q-=tt=-tt):et<0&&(Y=w,J-=et=-et);break;case y:if(Z){if(ct.y<=0&&(J<=rt||Q<=at)){ht=!1;break}pt(f),et-=ct.y,J+=ct.y,tt=et*Z,Q+=W.width-tt}else pt(f),pt(p),ct.x<=0?Q>at?(tt-=ct.x,Q+=ct.x):ct.y<=0&&J<=rt&&(ht=!1):(tt-=ct.x,Q+=ct.x),ct.y<=0?J>rt&&(et-=ct.y,J+=ct.y):(et-=ct.y,J+=ct.y);tt<0&&et<0?(Y=w,J-=et=-et,Q-=tt=-tt):tt<0?(Y=v,Q-=tt=-tt):et<0&&(Y=R,J-=et=-et);break;case R:if(Z){if(ct.x<=0&&(Q<=at||nt>=st)){ht=!1;break}pt(p),tt-=ct.x,Q+=ct.x,et=tt/Z}else pt(u),pt(p),ct.x<=0?Q>at?(tt-=ct.x,Q+=ct.x):ct.y>=0&&nt>=st&&(ht=!1):(tt-=ct.x,Q+=ct.x),ct.y>=0?nt<st&&(et+=ct.y):et+=ct.y;tt<0&&et<0?(Y=v,J-=et=-et,Q-=tt=-tt):tt<0?(Y=w,Q-=tt=-tt):et<0&&(Y=y,J-=et=-et);break;case w:if(Z){if(ct.x>=0&&(it>=ot||nt>=st)){ht=!1;break}pt(c),et=(tt+=ct.x)/Z}else pt(u),pt(c),ct.x>=0?it<ot?tt+=ct.x:ct.y>=0&&nt>=st&&(ht=!1):tt+=ct.x,ct.y>=0?nt<st&&(et+=ct.y):et+=ct.y;tt<0&&et<0?(Y=y,J-=et=-et,Q-=tt=-tt):tt<0?(Y=R,Q-=tt=-tt):et<0&&(Y=v,J-=et=-et);break;case h:this.move(ct.x,ct.y),ht=!1;break;case l:this.zoom(function getMaxZoomRatio(t){var i=_objectSpread2({},t),n=[];return forEach(t,function(t,a){delete i[a],forEach(i,function(i){var a=Math.abs(t.startX-i.startX),r=Math.abs(t.startY-i.startY),o=Math.abs(t.endX-i.endX),s=Math.abs(t.endY-i.endY),h=Math.sqrt(a*a+r*r),l=(Math.sqrt(o*o+s*s)-h)/h;n.push(l)})}),n.sort(function(t,i){return Math.abs(t)<Math.abs(i)}),n[0]}(U),t),ht=!1;break;case s:if(!ct.x||!ct.y){ht=!1;break}i=getOffset(this.cropper),Q=lt.startX-i.left,J=lt.startY-i.top,tt=W.minWidth,et=W.minHeight,ct.x>0?Y=ct.y>0?w:v:ct.x<0&&(Q-=tt,Y=ct.y>0?R:y),ct.y<0&&(J-=et),this.cropped||(removeClass(this.cropBox,X),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}ht&&(W.width=tt,W.height=et,W.left=Q,W.top=J,this.action=Y,this.renderCropBox()),forEach(U,function(t){t.startX=t.endX,t.startY=t.endY})}},Ut={crop:function crop(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&addClass(this.dragBox,Q),removeClass(this.cropBox,X),this.setCropBoxData(this.initialCropBoxData)),this},reset:function reset(){return this.ready&&!this.disabled&&(this.imageData=Ot({},this.initialImageData),this.canvasData=Ot({},this.initialCanvasData),this.cropBoxData=Ot({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function clear(){return this.cropped&&!this.disabled&&(Ot(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),removeClass(this.dragBox,Q),addClass(this.cropBox,X)),this},replace:function replace(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),i?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,forEach(this.previews,function(i){i.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function enable(){return this.ready&&this.disabled&&(this.disabled=!1,removeClass(this.cropper,U)),this},disable:function disable(){return this.ready&&!this.disabled&&(this.disabled=!0,addClass(this.cropper,U)),this},destroy:function destroy(){var t=this.element;return t[r]?(t[r]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function move(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,a=n.left,r=n.top;return this.moveTo(isUndefined(t)?t:a+Number(t),isUndefined(i)?i:r+Number(i))},moveTo:function moveTo(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,a=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.movable&&(isNumber(t)&&(n.left=t,a=!0),isNumber(i)&&(n.top=i,a=!0),a&&this.renderCanvas(!0)),this},zoom:function zoom(t,i){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,i)},zoomTo:function zoomTo(t,i,n){var a=this.options,r=this.canvasData,o=r.width,s=r.height,h=r.naturalWidth,l=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&a.zoomable){var c=h*t,p=l*t;if(!1===dispatchEvent(this.element,gt,{ratio:t,oldRatio:o/h,originalEvent:n}))return this;if(n){var u=this.pointers,f=getOffset(this.cropper),v=u&&Object.keys(u).length?function getPointersCenter(t){var i=0,n=0,a=0;return forEach(t,function(t){var r=t.startX,o=t.startY;i+=r,n+=o,a+=1}),{pageX:i/=a,pageY:n/=a}}(u):{pageX:n.pageX,pageY:n.pageY};r.left-=(c-o)*((v.pageX-f.left-r.left)/o),r.top-=(p-s)*((v.pageY-f.top-r.top)/s)}else isPlainObject(i)&&isNumber(i.x)&&isNumber(i.y)?(r.left-=(c-o)*((i.x-r.left)/o),r.top-=(p-s)*((i.y-r.top)/s)):(r.left-=(c-o)/2,r.top-=(p-s)/2);r.width=c,r.height=p,this.renderCanvas(!0)}return this},rotate:function rotate(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function rotateTo(t){return isNumber(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function scaleX(t){var i=this.imageData.scaleY;return this.scale(t,isNumber(i)?i:1)},scaleY:function scaleY(t){var i=this.imageData.scaleX;return this.scale(isNumber(i)?i:1,t)},scale:function scale(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData,a=!1;return t=Number(t),i=Number(i),this.ready&&!this.disabled&&this.options.scalable&&(isNumber(t)&&(n.scaleX=t,a=!0),isNumber(i)&&(n.scaleY=i,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function getData(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,a=this.imageData,r=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){t={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height};var s=a.width/a.naturalWidth;if(forEach(t,function(i,n){t[n]=i/s}),i){var h=Math.round(t.y+t.height),l=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=l-t.x,t.height=h-t.y}}else t={x:0,y:0,width:0,height:0};return n.rotatable&&(t.rotate=a.rotate||0),n.scalable&&(t.scaleX=a.scaleX||1,t.scaleY=a.scaleY||1),t},setData:function setData(t){var i=this.options,n=this.imageData,a=this.canvasData,r={};if(this.ready&&!this.disabled&&isPlainObject(t)){var o=!1;i.rotatable&&isNumber(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,o=!0),i.scalable&&(isNumber(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,o=!0),isNumber(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=n.width/n.naturalWidth;isNumber(t.x)&&(r.left=t.x*s+a.left),isNumber(t.y)&&(r.top=t.y*s+a.top),isNumber(t.width)&&(r.width=t.width*s),isNumber(t.height)&&(r.height=t.height*s),this.setCropBoxData(r)}return this},getContainerData:function getContainerData(){return this.ready?Ot({},this.containerData):{}},getImageData:function getImageData(){return this.sized?Ot({},this.imageData):{}},getCanvasData:function getCanvasData(){var t=this.canvasData,i={};return this.ready&&forEach(["left","top","width","height","naturalWidth","naturalHeight"],function(n){i[n]=t[n]}),i},setCanvasData:function setCanvasData(t){var i=this.canvasData,n=i.aspectRatio;return this.ready&&!this.disabled&&isPlainObject(t)&&(isNumber(t.left)&&(i.left=t.left),isNumber(t.top)&&(i.top=t.top),isNumber(t.width)?(i.width=t.width,i.height=t.width/n):isNumber(t.height)&&(i.height=t.height,i.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function getCropBoxData(){var t,i=this.cropBoxData;return this.ready&&this.cropped&&(t={left:i.left,top:i.top,width:i.width,height:i.height}),t||{}},setCropBoxData:function setCropBoxData(t){var i,n,a=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&isPlainObject(t)&&(isNumber(t.left)&&(a.left=t.left),isNumber(t.top)&&(a.top=t.top),isNumber(t.width)&&t.width!==a.width&&(i=!0,a.width=t.width),isNumber(t.height)&&t.height!==a.height&&(n=!0,a.height=t.height),r&&(i?a.height=a.width/r:n&&(a.width=a.height*r)),this.renderCropBox()),this},getCroppedCanvas:function getCroppedCanvas(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var i=this.canvasData,n=function getSourceCanvas(t,i,n,a){var r=i.aspectRatio,o=i.naturalWidth,s=i.naturalHeight,h=i.rotate,l=void 0===h?0:h,c=i.scaleX,p=void 0===c?1:c,u=i.scaleY,f=void 0===u?1:u,v=n.aspectRatio,y=n.naturalWidth,w=n.naturalHeight,R=a.fillColor,W=void 0===R?"transparent":R,U=a.imageSmoothingEnabled,X=void 0===U||U,Y=a.imageSmoothingQuality,Z=void 0===Y?"low":Y,Q=a.maxWidth,J=void 0===Q?1/0:Q,tt=a.maxHeight,et=void 0===tt?1/0:tt,it=a.minWidth,nt=void 0===it?0:it,at=a.minHeight,rt=void 0===at?0:at,ot=document.createElement("canvas"),st=ot.getContext("2d"),ht=getAdjustedSizes({aspectRatio:v,width:J,height:et}),lt=getAdjustedSizes({aspectRatio:v,width:nt,height:rt},"cover"),ct=Math.min(ht.width,Math.max(lt.width,y)),pt=Math.min(ht.height,Math.max(lt.height,w)),ut=getAdjustedSizes({aspectRatio:r,width:J,height:et}),dt=getAdjustedSizes({aspectRatio:r,width:nt,height:rt},"cover"),ft=Math.min(ut.width,Math.max(dt.width,o)),mt=Math.min(ut.height,Math.max(dt.height,s)),gt=[-ft/2,-mt/2,ft,mt];return ot.width=normalizeDecimalNumber(ct),ot.height=normalizeDecimalNumber(pt),st.fillStyle=W,st.fillRect(0,0,ct,pt),st.save(),st.translate(ct/2,pt/2),st.rotate(l*Math.PI/180),st.scale(p,f),st.imageSmoothingEnabled=X,st.imageSmoothingQuality=Z,st.drawImage.apply(st,[t].concat(_toConsumableArray(gt.map(function(t){return Math.floor(normalizeDecimalNumber(t))})))),st.restore(),ot}(this.image,this.imageData,i,t);if(!this.cropped)return n;var a=this.getData(),r=a.x,o=a.y,s=a.width,h=a.height,l=n.width/Math.floor(i.naturalWidth);1!==l&&(r*=l,o*=l,s*=l,h*=l);var c=s/h,p=getAdjustedSizes({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),u=getAdjustedSizes({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),f=getAdjustedSizes({aspectRatio:c,width:t.width||(1!==l?n.width:s),height:t.height||(1!==l?n.height:h)}),v=f.width,y=f.height;v=Math.min(p.width,Math.max(u.width,v)),y=Math.min(p.height,Math.max(u.height,y));var w=document.createElement("canvas"),R=w.getContext("2d");w.width=normalizeDecimalNumber(v),w.height=normalizeDecimalNumber(y),R.fillStyle=t.fillColor||"transparent",R.fillRect(0,0,v,y);var W=t.imageSmoothingEnabled,U=void 0===W||W,X=t.imageSmoothingQuality;R.imageSmoothingEnabled=U,X&&(R.imageSmoothingQuality=X);var Y,Z,Q,J,tt,et,it=n.width,nt=n.height,at=r,rt=o;at<=-s||at>it?(at=0,Y=0,Q=0,tt=0):at<=0?(Q=-at,at=0,tt=Y=Math.min(it,s+at)):at<=it&&(Q=0,tt=Y=Math.min(s,it-at)),Y<=0||rt<=-h||rt>nt?(rt=0,Z=0,J=0,et=0):rt<=0?(J=-rt,rt=0,et=Z=Math.min(nt,h+rt)):rt<=nt&&(J=0,et=Z=Math.min(h,nt-rt));var ot=[at,rt,Y,Z];if(tt>0&&et>0){var st=v/s;ot.push(Q*st,J*st,tt*st,et*st)}return R.drawImage.apply(R,[n].concat(_toConsumableArray(ot.map(function(t){return Math.floor(normalizeDecimalNumber(t))})))),w},setAspectRatio:function setAspectRatio(t){var i=this.options;return this.disabled||isUndefined(t)||(i.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function setDragMode(t){var i=this.options,n=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var r=t===it,o=i.movable&&t===nt;t=r||o?t:at,i.dragMode=t,setData(n,tt,t),toggleClass(n,W,r),toggleClass(n,J,o),i.cropBoxMovable||(setData(a,tt,t),toggleClass(a,W,r),toggleClass(a,J,o))}return this}},Ft=i.Cropper,Xt=function(){function Cropper(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,Cropper),!t||!wt.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Ot({},Ct,isPlainObject(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function _createClass(t,i,n){return i&&_defineProperties(t.prototype,i),n&&_defineProperties(t,n),t}(Cropper,[{key:"init",value:function init(){var t,i=this.element,n=i.tagName.toLowerCase();if(!i[r]){if(i[r]=this,"img"===n){if(this.isImg=!0,t=i.getAttribute("src")||"",this.originalUrl=t,!t)return;t=i.src}else"canvas"===n&&window.HTMLCanvasElement&&(t=i.toDataURL());this.load(t)}}},{key:"load",value:function load(t){var i=this;if(t){this.url=t,this.imageData={};var n=this.element,a=this.options;if(a.rotatable||a.scalable||(a.checkOrientation=!1),a.checkOrientation&&window.ArrayBuffer)if(_t.test(t))bt.test(t)?this.read(function dataURLToArrayBuffer(t){var i=t.replace(At,""),n=atob(i),a=new ArrayBuffer(n.length),r=new Uint8Array(a);return forEach(r,function(t,i){r[i]=n.charCodeAt(i)}),a}(t)):this.clone();else{var r=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=o,r.onerror=o,r.ontimeout=o,r.onprogress=function(){r.getResponseHeader("content-type")!==vt&&r.abort()},r.onload=function(){i.read(r.response)},r.onloadend=function(){i.reloading=!1,i.xhr=null},a.checkCrossOrigin&&isCrossOriginURL(t)&&n.crossOrigin&&(t=addTimestamp(t)),r.open("GET",t),r.responseType="arraybuffer",r.withCredentials="use-credentials"===n.crossOrigin,r.send()}else this.clone()}}},{key:"read",value:function read(t){var i=this.options,n=this.imageData,a=resetAndGetOrientation(t),r=0,o=1,s=1;if(a>1){this.url=function arrayBufferToDataURL(t,i){for(var n=[],a=new Uint8Array(t);a.length>0;)n.push(zt.apply(null,toArray(a.subarray(0,8192)))),a=a.subarray(8192);return"data:".concat(i,";base64,").concat(btoa(n.join("")))}(t,vt);var h=function parseOrientation(t){var i=0,n=1,a=1;switch(t){case 2:n=-1;break;case 3:i=-180;break;case 4:a=-1;break;case 5:i=90,a=-1;break;case 6:i=90;break;case 7:i=90,n=-1;break;case 8:i=-90}return{rotate:i,scaleX:n,scaleY:a}}(a);r=h.rotate,o=h.scaleX,s=h.scaleY}i.rotatable&&(n.rotate=r),i.scalable&&(n.scaleX=o,n.scaleY=s),this.clone()}},{key:"clone",value:function clone(){var t=this.element,i=this.url,n=t.crossOrigin,a=i;this.options.checkCrossOrigin&&isCrossOriginURL(i)&&(n||(n="anonymous"),a=addTimestamp(i)),this.crossOrigin=n,this.crossOriginUrl=a;var r=document.createElement("img");n&&(r.crossOrigin=n),r.src=a||i,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),addClass(r,Y),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function start(){var t=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var a=i.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(i.navigator.userAgent),r=function done(i,n){Ot(t.imageData,{naturalWidth:i,naturalHeight:n,aspectRatio:i/n}),t.sizing=!1,t.sized=!0,t.build()};if(!n.naturalWidth||a){var o=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),a||s.removeChild(o)},o.src=n.src,a||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(o))}else r(n.naturalWidth,n.naturalHeight)}},{key:"stop",value:function stop(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function build(){if(this.sized&&!this.ready){var t=this.element,i=this.options,n=this.image,a=t.parentNode,s=document.createElement("div");s.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var h=s.querySelector(".".concat(r,"-container")),l=h.querySelector(".".concat(r,"-canvas")),c=h.querySelector(".".concat(r,"-drag-box")),p=h.querySelector(".".concat(r,"-crop-box")),u=p.querySelector(".".concat(r,"-face"));this.container=a,this.cropper=h,this.canvas=l,this.dragBox=c,this.cropBox=p,this.viewBox=h.querySelector(".".concat(r,"-view-box")),this.face=u,l.appendChild(n),addClass(t,X),a.insertBefore(h,t.nextSibling),this.isImg||removeClass(n,Y),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,addClass(p,X),i.guides||addClass(p.getElementsByClassName("".concat(r,"-dashed")),X),i.center||addClass(p.getElementsByClassName("".concat(r,"-center")),X),i.background&&addClass(h,"".concat(r,"-bg")),i.highlight||addClass(u,Z),i.cropBoxMovable&&(addClass(u,J),setData(u,tt,o)),i.cropBoxResizable||(addClass(p.getElementsByClassName("".concat(r,"-line")),X),addClass(p.getElementsByClassName("".concat(r,"-point")),X)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),isFunction(i.ready)&&addListener(t,dt,i.ready,{once:!0}),dispatchEvent(t,dt)}}},{key:"unbuild",value:function unbuild(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),removeClass(this.element,X))}},{key:"uncreate",value:function uncreate(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function noConflict(){return window.Cropper=Ft,Cropper}},{key:"setDefaults",value:function setDefaults(t){Ot(Ct,isPlainObject(t)&&t)}}]),Cropper}();return Ot(Xt.prototype,Bt,Rt,It,Ht,Wt,Ut),Xt},"object"===s(i)?t.exports=o():void 0===(r="function"==typeof(a=o)?a.call(i,n,i,t):a)||(t.exports=r)},36480:(t,i,n)=>{"use strict";n.d(i,{FK:()=>k,Ob:()=>K,XX:()=>G,_3:()=>b,fF:()=>r,h:()=>_,uA:()=>x,v2:()=>H});var a,r,o,s,h,l,c,p,u,f,v,y=n(18180),w=(n(51629),n(25276),n(64346),n(23792),n(62062),n(44114),n(34782),n(15086),n(26910),n(94170),n(62010),n(26099),n(3362),n(27495),n(90906),n(31415),n(47764),n(25440),n(48718),n(98992),n(3949),n(81454),n(37550),n(23500),n(62953),n(76031),{}),R=[],W=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,U=Array.isArray;function d(t,i){for(var n in i)t[n]=i[n];return t}function g(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _(t,i,n){var r,o,s,h={};for(s in i)"key"==s?r=i[s]:"ref"==s?o=i[s]:h[s]=i[s];if(arguments.length>2&&(h.children=arguments.length>3?a.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(s in t.defaultProps)void 0===h[s]&&(h[s]=t.defaultProps[s]);return m(t,h,r,o,null)}function m(t,i,n,a,s){var h={type:t,props:i,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==s?++o:s,__i:-1,__u:0};return null==s&&null!=r.vnode&&r.vnode(h),h}function b(){return{current:null}}function k(t){return t.children}function x(t,i){this.props=t,this.context=i}function S(t,i){if(null==i)return t.__?S(t.__,t.__i+1):null;for(var n;i<t.__k.length;i++)if(null!=(n=t.__k[i])&&null!=n.__e)return n.__e;return"function"==typeof t.type?S(t):null}function C(t){var i,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,i=0;i<t.__k.length;i++)if(null!=(n=t.__k[i])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return C(t)}}function M(t){(!t.__d&&(t.__d=!0)&&s.push(t)&&!$.__r++||h!=r.debounceRendering)&&((h=r.debounceRendering)||l)($)}function $(){for(var t,i,n,a,o,h,l,p=1;s.length;)s.length>p&&s.sort(c),t=s.shift(),p=s.length,t.__d&&(n=void 0,o=(a=(i=t).__v).__e,h=[],l=[],i.__P&&((n=d({},a)).__v=a.__v+1,r.vnode&&r.vnode(n),O(i.__P,n,a,i.__n,i.__P.namespaceURI,32&a.__u?[o]:null,h,null==o?S(a):o,!!(32&a.__u),l),n.__v=a.__v,n.__.__k[n.__i]=n,N(h,n,l),n.__e!=o&&C(n)));$.__r=0}function I(t,i,n,a,r,o,s,h,l,c,p){var u,f,v,y,W,U,X=a&&a.__k||R,Y=i.length;for(l=P(n,i,X,l,Y),u=0;u<Y;u++)null!=(v=n.__k[u])&&(f=-1==v.__i?w:X[v.__i]||w,v.__i=u,U=O(t,v,f,r,o,s,h,l,c,p),y=v.__e,v.ref&&f.ref!=v.ref&&(f.ref&&B(f.ref,null,v),p.push(v.ref,v.__c||y,v)),null==W&&null!=y&&(W=y),4&v.__u||f.__k===v.__k?l=A(v,l,t):"function"==typeof v.type&&void 0!==U?l=U:y&&(l=y.nextSibling),v.__u&=-7);return n.__e=W,l}function P(t,i,n,a,r){var o,s,h,l,c,p=n.length,u=p,f=0;for(t.__k=new Array(r),o=0;o<r;o++)null!=(s=i[o])&&"boolean"!=typeof s&&"function"!=typeof s?(l=o+f,(s=t.__k[o]="string"==typeof s||"number"==typeof s||"bigint"==typeof s||s.constructor==String?m(null,s,null,null,null):U(s)?m(k,{children:s},null,null,null):null==s.constructor&&s.__b>0?m(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,h=null,-1!=(c=s.__i=L(s,n,l,u))&&(u--,(h=n[c])&&(h.__u|=2)),null==h||null==h.__v?(-1==c&&(r>p?f--:r<p&&f++),"function"!=typeof s.type&&(s.__u|=4)):c!=l&&(c==l-1?f--:c==l+1?f++:(c>l?f--:f++,s.__u|=4))):t.__k[o]=null;if(u)for(o=0;o<p;o++)null!=(h=n[o])&&!(2&h.__u)&&(h.__e==a&&(a=S(h)),D(h,h));return a}function A(t,i,n){var a,r;if("function"==typeof t.type){for(a=t.__k,r=0;a&&r<a.length;r++)a[r]&&(a[r].__=t,i=A(a[r],i,n));return i}t.__e!=i&&(i&&t.type&&!n.contains(i)&&(i=S(t)),n.insertBefore(t.__e,i||null),i=t.__e);do{i=i&&i.nextSibling}while(null!=i&&8==i.nodeType);return i}function H(t,i){return i=i||[],null==t||"boolean"==typeof t||(U(t)?t.some(function(t){H(t,i)}):i.push(t)),i}function L(t,i,n,a){var r,o,s,h=t.key,l=t.type,c=i[n],p=null!=c&&!(2&c.__u);if(null===c&&null==t.key||p&&h==c.key&&l==c.type)return n;if(a>(p?1:0))for(r=n-1,o=n+1;r>=0||o<i.length;)if(null!=(c=i[s=r>=0?r--:o++])&&!(2&c.__u)&&h==c.key&&l==c.type)return s;return-1}function T(t,i,n){"-"==i[0]?t.setProperty(i,null==n?"":n):t[i]=null==n?"":"number"!=typeof n||W.test(i)?n:n+"px"}function j(t,i,n,a,r){var o,s;t:if("style"==i)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof a&&(t.style.cssText=a=""),a)for(i in a)n&&i in n||T(t.style,i,"");if(n)for(i in n)a&&n[i]==a[i]||T(t.style,i,n[i])}else if("o"==i[0]&&"n"==i[1])o=i!=(i=i.replace(p,"$1")),s=i.toLowerCase(),i=s in t||"onFocusOut"==i||"onFocusIn"==i?s.slice(2):i.slice(2),t.l||(t.l={}),t.l[i+o]=n,n?a?n.u=a.u:(n.u=u,t.addEventListener(i,o?v:f,o)):t.removeEventListener(i,o?v:f,o);else{if("http://www.w3.org/2000/svg"==r)i=i.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=i&&"height"!=i&&"href"!=i&&"list"!=i&&"form"!=i&&"tabIndex"!=i&&"download"!=i&&"rowSpan"!=i&&"colSpan"!=i&&"role"!=i&&"popover"!=i&&i in t)try{t[i]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!=i[4]?t.removeAttribute(i):t.setAttribute(i,"popover"==i&&1==n?"":n))}}function F(t){return function(i){if(this.l){var n=this.l[i.type+t];if(null==i.t)i.t=u++;else if(i.t<n.u)return;return n(r.event?r.event(i):i)}}}function O(t,i,n,a,o,s,h,l,c,p){var u,f,v,y,w,R,W,X,Y,Z,Q,J,tt,et,it,nt,at,rt=i.type;if(null!=i.constructor)return null;128&n.__u&&(c=!!(32&n.__u),s=[l=i.__e=n.__e]),(u=r.__b)&&u(i);t:if("function"==typeof rt)try{if(X=i.props,Y="prototype"in rt&&rt.prototype.render,Z=(u=rt.contextType)&&a[u.__c],Q=u?Z?Z.props.value:u.__:a,n.__c?W=(f=i.__c=n.__c).__=f.__E:(Y?i.__c=f=new rt(X,Q):(i.__c=f=new x(X,Q),f.constructor=rt,f.render=E),Z&&Z.sub(f),f.props=X,f.state||(f.state={}),f.context=Q,f.__n=a,v=f.__d=!0,f.__h=[],f._sb=[]),Y&&null==f.__s&&(f.__s=f.state),Y&&null!=rt.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,rt.getDerivedStateFromProps(X,f.__s))),y=f.props,w=f.state,f.__v=i,v)Y&&null==rt.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),Y&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(Y&&null==rt.getDerivedStateFromProps&&X!==y&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(X,Q),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(X,f.__s,Q)||i.__v==n.__v){for(i.__v!=n.__v&&(f.props=X,f.state=f.__s,f.__d=!1),i.__e=n.__e,i.__k=n.__k,i.__k.some(function(t){t&&(t.__=i)}),J=0;J<f._sb.length;J++)f.__h.push(f._sb[J]);f._sb=[],f.__h.length&&h.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(X,f.__s,Q),Y&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(y,w,R)})}if(f.context=Q,f.props=X,f.__P=t,f.__e=!1,tt=r.__r,et=0,Y){for(f.state=f.__s,f.__d=!1,tt&&tt(i),u=f.render(f.props,f.state,f.context),it=0;it<f._sb.length;it++)f.__h.push(f._sb[it]);f._sb=[]}else do{f.__d=!1,tt&&tt(i),u=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++et<25);f.state=f.__s,null!=f.getChildContext&&(a=d(d({},a),f.getChildContext())),Y&&!v&&null!=f.getSnapshotBeforeUpdate&&(R=f.getSnapshotBeforeUpdate(y,w)),nt=u,null!=u&&u.type===k&&null==u.key&&(nt=V(u.props.children)),l=I(t,U(nt)?nt:[nt],i,n,a,o,s,h,l,c,p),f.base=i.__e,i.__u&=-161,f.__h.length&&h.push(f),W&&(f.__E=f.__=null)}catch(t){if(i.__v=null,c||null!=s)if(t.then){for(i.__u|=c?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,i.__e=l}else{for(at=s.length;at--;)g(s[at]);z(i)}else i.__e=n.__e,i.__k=n.__k,t.then||z(i);r.__e(t,i,n)}else null==s&&i.__v==n.__v?(i.__k=n.__k,i.__e=n.__e):l=i.__e=q(n.__e,i,n,a,o,s,h,c,p);return(u=r.diffed)&&u(i),128&i.__u?void 0:l}function z(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(z)}function N(t,i,n){for(var a=0;a<n.length;a++)B(n[a],n[++a],n[++a]);r.__c&&r.__c(i,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(t){t.call(i)})}catch(t){r.__e(t,i.__v)}})}function V(t){return"object"!=(0,y.A)(t)||null==t||t.__b&&t.__b>0?t:U(t)?t.map(V):d({},t)}function q(t,i,n,o,s,h,l,c,p){var u,f,v,y,R,W,X,Y=n.props,Z=i.props,Q=i.type;if("svg"==Q?s="http://www.w3.org/2000/svg":"math"==Q?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),null!=h)for(u=0;u<h.length;u++)if((R=h[u])&&"setAttribute"in R==!!Q&&(Q?R.localName==Q:3==R.nodeType)){t=R,h[u]=null;break}if(null==t){if(null==Q)return document.createTextNode(Z);t=document.createElementNS(s,Q,Z.is&&Z),c&&(r.__m&&r.__m(i,h),c=!1),h=null}if(null==Q)Y===Z||c&&t.data==Z||(t.data=Z);else{if(h=h&&a.call(t.childNodes),Y=n.props||w,!c&&null!=h)for(Y={},u=0;u<t.attributes.length;u++)Y[(R=t.attributes[u]).name]=R.value;for(u in Y)if(R=Y[u],"children"==u);else if("dangerouslySetInnerHTML"==u)v=R;else if(!(u in Z)){if("value"==u&&"defaultValue"in Z||"checked"==u&&"defaultChecked"in Z)continue;j(t,u,null,R,s)}for(u in Z)R=Z[u],"children"==u?y=R:"dangerouslySetInnerHTML"==u?f=R:"value"==u?W=R:"checked"==u?X=R:c&&"function"!=typeof R||Y[u]===R||j(t,u,R,Y[u],s);if(f)c||v&&(f.__html==v.__html||f.__html==t.innerHTML)||(t.innerHTML=f.__html),i.__k=[];else if(v&&(t.innerHTML=""),I("template"==i.type?t.content:t,U(y)?y:[y],i,n,o,"foreignObject"==Q?"http://www.w3.org/1999/xhtml":s,h,l,h?h[0]:n.__k&&S(n,0),c,p),null!=h)for(u=h.length;u--;)g(h[u]);c||(u="value","progress"==Q&&null==W?t.removeAttribute("value"):null!=W&&(W!==t[u]||"progress"==Q&&!W||"option"==Q&&W!=Y[u])&&j(t,u,W,Y[u],s),u="checked",null!=X&&X!=t[u]&&j(t,u,X,Y[u],s))}return t}function B(t,i,n){try{if("function"==typeof t){var a="function"==typeof t.__u;a&&t.__u(),a&&null==i||(t.__u=t(i))}else t.current=i}catch(t){r.__e(t,n)}}function D(t,i,n){var a,o;if(r.unmount&&r.unmount(t),(a=t.ref)&&(a.current&&a.current!=t.__e||B(a,null,i)),null!=(a=t.__c)){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(t){r.__e(t,i)}a.base=a.__P=null}if(a=t.__k)for(o=0;o<a.length;o++)a[o]&&D(a[o],i,n||"function"!=typeof t.type);n||g(t.__e),t.__c=t.__=t.__e=void 0}function E(t,i,n){return this.constructor(t,n)}function G(t,i,n){var o,s,h,l;i==document&&(i=document.documentElement),r.__&&r.__(t,i),s=(o="function"==typeof n)?null:n&&n.__k||i.__k,h=[],l=[],O(i,t=(!o&&n||i).__k=_(k,null,[t]),s||w,w,i.namespaceURI,!o&&n?[n]:s?null:i.firstChild?a.call(i.childNodes):null,h,!o&&n?n:s?s.__e:i.firstChild,o,l),N(h,t,l)}function K(t,i,n){var r,o,s,h,l=d({},t.props);for(s in t.type&&t.type.defaultProps&&(h=t.type.defaultProps),i)"key"==s?r=i[s]:"ref"==s?o=i[s]:l[s]=void 0===i[s]&&null!=h?h[s]:i[s];return arguments.length>2&&(l.children=arguments.length>3?a.call(arguments,2):n),m(t.type,l,r||t.key,o||t.ref,null)}a=R.slice,r={__e:function __e(t,i,n,a){for(var r,o,s;i=i.__;)if((r=i.__c)&&!r.__)try{if((o=r.constructor)&&null!=o.getDerivedStateFromError&&(r.setState(o.getDerivedStateFromError(t)),s=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(t,a||{}),s=r.__d),s)return r.__E=r}catch(i){t=i}throw t}},o=0,x.prototype.setState=function(t,i){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},n),this.props)),t&&d(n,t),null!=t&&this.__v&&(i&&this._sb.push(i),M(this))},x.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),M(this))},x.prototype.render=k,s=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function e(t,i){return t.__v.__b-i.__v.__b},$.__r=0,p=/(PointerCapture)$|Capture$/i,u=0,f=F(!1),v=F(!0)},54024:(t,i,n)=>{"use strict";n.d(i,{A:()=>u});var a=n(51531),r=n(18180),o=n(58237),s=n(84285);n(52675),n(83237),n(31073),n(16280),n(76918),n(2008),n(51629),n(64346),n(48598),n(44114),n(69085),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(84864),n(57465),n(27495),n(87745),n(38781),n(25440),n(90744),n(98992),n(54520),n(3949),n(23500);function ownKeys(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(n),!0).forEach(function(i){(0,a.A)(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function _classPrivateFieldLooseBase(t,i){if(!Object.prototype.hasOwnProperty.call(t,i))throw new TypeError("attempted to use private field on non-instance");return t}var h=0;function _classPrivateFieldLooseKey(t){return"__private_"+h+++"_"+t}function insertReplacement(t,i,n){var a=[];return t.forEach(function(t){return"string"!=typeof t?a.push(t):i[Symbol.split](t).forEach(function(t,i,r){""!==t&&a.push(t),i<r.length-1&&a.push(n)})}),a}function interpolate(t,i){var n=/\$/g,a=[t];if(null==i)return a;for(var r=0,o=Object.keys(i);r<o.length;r++){var s=o[r];if("_"!==s){var h=i[s];"string"==typeof h&&(h=n[Symbol.replace](h,"$$$$")),a=insertReplacement(a,new RegExp("%\\{".concat(s,"\\}"),"g"),h)}}return a}var l=function defaultOnMissingKey(t){throw new Error("missing string: ".concat(t))},c=_classPrivateFieldLooseKey("onMissingKey"),p=_classPrivateFieldLooseKey("apply"),u=function(){return(0,s.A)(function Translator(t,i){(0,o.A)(this,Translator);var n=(void 0===i?{}:i).onMissingKey,a=void 0===n?l:n;Object.defineProperty(this,p,{value:_apply2}),Object.defineProperty(this,c,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:function pluralize(t){return 1===t?0:1}},Array.isArray(t)?t.forEach(_classPrivateFieldLooseBase(this,p)[p],this):_classPrivateFieldLooseBase(this,p)[p](t),_classPrivateFieldLooseBase(this,c)[c]=a},[{key:"translate",value:function translate(t,i){return this.translateArray(t,i).join("")}},{key:"translateArray",value:function translateArray(t,i){var n=this.locale.strings[t];if(null==n&&(_classPrivateFieldLooseBase(this,c)[c](t),n=t),"object"===(0,r.A)(n)){if(i&&void 0!==i.smart_count)return interpolate(n[this.locale.pluralize(i.smart_count)],i);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof n)throw new Error("string was not a string");return interpolate(n,i)}}])}();function _apply2(t){if(null!=t&&t.strings){var i=this.locale;Object.assign(this.locale,{strings:_objectSpread(_objectSpread({},i.strings),t.strings),pluralize:t.pluralize||i.pluralize})}}},80309:(t,i,n)=>{"use strict";n.r(i),n.d(i,{"default":()=>Z});n(52675),n(2008),n(51629),n(44114),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(60825),n(98992),n(54520),n(3949),n(23500);var a=n(51531),r=n(58237),o=n(84285),s=n(68119),h=n(36858),l=n(31061),c=(n(62010),n(27495),n(90906),n(23677)),p=n(36480),u=(n(23792),n(94170),n(2892),n(47764),n(62953),n(3296),n(27208),n(48408),n(34383));const f=function getCanvasDataThatFitsPerfectlyIntoContainer(t,i){var n=t.width/i.width,a=t.height/i.height,r=Math.min(n,a),o=i.width*r,s=i.height*r;return{width:o,height:s,left:(t.width-o)/2,top:(t.height-s)/2}};const v=function getScaleFactorThatRemovesDarkCorners(t,i,n){var a=Math.abs(function toRadians(t){return t*(Math.PI/180)}(n));return Math.max((Math.sin(a)*t+Math.cos(a)*i)/i,(Math.sin(a)*i+Math.cos(a)*t)/t)};const y=function limitCropboxMovementOnMove(t,i,n){return i.left<t.left?{left:t.left,width:n.width}:i.top<t.top?{top:t.top,height:n.height}:i.left+i.width>t.left+t.width?{left:t.left+t.width-n.width,width:n.width}:i.top+i.height>t.top+t.height?{top:t.top+t.height-n.height,height:n.height}:null};const w=function limitCropboxMovementOnResize(t,i,n){return i.left<t.left?{left:t.left,width:n.left+n.width-t.left}:i.top<t.top?{top:t.top,height:n.top+n.height-t.top}:i.left+i.width>t.left+t.width?{left:n.left,width:t.left+t.width-n.left}:i.top+i.height>t.top+t.height?{top:n.top,height:t.top+t.height-n.top}:null};function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var R=function(t){function Editor(t){var i;return(0,r.A)(this,Editor),(i=function _callSuper(t,i,n){return i=(0,h.A)(i),(0,s.A)(t,_isNativeReflectConstruct()?Reflect.construct(i,n||[],(0,h.A)(t).constructor):i.apply(t,n))}(this,Editor,[t])).onRotate90Deg=function(){var t=i.state.angle90Deg-90;i.setState({angle90Deg:t,angleGranular:0}),i.cropper.scale(1),i.cropper.rotateTo(t);var n=i.cropper.getCanvasData(),a=i.cropper.getContainerData(),r=f(a,n);i.cropper.setCanvasData(r),i.cropper.setCropBoxData(r)},i.onRotateGranular=function(t){var n=Number(t.target.value);i.setState({angleGranular:n});var a=i.state.angle90Deg+n;i.cropper.rotateTo(a);var r=i.cropper.getImageData(),o=v(r.naturalWidth,r.naturalHeight,n),s=i.cropper.getImageData().scaleX<0?-o:o;i.cropper.scale(s,o)},i.state={angle90Deg:0,angleGranular:0,prevCropboxData:null},i.storePrevCropboxData=i.storePrevCropboxData.bind(i),i.limitCropboxMovement=i.limitCropboxMovement.bind(i),i}return(0,l.A)(Editor,t),(0,o.A)(Editor,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props,i=t.opts,n=t.storeCropperInstance;this.cropper=new u(this.imgElement,i.cropperOptions),this.imgElement.addEventListener("cropstart",this.storePrevCropboxData),this.imgElement.addEventListener("cropend",this.limitCropboxMovement),n(this.cropper)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.cropper.destroy(),this.imgElement.removeEventListener("cropstart",this.storePrevCropboxData),this.imgElement.removeEventListener("cropend",this.limitCropboxMovement)}},{key:"storePrevCropboxData",value:function storePrevCropboxData(){this.setState({prevCropboxData:this.cropper.getCropBoxData()})}},{key:"limitCropboxMovement",value:function limitCropboxMovement(t){var i=this.cropper.getCanvasData(),n=this.cropper.getCropBoxData(),a=this.state.prevCropboxData;if("all"===t.detail.action){var r=y(i,n,a);r&&this.cropper.setCropBoxData(r)}else{var o=w(i,n,a);o&&this.cropper.setCropBoxData(o)}}},{key:"renderGranularRotate",value:function renderGranularRotate(){var t=this.props.i18n,i=this.state.angleGranular;return(0,p.h)("label",{role:"tooltip","aria-label":"".concat(i,""),"data-microtip-position":"top",className:"uppy-ImageCropper-rangeWrapper"},(0,p.h)("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.onRotateGranular,onChange:this.onRotateGranular,value:i,min:"-45",max:"45","aria-label":t("rotate")}))}},{key:"renderRevert",value:function renderRevert(){var t=this,i=this.props,n=i.i18n,a=i.opts;return(0,p.h)("label",{role:"tooltip","aria-label":n("revert"),"data-microtip-position":"top"},(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function onClick(){t.cropper.reset(),t.cropper.setAspectRatio(a.cropperOptions.initialAspectRatio),t.setState({angle90Deg:0,angleGranular:0})}},(0,p.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,p.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,p.h)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}))))}},{key:"renderRotate",value:function renderRotate(){var t=this.props.i18n;return(0,p.h)("label",{role:"tooltip","aria-label":t("rotate"),"data-microtip-position":"top"},(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:this.onRotate90Deg},(0,p.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,p.h)("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),(0,p.h)("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"}))))}},{key:"renderFlip",value:function renderFlip(){var t=this,i=this.props.i18n;return(0,p.h)("label",{role:"tooltip","aria-label":i("flipHorizontal"),"data-microtip-position":"top"},(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function onClick(){return t.cropper.scaleX(-t.cropper.getData().scaleX||-1)}},(0,p.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,p.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,p.h)("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"}))))}},{key:"renderZoomIn",value:function renderZoomIn(){var t=this,i=this.props.i18n;return(0,p.h)("label",{role:"tooltip","aria-label":i("zoomIn"),"data-microtip-position":"top"},(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function onClick(){return t.cropper.zoom(.1)}},(0,p.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},(0,p.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,p.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),(0,p.h)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))))}},{key:"renderZoomOut",value:function renderZoomOut(){var t=this,i=this.props.i18n;return(0,p.h)("label",{role:"tooltip","aria-label":i("zoomOut"),"data-microtip-position":"top"},(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function onClick(){return t.cropper.zoom(-.1)}},(0,p.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,p.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,p.h)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}))))}},{key:"renderCropSquare",value:function renderCropSquare(){var t=this,i=this.props.i18n;return(0,p.h)("label",{role:"tooltip","aria-label":i("aspectRatioSquare"),"data-microtip-position":"top"},(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function onClick(){return t.cropper.setAspectRatio(1)}},(0,p.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,p.h)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,p.h)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))))}},{key:"renderCropWidescreen",value:function renderCropWidescreen(){var t=this,i=this.props.i18n;return(0,p.h)("label",{role:"tooltip","aria-label":i("aspectRatioLandscape"),"data-microtip-position":"top"},(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function onClick(){return t.cropper.setAspectRatio(16/9)}},(0,p.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,p.h)("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),(0,p.h)("path",{fill:"none",d:"M0 0h24v24H0z"}))))}},{key:"renderCropWidescreenVertical",value:function renderCropWidescreenVertical(){var t=this,i=this.props.i18n;return(0,p.h)("label",{role:"tooltip","aria-label":i("aspectRatioPortrait"),"data-microtip-position":"top"},(0,p.h)("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function onClick(){return t.cropper.setAspectRatio(9/16)}},(0,p.h)("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,p.h)("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),(0,p.h)("path",{d:"M0 0h24v24H0z",fill:"none"}))))}},{key:"render",value:function render(){var t=this,i=this.props,n=i.currentImage,a=i.opts.actions,r=URL.createObjectURL(n.data);return(0,p.h)("div",{className:"uppy-ImageCropper"},(0,p.h)("div",{className:"uppy-ImageCropper-container"},(0,p.h)("img",{className:"uppy-ImageCropper-image",alt:n.name,src:r,ref:function ref(i){t.imgElement=i}})),(0,p.h)("div",{className:"uppy-ImageCropper-controls"},a.revert&&this.renderRevert(),a.rotate&&this.renderRotate(),a.granularRotate&&this.renderGranularRotate(),a.flip&&this.renderFlip(),a.zoomIn&&this.renderZoomIn(),a.zoomOut&&this.renderZoomOut(),a.cropSquare&&this.renderCropSquare(),a.cropWidescreen&&this.renderCropWidescreen(),a.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}}])}(p.uA);const W={strings:{revert:"Reset",rotate:"Rotate 90",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontally",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}};function ownKeys(t,i){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function _objectSpread(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(n),!0).forEach(function(i){(0,a.A)(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function ImageEditor_isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ImageEditor_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var U={viewMode:0,background:!1,autoCropArea:1,responsive:!0,minCropBoxWidth:70,minCropBoxHeight:70,croppedCanvasOptions:{},initialAspectRatio:0},X={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},Y={quality:.8,actions:X,cropperOptions:U},Z=function(t){function ImageEditor(t,i){var n;return(0,r.A)(this,ImageEditor),(n=function ImageEditor_callSuper(t,i,n){return i=(0,h.A)(i),(0,s.A)(t,ImageEditor_isNativeReflectConstruct()?Reflect.construct(i,n||[],(0,h.A)(t).constructor):i.apply(t,n))}(this,ImageEditor,[t,_objectSpread(_objectSpread(_objectSpread({},Y),i),{},{actions:_objectSpread(_objectSpread({},X),null==i?void 0:i.actions),cropperOptions:_objectSpread(_objectSpread({},U),null==i?void 0:i.cropperOptions)})])).save=function(){var t=n.getPluginState().currentImage,i=n.cropper.getCroppedCanvas({});i.width%2!=0&&n.cropper.setData({width:i.width-1}),i.height%2!=0&&n.cropper.setData({height:i.height-1}),n.cropper.getCroppedCanvas(n.opts.cropperOptions.croppedCanvasOptions).toBlob(function saveBlobCallback(t){var i=n.getPluginState().currentImage;n.uppy.setFileState(i.id,{data:new File([t],i.name,{type:t.type}),size:t.size,preview:void 0});var a=n.uppy.getFile(i.id);n.uppy.emit("thumbnail:request",a),n.setPluginState({currentImage:a}),n.uppy.emit("file-editor:complete",a)},t.type,n.opts.quality)},n.storeCropperInstance=function(t){n.cropper=t},n.selectFile=function(t){n.uppy.emit("file-editor:start",t),n.setPluginState({currentImage:t})},n.id=n.opts.id||"ImageEditor",n.title="Image Editor",n.type="editor",n.defaultLocale=W,n.i18nInit(),n}return(0,l.A)(ImageEditor,t),(0,o.A)(ImageEditor,[{key:"canEditFile",value:function canEditFile(t){if(!t.type||t.isRemote)return!1;var i=t.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(i)}},{key:"install",value:function install(){this.setPluginState({currentImage:null});var t=this.opts.target;t&&this.mount(t,this)}},{key:"uninstall",value:function uninstall(){var t=this.getPluginState().currentImage;if(t){var i=this.uppy.getFile(t.id);this.uppy.emit("file-editor:cancel",i)}this.unmount()}},{key:"render",value:function render(){var t=this.getPluginState().currentImage;return null===t||t.isRemote?null:(0,p.h)(R,{currentImage:t,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}])}(c.A);Z.VERSION="2.4.4"},83237:(t,i,n)=>{"use strict";n(70511)("replace")}}]);